(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(n){if(n.ep)return;n.ep=!0;const r=s(n);fetch(n.href,r)}})();var Ze=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Eg(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var s=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var n=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(s,i,n.get?n:{enumerable:!0,get:function(){return t[i]}})}),s}var sf={exports:{}},ko={},nf={exports:{}},F={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Un=Symbol.for("react.element"),Cg=Symbol.for("react.portal"),Pg=Symbol.for("react.fragment"),Tg=Symbol.for("react.strict_mode"),Rg=Symbol.for("react.profiler"),Mg=Symbol.for("react.provider"),Og=Symbol.for("react.context"),Lg=Symbol.for("react.forward_ref"),Ig=Symbol.for("react.suspense"),$g=Symbol.for("react.memo"),Ag=Symbol.for("react.lazy"),Ch=Symbol.iterator;function zg(t){return t===null||typeof t!="object"?null:(t=Ch&&t[Ch]||t["@@iterator"],typeof t=="function"?t:null)}var rf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},of=Object.assign,lf={};function Ti(t,e,s){this.props=t,this.context=e,this.refs=lf,this.updater=s||rf}Ti.prototype.isReactComponent={};Ti.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ti.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function af(){}af.prototype=Ti.prototype;function mu(t,e,s){this.props=t,this.context=e,this.refs=lf,this.updater=s||rf}var gu=mu.prototype=new af;gu.constructor=mu;of(gu,Ti.prototype);gu.isPureReactComponent=!0;var Ph=Array.isArray,uf=Object.prototype.hasOwnProperty,vu={current:null},hf={key:!0,ref:!0,__self:!0,__source:!0};function cf(t,e,s){var i,n={},r=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(r=""+e.key),e)uf.call(e,i)&&!hf.hasOwnProperty(i)&&(n[i]=e[i]);var l=arguments.length-2;if(l===1)n.children=s;else if(1<l){for(var a=Array(l),h=0;h<l;h++)a[h]=arguments[h+2];n.children=a}if(t&&t.defaultProps)for(i in l=t.defaultProps,l)n[i]===void 0&&(n[i]=l[i]);return{$$typeof:Un,type:t,key:r,ref:o,props:n,_owner:vu.current}}function Fg(t,e){return{$$typeof:Un,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function yu(t){return typeof t=="object"&&t!==null&&t.$$typeof===Un}function Dg(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(s){return e[s]})}var Th=/\/+/g;function sl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Dg(""+t.key):e.toString(36)}function Cr(t,e,s,i,n){var r=typeof t;(r==="undefined"||r==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(r){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Un:case Cg:o=!0}}if(o)return o=t,n=n(o),t=i===""?"."+sl(o,0):i,Ph(n)?(s="",t!=null&&(s=t.replace(Th,"$&/")+"/"),Cr(n,e,s,"",function(h){return h})):n!=null&&(yu(n)&&(n=Fg(n,s+(!n.key||o&&o.key===n.key?"":(""+n.key).replace(Th,"$&/")+"/")+t)),e.push(n)),1;if(o=0,i=i===""?".":i+":",Ph(t))for(var l=0;l<t.length;l++){r=t[l];var a=i+sl(r,l);o+=Cr(r,e,s,a,n)}else if(a=zg(t),typeof a=="function")for(t=a.call(t),l=0;!(r=t.next()).done;)r=r.value,a=i+sl(r,l++),o+=Cr(r,e,s,a,n);else if(r==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Zn(t,e,s){if(t==null)return t;var i=[],n=0;return Cr(t,i,"","",function(r){return e.call(s,r,n++)}),i}function Ug(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(s){(t._status===0||t._status===-1)&&(t._status=1,t._result=s)},function(s){(t._status===0||t._status===-1)&&(t._status=2,t._result=s)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ce={current:null},Pr={transition:null},Bg={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:Pr,ReactCurrentOwner:vu};function df(){throw Error("act(...) is not supported in production builds of React.")}F.Children={map:Zn,forEach:function(t,e,s){Zn(t,function(){e.apply(this,arguments)},s)},count:function(t){var e=0;return Zn(t,function(){e++}),e},toArray:function(t){return Zn(t,function(e){return e})||[]},only:function(t){if(!yu(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};F.Component=Ti;F.Fragment=Pg;F.Profiler=Rg;F.PureComponent=mu;F.StrictMode=Tg;F.Suspense=Ig;F.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bg;F.act=df;F.cloneElement=function(t,e,s){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=of({},t.props),n=t.key,r=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(r=e.ref,o=vu.current),e.key!==void 0&&(n=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)uf.call(e,a)&&!hf.hasOwnProperty(a)&&(i[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)i.children=s;else if(1<a){l=Array(a);for(var h=0;h<a;h++)l[h]=arguments[h+2];i.children=l}return{$$typeof:Un,type:t.type,key:n,ref:r,props:i,_owner:o}};F.createContext=function(t){return t={$$typeof:Og,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Mg,_context:t},t.Consumer=t};F.createElement=cf;F.createFactory=function(t){var e=cf.bind(null,t);return e.type=t,e};F.createRef=function(){return{current:null}};F.forwardRef=function(t){return{$$typeof:Lg,render:t}};F.isValidElement=yu;F.lazy=function(t){return{$$typeof:Ag,_payload:{_status:-1,_result:t},_init:Ug}};F.memo=function(t,e){return{$$typeof:$g,type:t,compare:e===void 0?null:e}};F.startTransition=function(t){var e=Pr.transition;Pr.transition={};try{t()}finally{Pr.transition=e}};F.unstable_act=df;F.useCallback=function(t,e){return Ce.current.useCallback(t,e)};F.useContext=function(t){return Ce.current.useContext(t)};F.useDebugValue=function(){};F.useDeferredValue=function(t){return Ce.current.useDeferredValue(t)};F.useEffect=function(t,e){return Ce.current.useEffect(t,e)};F.useId=function(){return Ce.current.useId()};F.useImperativeHandle=function(t,e,s){return Ce.current.useImperativeHandle(t,e,s)};F.useInsertionEffect=function(t,e){return Ce.current.useInsertionEffect(t,e)};F.useLayoutEffect=function(t,e){return Ce.current.useLayoutEffect(t,e)};F.useMemo=function(t,e){return Ce.current.useMemo(t,e)};F.useReducer=function(t,e,s){return Ce.current.useReducer(t,e,s)};F.useRef=function(t){return Ce.current.useRef(t)};F.useState=function(t){return Ce.current.useState(t)};F.useSyncExternalStore=function(t,e,s){return Ce.current.useSyncExternalStore(t,e,s)};F.useTransition=function(){return Ce.current.useTransition()};F.version="18.3.1";nf.exports=F;var _=nf.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vg=_,Wg=Symbol.for("react.element"),qg=Symbol.for("react.fragment"),Hg=Object.prototype.hasOwnProperty,Yg=Vg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Jg={key:!0,ref:!0,__self:!0,__source:!0};function ff(t,e,s){var i,n={},r=null,o=null;s!==void 0&&(r=""+s),e.key!==void 0&&(r=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)Hg.call(e,i)&&!Jg.hasOwnProperty(i)&&(n[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)n[i]===void 0&&(n[i]=e[i]);return{$$typeof:Wg,type:t,key:r,ref:o,props:n,_owner:Yg.current}}ko.Fragment=qg;ko.jsx=ff;ko.jsxs=ff;sf.exports=ko;var u=sf.exports,pf={exports:{}},Be={},mf={exports:{}},gf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(T,L){var I=T.length;T.push(L);e:for(;0<I;){var G=I-1>>>1,se=T[G];if(0<n(se,L))T[G]=L,T[I]=se,I=G;else break e}}function s(T){return T.length===0?null:T[0]}function i(T){if(T.length===0)return null;var L=T[0],I=T.pop();if(I!==L){T[0]=I;e:for(var G=0,se=T.length,ms=se>>>1;G<ms;){var dt=2*(G+1)-1,Ds=T[dt],C=dt+1,A=T[C];if(0>n(Ds,I))C<se&&0>n(A,Ds)?(T[G]=A,T[C]=I,G=C):(T[G]=Ds,T[dt]=I,G=dt);else if(C<se&&0>n(A,I))T[G]=A,T[C]=I,G=C;else break e}}return L}function n(T,L){var I=T.sortIndex-L.sortIndex;return I!==0?I:T.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],h=[],c=1,d=null,f=3,p=!1,g=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(T){for(var L=s(h);L!==null;){if(L.callback===null)i(h);else if(L.startTime<=T)i(h),L.sortIndex=L.expirationTime,e(a,L);else break;L=s(h)}}function b(T){if(x=!1,m(T),!g)if(s(a)!==null)g=!0,bt(S);else{var L=s(h);L!==null&&qe(b,L.startTime-T)}}function S(T,L){g=!1,x&&(x=!1,v(P),P=-1),p=!0;var I=f;try{for(m(L),d=s(a);d!==null&&(!(d.expirationTime>L)||T&&!B());){var G=d.callback;if(typeof G=="function"){d.callback=null,f=d.priorityLevel;var se=G(d.expirationTime<=L);L=t.unstable_now(),typeof se=="function"?d.callback=se:d===s(a)&&i(a),m(L)}else i(a);d=s(a)}if(d!==null)var ms=!0;else{var dt=s(h);dt!==null&&qe(b,dt.startTime-L),ms=!1}return ms}finally{d=null,f=I,p=!1}}var k=!1,j=null,P=-1,O=5,M=-1;function B(){return!(t.unstable_now()-M<O)}function Se(){if(j!==null){var T=t.unstable_now();M=T;var L=!0;try{L=j(!0,T)}finally{L?We():(k=!1,j=null)}}else k=!1}var We;if(typeof y=="function")We=function(){y(Se)};else if(typeof MessageChannel<"u"){var ps=new MessageChannel,Ft=ps.port2;ps.port1.onmessage=Se,We=function(){Ft.postMessage(null)}}else We=function(){w(Se,0)};function bt(T){j=T,k||(k=!0,We())}function qe(T,L){P=w(function(){T(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(T){T.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,bt(S))},t.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<T?Math.floor(1e3/T):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return s(a)},t.unstable_next=function(T){switch(f){case 1:case 2:case 3:var L=3;break;default:L=f}var I=f;f=L;try{return T()}finally{f=I}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(T,L){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var I=f;f=T;try{return L()}finally{f=I}},t.unstable_scheduleCallback=function(T,L,I){var G=t.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?G+I:G):I=G,T){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=I+se,T={id:c++,callback:L,priorityLevel:T,startTime:I,expirationTime:se,sortIndex:-1},I>G?(T.sortIndex=I,e(h,T),s(a)===null&&T===s(h)&&(x?(v(P),P=-1):x=!0,qe(b,I-G))):(T.sortIndex=se,e(a,T),g||p||(g=!0,bt(S))),T},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(T){var L=f;return function(){var I=f;f=L;try{return T.apply(this,arguments)}finally{f=I}}}})(gf);mf.exports=gf;var Gg=mf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qg=_,Ue=Gg;function N(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,s=1;s<arguments.length;s++)e+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vf=new Set,wn={};function As(t,e){yi(t,e),yi(t+"Capture",e)}function yi(t,e){for(wn[t]=e,t=0;t<e.length;t++)vf.add(e[t])}var Mt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ta=Object.prototype.hasOwnProperty,Kg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Rh={},Mh={};function Zg(t){return ta.call(Mh,t)?!0:ta.call(Rh,t)?!1:Kg.test(t)?Mh[t]=!0:(Rh[t]=!0,!1)}function Xg(t,e,s,i){if(s!==null&&s.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:s!==null?!s.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function e0(t,e,s,i){if(e===null||typeof e>"u"||Xg(t,e,s,i))return!0;if(i)return!1;if(s!==null)switch(s.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Pe(t,e,s,i,n,r,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=n,this.mustUseProperty=s,this.propertyName=t,this.type=e,this.sanitizeURL=r,this.removeEmptyString=o}var ye={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ye[t]=new Pe(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ye[e]=new Pe(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ye[t]=new Pe(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ye[t]=new Pe(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ye[t]=new Pe(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ye[t]=new Pe(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ye[t]=new Pe(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ye[t]=new Pe(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ye[t]=new Pe(t,5,!1,t.toLowerCase(),null,!1,!1)});var xu=/[\-:]([a-z])/g;function wu(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(xu,wu);ye[e]=new Pe(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(xu,wu);ye[e]=new Pe(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(xu,wu);ye[e]=new Pe(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ye[t]=new Pe(t,1,!1,t.toLowerCase(),null,!1,!1)});ye.xlinkHref=new Pe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ye[t]=new Pe(t,1,!1,t.toLowerCase(),null,!0,!0)});function bu(t,e,s,i){var n=ye.hasOwnProperty(e)?ye[e]:null;(n!==null?n.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(e0(e,s,n,i)&&(s=null),i||n===null?Zg(e)&&(s===null?t.removeAttribute(e):t.setAttribute(e,""+s)):n.mustUseProperty?t[n.propertyName]=s===null?n.type===3?!1:"":s:(e=n.attributeName,i=n.attributeNamespace,s===null?t.removeAttribute(e):(n=n.type,s=n===3||n===4&&s===!0?"":""+s,i?t.setAttributeNS(i,e,s):t.setAttribute(e,s))))}var At=Qg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xn=Symbol.for("react.element"),Ks=Symbol.for("react.portal"),Zs=Symbol.for("react.fragment"),_u=Symbol.for("react.strict_mode"),sa=Symbol.for("react.profiler"),yf=Symbol.for("react.provider"),xf=Symbol.for("react.context"),Su=Symbol.for("react.forward_ref"),ia=Symbol.for("react.suspense"),na=Symbol.for("react.suspense_list"),ku=Symbol.for("react.memo"),qt=Symbol.for("react.lazy"),wf=Symbol.for("react.offscreen"),Oh=Symbol.iterator;function Di(t){return t===null||typeof t!="object"?null:(t=Oh&&t[Oh]||t["@@iterator"],typeof t=="function"?t:null)}var ee=Object.assign,il;function Zi(t){if(il===void 0)try{throw Error()}catch(s){var e=s.stack.trim().match(/\n( *(at )?)/);il=e&&e[1]||""}return`
`+il+t}var nl=!1;function rl(t,e){if(!t||nl)return"";nl=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var i=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){i=h}t.call(e.prototype)}else{try{throw Error()}catch(h){i=h}t()}}catch(h){if(h&&i&&typeof h.stack=="string"){for(var n=h.stack.split(`
`),r=i.stack.split(`
`),o=n.length-1,l=r.length-1;1<=o&&0<=l&&n[o]!==r[l];)l--;for(;1<=o&&0<=l;o--,l--)if(n[o]!==r[l]){if(o!==1||l!==1)do if(o--,l--,0>l||n[o]!==r[l]){var a=`
`+n[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{nl=!1,Error.prepareStackTrace=s}return(t=t?t.displayName||t.name:"")?Zi(t):""}function t0(t){switch(t.tag){case 5:return Zi(t.type);case 16:return Zi("Lazy");case 13:return Zi("Suspense");case 19:return Zi("SuspenseList");case 0:case 2:case 15:return t=rl(t.type,!1),t;case 11:return t=rl(t.type.render,!1),t;case 1:return t=rl(t.type,!0),t;default:return""}}function ra(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Zs:return"Fragment";case Ks:return"Portal";case sa:return"Profiler";case _u:return"StrictMode";case ia:return"Suspense";case na:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case xf:return(t.displayName||"Context")+".Consumer";case yf:return(t._context.displayName||"Context")+".Provider";case Su:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ku:return e=t.displayName||null,e!==null?e:ra(t.type)||"Memo";case qt:e=t._payload,t=t._init;try{return ra(t(e))}catch{}}return null}function s0(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ra(e);case 8:return e===_u?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function as(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function bf(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function i0(t){var e=bf(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var n=s.get,r=s.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return n.call(this)},set:function(o){i=""+o,r.call(this,o)}}),Object.defineProperty(t,e,{enumerable:s.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function er(t){t._valueTracker||(t._valueTracker=i0(t))}function _f(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var s=e.getValue(),i="";return t&&(i=bf(t)?t.checked?"true":"false":t.value),t=i,t!==s?(e.setValue(t),!0):!1}function Wr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function oa(t,e){var s=e.checked;return ee({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??t._wrapperState.initialChecked})}function Lh(t,e){var s=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;s=as(e.value!=null?e.value:s),t._wrapperState={initialChecked:i,initialValue:s,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Sf(t,e){e=e.checked,e!=null&&bu(t,"checked",e,!1)}function la(t,e){Sf(t,e);var s=as(e.value),i=e.type;if(s!=null)i==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+s):t.value!==""+s&&(t.value=""+s);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?aa(t,e.type,s):e.hasOwnProperty("defaultValue")&&aa(t,e.type,as(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ih(t,e,s){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,s||e===t.value||(t.value=e),t.defaultValue=e}s=t.name,s!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,s!==""&&(t.name=s)}function aa(t,e,s){(e!=="number"||Wr(t.ownerDocument)!==t)&&(s==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+s&&(t.defaultValue=""+s))}var Xi=Array.isArray;function ci(t,e,s,i){if(t=t.options,e){e={};for(var n=0;n<s.length;n++)e["$"+s[n]]=!0;for(s=0;s<t.length;s++)n=e.hasOwnProperty("$"+t[s].value),t[s].selected!==n&&(t[s].selected=n),n&&i&&(t[s].defaultSelected=!0)}else{for(s=""+as(s),e=null,n=0;n<t.length;n++){if(t[n].value===s){t[n].selected=!0,i&&(t[n].defaultSelected=!0);return}e!==null||t[n].disabled||(e=t[n])}e!==null&&(e.selected=!0)}}function ua(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(N(91));return ee({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function $h(t,e){var s=e.value;if(s==null){if(s=e.children,e=e.defaultValue,s!=null){if(e!=null)throw Error(N(92));if(Xi(s)){if(1<s.length)throw Error(N(93));s=s[0]}e=s}e==null&&(e=""),s=e}t._wrapperState={initialValue:as(s)}}function kf(t,e){var s=as(e.value),i=as(e.defaultValue);s!=null&&(s=""+s,s!==t.value&&(t.value=s),e.defaultValue==null&&t.defaultValue!==s&&(t.defaultValue=s)),i!=null&&(t.defaultValue=""+i)}function Ah(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function jf(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ha(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?jf(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var tr,Nf=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,s,i,n){MSApp.execUnsafeLocalFunction(function(){return t(e,s,i,n)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(tr=tr||document.createElement("div"),tr.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=tr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function bn(t,e){if(e){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=e;return}}t.textContent=e}var nn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},n0=["Webkit","ms","Moz","O"];Object.keys(nn).forEach(function(t){n0.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),nn[e]=nn[t]})});function Ef(t,e,s){return e==null||typeof e=="boolean"||e===""?"":s||typeof e!="number"||e===0||nn.hasOwnProperty(t)&&nn[t]?(""+e).trim():e+"px"}function Cf(t,e){t=t.style;for(var s in e)if(e.hasOwnProperty(s)){var i=s.indexOf("--")===0,n=Ef(s,e[s],i);s==="float"&&(s="cssFloat"),i?t.setProperty(s,n):t[s]=n}}var r0=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ca(t,e){if(e){if(r0[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(N(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(N(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(N(61))}if(e.style!=null&&typeof e.style!="object")throw Error(N(62))}}function da(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fa=null;function ju(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var pa=null,di=null,fi=null;function zh(t){if(t=Wn(t)){if(typeof pa!="function")throw Error(N(280));var e=t.stateNode;e&&(e=Po(e),pa(t.stateNode,t.type,e))}}function Pf(t){di?fi?fi.push(t):fi=[t]:di=t}function Tf(){if(di){var t=di,e=fi;if(fi=di=null,zh(t),e)for(t=0;t<e.length;t++)zh(e[t])}}function Rf(t,e){return t(e)}function Mf(){}var ol=!1;function Of(t,e,s){if(ol)return t(e,s);ol=!0;try{return Rf(t,e,s)}finally{ol=!1,(di!==null||fi!==null)&&(Mf(),Tf())}}function _n(t,e){var s=t.stateNode;if(s===null)return null;var i=Po(s);if(i===null)return null;s=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(N(231,e,typeof s));return s}var ma=!1;if(Mt)try{var Ui={};Object.defineProperty(Ui,"passive",{get:function(){ma=!0}}),window.addEventListener("test",Ui,Ui),window.removeEventListener("test",Ui,Ui)}catch{ma=!1}function o0(t,e,s,i,n,r,o,l,a){var h=Array.prototype.slice.call(arguments,3);try{e.apply(s,h)}catch(c){this.onError(c)}}var rn=!1,qr=null,Hr=!1,ga=null,l0={onError:function(t){rn=!0,qr=t}};function a0(t,e,s,i,n,r,o,l,a){rn=!1,qr=null,o0.apply(l0,arguments)}function u0(t,e,s,i,n,r,o,l,a){if(a0.apply(this,arguments),rn){if(rn){var h=qr;rn=!1,qr=null}else throw Error(N(198));Hr||(Hr=!0,ga=h)}}function zs(t){var e=t,s=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(s=e.return),t=e.return;while(t)}return e.tag===3?s:null}function Lf(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Fh(t){if(zs(t)!==t)throw Error(N(188))}function h0(t){var e=t.alternate;if(!e){if(e=zs(t),e===null)throw Error(N(188));return e!==t?null:t}for(var s=t,i=e;;){var n=s.return;if(n===null)break;var r=n.alternate;if(r===null){if(i=n.return,i!==null){s=i;continue}break}if(n.child===r.child){for(r=n.child;r;){if(r===s)return Fh(n),t;if(r===i)return Fh(n),e;r=r.sibling}throw Error(N(188))}if(s.return!==i.return)s=n,i=r;else{for(var o=!1,l=n.child;l;){if(l===s){o=!0,s=n,i=r;break}if(l===i){o=!0,i=n,s=r;break}l=l.sibling}if(!o){for(l=r.child;l;){if(l===s){o=!0,s=r,i=n;break}if(l===i){o=!0,i=r,s=n;break}l=l.sibling}if(!o)throw Error(N(189))}}if(s.alternate!==i)throw Error(N(190))}if(s.tag!==3)throw Error(N(188));return s.stateNode.current===s?t:e}function If(t){return t=h0(t),t!==null?$f(t):null}function $f(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=$f(t);if(e!==null)return e;t=t.sibling}return null}var Af=Ue.unstable_scheduleCallback,Dh=Ue.unstable_cancelCallback,c0=Ue.unstable_shouldYield,d0=Ue.unstable_requestPaint,ie=Ue.unstable_now,f0=Ue.unstable_getCurrentPriorityLevel,Nu=Ue.unstable_ImmediatePriority,zf=Ue.unstable_UserBlockingPriority,Yr=Ue.unstable_NormalPriority,p0=Ue.unstable_LowPriority,Ff=Ue.unstable_IdlePriority,jo=null,yt=null;function m0(t){if(yt&&typeof yt.onCommitFiberRoot=="function")try{yt.onCommitFiberRoot(jo,t,void 0,(t.current.flags&128)===128)}catch{}}var ut=Math.clz32?Math.clz32:y0,g0=Math.log,v0=Math.LN2;function y0(t){return t>>>=0,t===0?32:31-(g0(t)/v0|0)|0}var sr=64,ir=4194304;function en(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Jr(t,e){var s=t.pendingLanes;if(s===0)return 0;var i=0,n=t.suspendedLanes,r=t.pingedLanes,o=s&268435455;if(o!==0){var l=o&~n;l!==0?i=en(l):(r&=o,r!==0&&(i=en(r)))}else o=s&~n,o!==0?i=en(o):r!==0&&(i=en(r));if(i===0)return 0;if(e!==0&&e!==i&&!(e&n)&&(n=i&-i,r=e&-e,n>=r||n===16&&(r&4194240)!==0))return e;if(i&4&&(i|=s&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)s=31-ut(e),n=1<<s,i|=t[s],e&=~n;return i}function x0(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function w0(t,e){for(var s=t.suspendedLanes,i=t.pingedLanes,n=t.expirationTimes,r=t.pendingLanes;0<r;){var o=31-ut(r),l=1<<o,a=n[o];a===-1?(!(l&s)||l&i)&&(n[o]=x0(l,e)):a<=e&&(t.expiredLanes|=l),r&=~l}}function va(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Df(){var t=sr;return sr<<=1,!(sr&4194240)&&(sr=64),t}function ll(t){for(var e=[],s=0;31>s;s++)e.push(t);return e}function Bn(t,e,s){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ut(e),t[e]=s}function b0(t,e){var s=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<s;){var n=31-ut(s),r=1<<n;e[n]=0,i[n]=-1,t[n]=-1,s&=~r}}function Eu(t,e){var s=t.entangledLanes|=e;for(t=t.entanglements;s;){var i=31-ut(s),n=1<<i;n&e|t[i]&e&&(t[i]|=e),s&=~n}}var V=0;function Uf(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Bf,Cu,Vf,Wf,qf,ya=!1,nr=[],Xt=null,es=null,ts=null,Sn=new Map,kn=new Map,Yt=[],_0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Uh(t,e){switch(t){case"focusin":case"focusout":Xt=null;break;case"dragenter":case"dragleave":es=null;break;case"mouseover":case"mouseout":ts=null;break;case"pointerover":case"pointerout":Sn.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":kn.delete(e.pointerId)}}function Bi(t,e,s,i,n,r){return t===null||t.nativeEvent!==r?(t={blockedOn:e,domEventName:s,eventSystemFlags:i,nativeEvent:r,targetContainers:[n]},e!==null&&(e=Wn(e),e!==null&&Cu(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,n!==null&&e.indexOf(n)===-1&&e.push(n),t)}function S0(t,e,s,i,n){switch(e){case"focusin":return Xt=Bi(Xt,t,e,s,i,n),!0;case"dragenter":return es=Bi(es,t,e,s,i,n),!0;case"mouseover":return ts=Bi(ts,t,e,s,i,n),!0;case"pointerover":var r=n.pointerId;return Sn.set(r,Bi(Sn.get(r)||null,t,e,s,i,n)),!0;case"gotpointercapture":return r=n.pointerId,kn.set(r,Bi(kn.get(r)||null,t,e,s,i,n)),!0}return!1}function Hf(t){var e=Ss(t.target);if(e!==null){var s=zs(e);if(s!==null){if(e=s.tag,e===13){if(e=Lf(s),e!==null){t.blockedOn=e,qf(t.priority,function(){Vf(s)});return}}else if(e===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Tr(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var s=xa(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(s===null){s=t.nativeEvent;var i=new s.constructor(s.type,s);fa=i,s.target.dispatchEvent(i),fa=null}else return e=Wn(s),e!==null&&Cu(e),t.blockedOn=s,!1;e.shift()}return!0}function Bh(t,e,s){Tr(t)&&s.delete(e)}function k0(){ya=!1,Xt!==null&&Tr(Xt)&&(Xt=null),es!==null&&Tr(es)&&(es=null),ts!==null&&Tr(ts)&&(ts=null),Sn.forEach(Bh),kn.forEach(Bh)}function Vi(t,e){t.blockedOn===e&&(t.blockedOn=null,ya||(ya=!0,Ue.unstable_scheduleCallback(Ue.unstable_NormalPriority,k0)))}function jn(t){function e(n){return Vi(n,t)}if(0<nr.length){Vi(nr[0],t);for(var s=1;s<nr.length;s++){var i=nr[s];i.blockedOn===t&&(i.blockedOn=null)}}for(Xt!==null&&Vi(Xt,t),es!==null&&Vi(es,t),ts!==null&&Vi(ts,t),Sn.forEach(e),kn.forEach(e),s=0;s<Yt.length;s++)i=Yt[s],i.blockedOn===t&&(i.blockedOn=null);for(;0<Yt.length&&(s=Yt[0],s.blockedOn===null);)Hf(s),s.blockedOn===null&&Yt.shift()}var pi=At.ReactCurrentBatchConfig,Gr=!0;function j0(t,e,s,i){var n=V,r=pi.transition;pi.transition=null;try{V=1,Pu(t,e,s,i)}finally{V=n,pi.transition=r}}function N0(t,e,s,i){var n=V,r=pi.transition;pi.transition=null;try{V=4,Pu(t,e,s,i)}finally{V=n,pi.transition=r}}function Pu(t,e,s,i){if(Gr){var n=xa(t,e,s,i);if(n===null)vl(t,e,i,Qr,s),Uh(t,i);else if(S0(n,t,e,s,i))i.stopPropagation();else if(Uh(t,i),e&4&&-1<_0.indexOf(t)){for(;n!==null;){var r=Wn(n);if(r!==null&&Bf(r),r=xa(t,e,s,i),r===null&&vl(t,e,i,Qr,s),r===n)break;n=r}n!==null&&i.stopPropagation()}else vl(t,e,i,null,s)}}var Qr=null;function xa(t,e,s,i){if(Qr=null,t=ju(i),t=Ss(t),t!==null)if(e=zs(t),e===null)t=null;else if(s=e.tag,s===13){if(t=Lf(e),t!==null)return t;t=null}else if(s===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Qr=t,null}function Yf(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(f0()){case Nu:return 1;case zf:return 4;case Yr:case p0:return 16;case Ff:return 536870912;default:return 16}default:return 16}}var Qt=null,Tu=null,Rr=null;function Jf(){if(Rr)return Rr;var t,e=Tu,s=e.length,i,n="value"in Qt?Qt.value:Qt.textContent,r=n.length;for(t=0;t<s&&e[t]===n[t];t++);var o=s-t;for(i=1;i<=o&&e[s-i]===n[r-i];i++);return Rr=n.slice(t,1<i?1-i:void 0)}function Mr(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function rr(){return!0}function Vh(){return!1}function Ve(t){function e(s,i,n,r,o){this._reactName=s,this._targetInst=n,this.type=i,this.nativeEvent=r,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(s=t[l],this[l]=s?s(r):r[l]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?rr:Vh,this.isPropagationStopped=Vh,this}return ee(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),e}var Ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ru=Ve(Ri),Vn=ee({},Ri,{view:0,detail:0}),E0=Ve(Vn),al,ul,Wi,No=ee({},Vn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Wi&&(Wi&&t.type==="mousemove"?(al=t.screenX-Wi.screenX,ul=t.screenY-Wi.screenY):ul=al=0,Wi=t),al)},movementY:function(t){return"movementY"in t?t.movementY:ul}}),Wh=Ve(No),C0=ee({},No,{dataTransfer:0}),P0=Ve(C0),T0=ee({},Vn,{relatedTarget:0}),hl=Ve(T0),R0=ee({},Ri,{animationName:0,elapsedTime:0,pseudoElement:0}),M0=Ve(R0),O0=ee({},Ri,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),L0=Ve(O0),I0=ee({},Ri,{data:0}),qh=Ve(I0),$0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},A0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},z0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function F0(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=z0[t])?!!e[t]:!1}function Mu(){return F0}var D0=ee({},Vn,{key:function(t){if(t.key){var e=$0[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Mr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?A0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mu,charCode:function(t){return t.type==="keypress"?Mr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Mr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),U0=Ve(D0),B0=ee({},No,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hh=Ve(B0),V0=ee({},Vn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mu}),W0=Ve(V0),q0=ee({},Ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),H0=Ve(q0),Y0=ee({},No,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),J0=Ve(Y0),G0=[9,13,27,32],Ou=Mt&&"CompositionEvent"in window,on=null;Mt&&"documentMode"in document&&(on=document.documentMode);var Q0=Mt&&"TextEvent"in window&&!on,Gf=Mt&&(!Ou||on&&8<on&&11>=on),Yh=" ",Jh=!1;function Qf(t,e){switch(t){case"keyup":return G0.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Xs=!1;function K0(t,e){switch(t){case"compositionend":return Kf(e);case"keypress":return e.which!==32?null:(Jh=!0,Yh);case"textInput":return t=e.data,t===Yh&&Jh?null:t;default:return null}}function Z0(t,e){if(Xs)return t==="compositionend"||!Ou&&Qf(t,e)?(t=Jf(),Rr=Tu=Qt=null,Xs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Gf&&e.locale!=="ko"?null:e.data;default:return null}}var X0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!X0[t.type]:e==="textarea"}function Zf(t,e,s,i){Pf(i),e=Kr(e,"onChange"),0<e.length&&(s=new Ru("onChange","change",null,s,i),t.push({event:s,listeners:e}))}var ln=null,Nn=null;function ev(t){up(t,0)}function Eo(t){var e=si(t);if(_f(e))return t}function tv(t,e){if(t==="change")return e}var Xf=!1;if(Mt){var cl;if(Mt){var dl="oninput"in document;if(!dl){var Qh=document.createElement("div");Qh.setAttribute("oninput","return;"),dl=typeof Qh.oninput=="function"}cl=dl}else cl=!1;Xf=cl&&(!document.documentMode||9<document.documentMode)}function Kh(){ln&&(ln.detachEvent("onpropertychange",ep),Nn=ln=null)}function ep(t){if(t.propertyName==="value"&&Eo(Nn)){var e=[];Zf(e,Nn,t,ju(t)),Of(ev,e)}}function sv(t,e,s){t==="focusin"?(Kh(),ln=e,Nn=s,ln.attachEvent("onpropertychange",ep)):t==="focusout"&&Kh()}function iv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Eo(Nn)}function nv(t,e){if(t==="click")return Eo(e)}function rv(t,e){if(t==="input"||t==="change")return Eo(e)}function ov(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ct=typeof Object.is=="function"?Object.is:ov;function En(t,e){if(ct(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var s=Object.keys(t),i=Object.keys(e);if(s.length!==i.length)return!1;for(i=0;i<s.length;i++){var n=s[i];if(!ta.call(e,n)||!ct(t[n],e[n]))return!1}return!0}function Zh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Xh(t,e){var s=Zh(t);t=0;for(var i;s;){if(s.nodeType===3){if(i=t+s.textContent.length,t<=e&&i>=e)return{node:s,offset:e-t};t=i}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Zh(s)}}function tp(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?tp(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function sp(){for(var t=window,e=Wr();e instanceof t.HTMLIFrameElement;){try{var s=typeof e.contentWindow.location.href=="string"}catch{s=!1}if(s)t=e.contentWindow;else break;e=Wr(t.document)}return e}function Lu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function lv(t){var e=sp(),s=t.focusedElem,i=t.selectionRange;if(e!==s&&s&&s.ownerDocument&&tp(s.ownerDocument.documentElement,s)){if(i!==null&&Lu(s)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in s)s.selectionStart=e,s.selectionEnd=Math.min(t,s.value.length);else if(t=(e=s.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var n=s.textContent.length,r=Math.min(i.start,n);i=i.end===void 0?r:Math.min(i.end,n),!t.extend&&r>i&&(n=i,i=r,r=n),n=Xh(s,r);var o=Xh(s,i);n&&o&&(t.rangeCount!==1||t.anchorNode!==n.node||t.anchorOffset!==n.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(n.node,n.offset),t.removeAllRanges(),r>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=s;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<e.length;s++)t=e[s],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var av=Mt&&"documentMode"in document&&11>=document.documentMode,ei=null,wa=null,an=null,ba=!1;function ec(t,e,s){var i=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;ba||ei==null||ei!==Wr(i)||(i=ei,"selectionStart"in i&&Lu(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),an&&En(an,i)||(an=i,i=Kr(wa,"onSelect"),0<i.length&&(e=new Ru("onSelect","select",null,e,s),t.push({event:e,listeners:i}),e.target=ei)))}function or(t,e){var s={};return s[t.toLowerCase()]=e.toLowerCase(),s["Webkit"+t]="webkit"+e,s["Moz"+t]="moz"+e,s}var ti={animationend:or("Animation","AnimationEnd"),animationiteration:or("Animation","AnimationIteration"),animationstart:or("Animation","AnimationStart"),transitionend:or("Transition","TransitionEnd")},fl={},ip={};Mt&&(ip=document.createElement("div").style,"AnimationEvent"in window||(delete ti.animationend.animation,delete ti.animationiteration.animation,delete ti.animationstart.animation),"TransitionEvent"in window||delete ti.transitionend.transition);function Co(t){if(fl[t])return fl[t];if(!ti[t])return t;var e=ti[t],s;for(s in e)if(e.hasOwnProperty(s)&&s in ip)return fl[t]=e[s];return t}var np=Co("animationend"),rp=Co("animationiteration"),op=Co("animationstart"),lp=Co("transitionend"),ap=new Map,tc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hs(t,e){ap.set(t,e),As(e,[t])}for(var pl=0;pl<tc.length;pl++){var ml=tc[pl],uv=ml.toLowerCase(),hv=ml[0].toUpperCase()+ml.slice(1);hs(uv,"on"+hv)}hs(np,"onAnimationEnd");hs(rp,"onAnimationIteration");hs(op,"onAnimationStart");hs("dblclick","onDoubleClick");hs("focusin","onFocus");hs("focusout","onBlur");hs(lp,"onTransitionEnd");yi("onMouseEnter",["mouseout","mouseover"]);yi("onMouseLeave",["mouseout","mouseover"]);yi("onPointerEnter",["pointerout","pointerover"]);yi("onPointerLeave",["pointerout","pointerover"]);As("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));As("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));As("onBeforeInput",["compositionend","keypress","textInput","paste"]);As("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));As("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));As("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cv=new Set("cancel close invalid load scroll toggle".split(" ").concat(tn));function sc(t,e,s){var i=t.type||"unknown-event";t.currentTarget=s,u0(i,e,void 0,t),t.currentTarget=null}function up(t,e){e=(e&4)!==0;for(var s=0;s<t.length;s++){var i=t[s],n=i.event;i=i.listeners;e:{var r=void 0;if(e)for(var o=i.length-1;0<=o;o--){var l=i[o],a=l.instance,h=l.currentTarget;if(l=l.listener,a!==r&&n.isPropagationStopped())break e;sc(n,l,h),r=a}else for(o=0;o<i.length;o++){if(l=i[o],a=l.instance,h=l.currentTarget,l=l.listener,a!==r&&n.isPropagationStopped())break e;sc(n,l,h),r=a}}}if(Hr)throw t=ga,Hr=!1,ga=null,t}function Y(t,e){var s=e[Na];s===void 0&&(s=e[Na]=new Set);var i=t+"__bubble";s.has(i)||(hp(e,t,2,!1),s.add(i))}function gl(t,e,s){var i=0;e&&(i|=4),hp(s,t,i,e)}var lr="_reactListening"+Math.random().toString(36).slice(2);function Cn(t){if(!t[lr]){t[lr]=!0,vf.forEach(function(s){s!=="selectionchange"&&(cv.has(s)||gl(s,!1,t),gl(s,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[lr]||(e[lr]=!0,gl("selectionchange",!1,e))}}function hp(t,e,s,i){switch(Yf(e)){case 1:var n=j0;break;case 4:n=N0;break;default:n=Pu}s=n.bind(null,e,s,t),n=void 0,!ma||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(n=!0),i?n!==void 0?t.addEventListener(e,s,{capture:!0,passive:n}):t.addEventListener(e,s,!0):n!==void 0?t.addEventListener(e,s,{passive:n}):t.addEventListener(e,s,!1)}function vl(t,e,s,i,n){var r=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var l=i.stateNode.containerInfo;if(l===n||l.nodeType===8&&l.parentNode===n)break;if(o===4)for(o=i.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===n||a.nodeType===8&&a.parentNode===n))return;o=o.return}for(;l!==null;){if(o=Ss(l),o===null)return;if(a=o.tag,a===5||a===6){i=r=o;continue e}l=l.parentNode}}i=i.return}Of(function(){var h=r,c=ju(s),d=[];e:{var f=ap.get(t);if(f!==void 0){var p=Ru,g=t;switch(t){case"keypress":if(Mr(s)===0)break e;case"keydown":case"keyup":p=U0;break;case"focusin":g="focus",p=hl;break;case"focusout":g="blur",p=hl;break;case"beforeblur":case"afterblur":p=hl;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Wh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=P0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=W0;break;case np:case rp:case op:p=M0;break;case lp:p=H0;break;case"scroll":p=E0;break;case"wheel":p=J0;break;case"copy":case"cut":case"paste":p=L0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Hh}var x=(e&4)!==0,w=!x&&t==="scroll",v=x?f!==null?f+"Capture":null:f;x=[];for(var y=h,m;y!==null;){m=y;var b=m.stateNode;if(m.tag===5&&b!==null&&(m=b,v!==null&&(b=_n(y,v),b!=null&&x.push(Pn(y,b,m)))),w)break;y=y.return}0<x.length&&(f=new p(f,g,null,s,c),d.push({event:f,listeners:x}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&s!==fa&&(g=s.relatedTarget||s.fromElement)&&(Ss(g)||g[Ot]))break e;if((p||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=s.relatedTarget||s.toElement,p=h,g=g?Ss(g):null,g!==null&&(w=zs(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=h),p!==g)){if(x=Wh,b="onMouseLeave",v="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(x=Hh,b="onPointerLeave",v="onPointerEnter",y="pointer"),w=p==null?f:si(p),m=g==null?f:si(g),f=new x(b,y+"leave",p,s,c),f.target=w,f.relatedTarget=m,b=null,Ss(c)===h&&(x=new x(v,y+"enter",g,s,c),x.target=m,x.relatedTarget=w,b=x),w=b,p&&g)t:{for(x=p,v=g,y=0,m=x;m;m=Us(m))y++;for(m=0,b=v;b;b=Us(b))m++;for(;0<y-m;)x=Us(x),y--;for(;0<m-y;)v=Us(v),m--;for(;y--;){if(x===v||v!==null&&x===v.alternate)break t;x=Us(x),v=Us(v)}x=null}else x=null;p!==null&&ic(d,f,p,x,!1),g!==null&&w!==null&&ic(d,w,g,x,!0)}}e:{if(f=h?si(h):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var S=tv;else if(Gh(f))if(Xf)S=rv;else{S=iv;var k=sv}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=nv);if(S&&(S=S(t,h))){Zf(d,S,s,c);break e}k&&k(t,f,h),t==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&aa(f,"number",f.value)}switch(k=h?si(h):window,t){case"focusin":(Gh(k)||k.contentEditable==="true")&&(ei=k,wa=h,an=null);break;case"focusout":an=wa=ei=null;break;case"mousedown":ba=!0;break;case"contextmenu":case"mouseup":case"dragend":ba=!1,ec(d,s,c);break;case"selectionchange":if(av)break;case"keydown":case"keyup":ec(d,s,c)}var j;if(Ou)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Xs?Qf(t,s)&&(P="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(P="onCompositionStart");P&&(Gf&&s.locale!=="ko"&&(Xs||P!=="onCompositionStart"?P==="onCompositionEnd"&&Xs&&(j=Jf()):(Qt=c,Tu="value"in Qt?Qt.value:Qt.textContent,Xs=!0)),k=Kr(h,P),0<k.length&&(P=new qh(P,t,null,s,c),d.push({event:P,listeners:k}),j?P.data=j:(j=Kf(s),j!==null&&(P.data=j)))),(j=Q0?K0(t,s):Z0(t,s))&&(h=Kr(h,"onBeforeInput"),0<h.length&&(c=new qh("onBeforeInput","beforeinput",null,s,c),d.push({event:c,listeners:h}),c.data=j))}up(d,e)})}function Pn(t,e,s){return{instance:t,listener:e,currentTarget:s}}function Kr(t,e){for(var s=e+"Capture",i=[];t!==null;){var n=t,r=n.stateNode;n.tag===5&&r!==null&&(n=r,r=_n(t,s),r!=null&&i.unshift(Pn(t,r,n)),r=_n(t,e),r!=null&&i.push(Pn(t,r,n))),t=t.return}return i}function Us(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ic(t,e,s,i,n){for(var r=e._reactName,o=[];s!==null&&s!==i;){var l=s,a=l.alternate,h=l.stateNode;if(a!==null&&a===i)break;l.tag===5&&h!==null&&(l=h,n?(a=_n(s,r),a!=null&&o.unshift(Pn(s,a,l))):n||(a=_n(s,r),a!=null&&o.push(Pn(s,a,l)))),s=s.return}o.length!==0&&t.push({event:e,listeners:o})}var dv=/\r\n?/g,fv=/\u0000|\uFFFD/g;function nc(t){return(typeof t=="string"?t:""+t).replace(dv,`
`).replace(fv,"")}function ar(t,e,s){if(e=nc(e),nc(t)!==e&&s)throw Error(N(425))}function Zr(){}var _a=null,Sa=null;function ka(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ja=typeof setTimeout=="function"?setTimeout:void 0,pv=typeof clearTimeout=="function"?clearTimeout:void 0,rc=typeof Promise=="function"?Promise:void 0,mv=typeof queueMicrotask=="function"?queueMicrotask:typeof rc<"u"?function(t){return rc.resolve(null).then(t).catch(gv)}:ja;function gv(t){setTimeout(function(){throw t})}function yl(t,e){var s=e,i=0;do{var n=s.nextSibling;if(t.removeChild(s),n&&n.nodeType===8)if(s=n.data,s==="/$"){if(i===0){t.removeChild(n),jn(e);return}i--}else s!=="$"&&s!=="$?"&&s!=="$!"||i++;s=n}while(s);jn(e)}function ss(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function oc(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(e===0)return t;e--}else s==="/$"&&e++}t=t.previousSibling}return null}var Mi=Math.random().toString(36).slice(2),vt="__reactFiber$"+Mi,Tn="__reactProps$"+Mi,Ot="__reactContainer$"+Mi,Na="__reactEvents$"+Mi,vv="__reactListeners$"+Mi,yv="__reactHandles$"+Mi;function Ss(t){var e=t[vt];if(e)return e;for(var s=t.parentNode;s;){if(e=s[Ot]||s[vt]){if(s=e.alternate,e.child!==null||s!==null&&s.child!==null)for(t=oc(t);t!==null;){if(s=t[vt])return s;t=oc(t)}return e}t=s,s=t.parentNode}return null}function Wn(t){return t=t[vt]||t[Ot],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function si(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(N(33))}function Po(t){return t[Tn]||null}var Ea=[],ii=-1;function cs(t){return{current:t}}function J(t){0>ii||(t.current=Ea[ii],Ea[ii]=null,ii--)}function H(t,e){ii++,Ea[ii]=t.current,t.current=e}var us={},_e=cs(us),Oe=cs(!1),Ps=us;function xi(t,e){var s=t.type.contextTypes;if(!s)return us;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var n={},r;for(r in s)n[r]=e[r];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=n),n}function Le(t){return t=t.childContextTypes,t!=null}function Xr(){J(Oe),J(_e)}function lc(t,e,s){if(_e.current!==us)throw Error(N(168));H(_e,e),H(Oe,s)}function cp(t,e,s){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return s;i=i.getChildContext();for(var n in i)if(!(n in e))throw Error(N(108,s0(t)||"Unknown",n));return ee({},s,i)}function eo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||us,Ps=_e.current,H(_e,t),H(Oe,Oe.current),!0}function ac(t,e,s){var i=t.stateNode;if(!i)throw Error(N(169));s?(t=cp(t,e,Ps),i.__reactInternalMemoizedMergedChildContext=t,J(Oe),J(_e),H(_e,t)):J(Oe),H(Oe,s)}var jt=null,To=!1,xl=!1;function dp(t){jt===null?jt=[t]:jt.push(t)}function xv(t){To=!0,dp(t)}function ds(){if(!xl&&jt!==null){xl=!0;var t=0,e=V;try{var s=jt;for(V=1;t<s.length;t++){var i=s[t];do i=i(!0);while(i!==null)}jt=null,To=!1}catch(n){throw jt!==null&&(jt=jt.slice(t+1)),Af(Nu,ds),n}finally{V=e,xl=!1}}return null}var ni=[],ri=0,to=null,so=0,Ye=[],Je=0,Ts=null,Nt=1,Et="";function xs(t,e){ni[ri++]=so,ni[ri++]=to,to=t,so=e}function fp(t,e,s){Ye[Je++]=Nt,Ye[Je++]=Et,Ye[Je++]=Ts,Ts=t;var i=Nt;t=Et;var n=32-ut(i)-1;i&=~(1<<n),s+=1;var r=32-ut(e)+n;if(30<r){var o=n-n%5;r=(i&(1<<o)-1).toString(32),i>>=o,n-=o,Nt=1<<32-ut(e)+n|s<<n|i,Et=r+t}else Nt=1<<r|s<<n|i,Et=t}function Iu(t){t.return!==null&&(xs(t,1),fp(t,1,0))}function $u(t){for(;t===to;)to=ni[--ri],ni[ri]=null,so=ni[--ri],ni[ri]=null;for(;t===Ts;)Ts=Ye[--Je],Ye[Je]=null,Et=Ye[--Je],Ye[Je]=null,Nt=Ye[--Je],Ye[Je]=null}var Fe=null,ze=null,Q=!1,at=null;function pp(t,e){var s=Qe(5,null,null,0);s.elementType="DELETED",s.stateNode=e,s.return=t,e=t.deletions,e===null?(t.deletions=[s],t.flags|=16):e.push(s)}function uc(t,e){switch(t.tag){case 5:var s=t.type;return e=e.nodeType!==1||s.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Fe=t,ze=ss(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Fe=t,ze=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(s=Ts!==null?{id:Nt,overflow:Et}:null,t.memoizedState={dehydrated:e,treeContext:s,retryLane:1073741824},s=Qe(18,null,null,0),s.stateNode=e,s.return=t,t.child=s,Fe=t,ze=null,!0):!1;default:return!1}}function Ca(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Pa(t){if(Q){var e=ze;if(e){var s=e;if(!uc(t,e)){if(Ca(t))throw Error(N(418));e=ss(s.nextSibling);var i=Fe;e&&uc(t,e)?pp(i,s):(t.flags=t.flags&-4097|2,Q=!1,Fe=t)}}else{if(Ca(t))throw Error(N(418));t.flags=t.flags&-4097|2,Q=!1,Fe=t}}}function hc(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Fe=t}function ur(t){if(t!==Fe)return!1;if(!Q)return hc(t),Q=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ka(t.type,t.memoizedProps)),e&&(e=ze)){if(Ca(t))throw mp(),Error(N(418));for(;e;)pp(t,e),e=ss(e.nextSibling)}if(hc(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(N(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"){if(e===0){ze=ss(t.nextSibling);break e}e--}else s!=="$"&&s!=="$!"&&s!=="$?"||e++}t=t.nextSibling}ze=null}}else ze=Fe?ss(t.stateNode.nextSibling):null;return!0}function mp(){for(var t=ze;t;)t=ss(t.nextSibling)}function wi(){ze=Fe=null,Q=!1}function Au(t){at===null?at=[t]:at.push(t)}var wv=At.ReactCurrentBatchConfig;function qi(t,e,s){if(t=s.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(N(309));var i=s.stateNode}if(!i)throw Error(N(147,t));var n=i,r=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===r?e.ref:(e=function(o){var l=n.refs;o===null?delete l[r]:l[r]=o},e._stringRef=r,e)}if(typeof t!="string")throw Error(N(284));if(!s._owner)throw Error(N(290,t))}return t}function hr(t,e){throw t=Object.prototype.toString.call(e),Error(N(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function cc(t){var e=t._init;return e(t._payload)}function gp(t){function e(v,y){if(t){var m=v.deletions;m===null?(v.deletions=[y],v.flags|=16):m.push(y)}}function s(v,y){if(!t)return null;for(;y!==null;)e(v,y),y=y.sibling;return null}function i(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function n(v,y){return v=os(v,y),v.index=0,v.sibling=null,v}function r(v,y,m){return v.index=m,t?(m=v.alternate,m!==null?(m=m.index,m<y?(v.flags|=2,y):m):(v.flags|=2,y)):(v.flags|=1048576,y)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function l(v,y,m,b){return y===null||y.tag!==6?(y=Nl(m,v.mode,b),y.return=v,y):(y=n(y,m),y.return=v,y)}function a(v,y,m,b){var S=m.type;return S===Zs?c(v,y,m.props.children,b,m.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===qt&&cc(S)===y.type)?(b=n(y,m.props),b.ref=qi(v,y,m),b.return=v,b):(b=Fr(m.type,m.key,m.props,null,v.mode,b),b.ref=qi(v,y,m),b.return=v,b)}function h(v,y,m,b){return y===null||y.tag!==4||y.stateNode.containerInfo!==m.containerInfo||y.stateNode.implementation!==m.implementation?(y=El(m,v.mode,b),y.return=v,y):(y=n(y,m.children||[]),y.return=v,y)}function c(v,y,m,b,S){return y===null||y.tag!==7?(y=Es(m,v.mode,b,S),y.return=v,y):(y=n(y,m),y.return=v,y)}function d(v,y,m){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Nl(""+y,v.mode,m),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Xn:return m=Fr(y.type,y.key,y.props,null,v.mode,m),m.ref=qi(v,null,y),m.return=v,m;case Ks:return y=El(y,v.mode,m),y.return=v,y;case qt:var b=y._init;return d(v,b(y._payload),m)}if(Xi(y)||Di(y))return y=Es(y,v.mode,m,null),y.return=v,y;hr(v,y)}return null}function f(v,y,m,b){var S=y!==null?y.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return S!==null?null:l(v,y,""+m,b);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Xn:return m.key===S?a(v,y,m,b):null;case Ks:return m.key===S?h(v,y,m,b):null;case qt:return S=m._init,f(v,y,S(m._payload),b)}if(Xi(m)||Di(m))return S!==null?null:c(v,y,m,b,null);hr(v,m)}return null}function p(v,y,m,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return v=v.get(m)||null,l(y,v,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Xn:return v=v.get(b.key===null?m:b.key)||null,a(y,v,b,S);case Ks:return v=v.get(b.key===null?m:b.key)||null,h(y,v,b,S);case qt:var k=b._init;return p(v,y,m,k(b._payload),S)}if(Xi(b)||Di(b))return v=v.get(m)||null,c(y,v,b,S,null);hr(y,b)}return null}function g(v,y,m,b){for(var S=null,k=null,j=y,P=y=0,O=null;j!==null&&P<m.length;P++){j.index>P?(O=j,j=null):O=j.sibling;var M=f(v,j,m[P],b);if(M===null){j===null&&(j=O);break}t&&j&&M.alternate===null&&e(v,j),y=r(M,y,P),k===null?S=M:k.sibling=M,k=M,j=O}if(P===m.length)return s(v,j),Q&&xs(v,P),S;if(j===null){for(;P<m.length;P++)j=d(v,m[P],b),j!==null&&(y=r(j,y,P),k===null?S=j:k.sibling=j,k=j);return Q&&xs(v,P),S}for(j=i(v,j);P<m.length;P++)O=p(j,v,P,m[P],b),O!==null&&(t&&O.alternate!==null&&j.delete(O.key===null?P:O.key),y=r(O,y,P),k===null?S=O:k.sibling=O,k=O);return t&&j.forEach(function(B){return e(v,B)}),Q&&xs(v,P),S}function x(v,y,m,b){var S=Di(m);if(typeof S!="function")throw Error(N(150));if(m=S.call(m),m==null)throw Error(N(151));for(var k=S=null,j=y,P=y=0,O=null,M=m.next();j!==null&&!M.done;P++,M=m.next()){j.index>P?(O=j,j=null):O=j.sibling;var B=f(v,j,M.value,b);if(B===null){j===null&&(j=O);break}t&&j&&B.alternate===null&&e(v,j),y=r(B,y,P),k===null?S=B:k.sibling=B,k=B,j=O}if(M.done)return s(v,j),Q&&xs(v,P),S;if(j===null){for(;!M.done;P++,M=m.next())M=d(v,M.value,b),M!==null&&(y=r(M,y,P),k===null?S=M:k.sibling=M,k=M);return Q&&xs(v,P),S}for(j=i(v,j);!M.done;P++,M=m.next())M=p(j,v,P,M.value,b),M!==null&&(t&&M.alternate!==null&&j.delete(M.key===null?P:M.key),y=r(M,y,P),k===null?S=M:k.sibling=M,k=M);return t&&j.forEach(function(Se){return e(v,Se)}),Q&&xs(v,P),S}function w(v,y,m,b){if(typeof m=="object"&&m!==null&&m.type===Zs&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Xn:e:{for(var S=m.key,k=y;k!==null;){if(k.key===S){if(S=m.type,S===Zs){if(k.tag===7){s(v,k.sibling),y=n(k,m.props.children),y.return=v,v=y;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===qt&&cc(S)===k.type){s(v,k.sibling),y=n(k,m.props),y.ref=qi(v,k,m),y.return=v,v=y;break e}s(v,k);break}else e(v,k);k=k.sibling}m.type===Zs?(y=Es(m.props.children,v.mode,b,m.key),y.return=v,v=y):(b=Fr(m.type,m.key,m.props,null,v.mode,b),b.ref=qi(v,y,m),b.return=v,v=b)}return o(v);case Ks:e:{for(k=m.key;y!==null;){if(y.key===k)if(y.tag===4&&y.stateNode.containerInfo===m.containerInfo&&y.stateNode.implementation===m.implementation){s(v,y.sibling),y=n(y,m.children||[]),y.return=v,v=y;break e}else{s(v,y);break}else e(v,y);y=y.sibling}y=El(m,v.mode,b),y.return=v,v=y}return o(v);case qt:return k=m._init,w(v,y,k(m._payload),b)}if(Xi(m))return g(v,y,m,b);if(Di(m))return x(v,y,m,b);hr(v,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,y!==null&&y.tag===6?(s(v,y.sibling),y=n(y,m),y.return=v,v=y):(s(v,y),y=Nl(m,v.mode,b),y.return=v,v=y),o(v)):s(v,y)}return w}var bi=gp(!0),vp=gp(!1),io=cs(null),no=null,oi=null,zu=null;function Fu(){zu=oi=no=null}function Du(t){var e=io.current;J(io),t._currentValue=e}function Ta(t,e,s){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===s)break;t=t.return}}function mi(t,e){no=t,zu=oi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Me=!0),t.firstContext=null)}function Xe(t){var e=t._currentValue;if(zu!==t)if(t={context:t,memoizedValue:e,next:null},oi===null){if(no===null)throw Error(N(308));oi=t,no.dependencies={lanes:0,firstContext:t}}else oi=oi.next=t;return e}var ks=null;function Uu(t){ks===null?ks=[t]:ks.push(t)}function yp(t,e,s,i){var n=e.interleaved;return n===null?(s.next=s,Uu(e)):(s.next=n.next,n.next=s),e.interleaved=s,Lt(t,i)}function Lt(t,e){t.lanes|=e;var s=t.alternate;for(s!==null&&(s.lanes|=e),s=t,t=t.return;t!==null;)t.childLanes|=e,s=t.alternate,s!==null&&(s.childLanes|=e),s=t,t=t.return;return s.tag===3?s.stateNode:null}var Ht=!1;function Bu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xp(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Tt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function is(t,e,s){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,D&2){var n=i.pending;return n===null?e.next=e:(e.next=n.next,n.next=e),i.pending=e,Lt(t,s)}return n=i.interleaved,n===null?(e.next=e,Uu(i)):(e.next=n.next,n.next=e),i.interleaved=e,Lt(t,s)}function Or(t,e,s){if(e=e.updateQueue,e!==null&&(e=e.shared,(s&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,s|=i,e.lanes=s,Eu(t,s)}}function dc(t,e){var s=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,s===i)){var n=null,r=null;if(s=s.firstBaseUpdate,s!==null){do{var o={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};r===null?n=r=o:r=r.next=o,s=s.next}while(s!==null);r===null?n=r=e:r=r.next=e}else n=r=e;s={baseState:i.baseState,firstBaseUpdate:n,lastBaseUpdate:r,shared:i.shared,effects:i.effects},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=e:t.next=e,s.lastBaseUpdate=e}function ro(t,e,s,i){var n=t.updateQueue;Ht=!1;var r=n.firstBaseUpdate,o=n.lastBaseUpdate,l=n.shared.pending;if(l!==null){n.shared.pending=null;var a=l,h=a.next;a.next=null,o===null?r=h:o.next=h,o=a;var c=t.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==o&&(l===null?c.firstBaseUpdate=h:l.next=h,c.lastBaseUpdate=a))}if(r!==null){var d=n.baseState;o=0,c=h=a=null,l=r;do{var f=l.lane,p=l.eventTime;if((i&f)===f){c!==null&&(c=c.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=t,x=l;switch(f=e,p=s,x.tag){case 1:if(g=x.payload,typeof g=="function"){d=g.call(p,d,f);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=x.payload,f=typeof g=="function"?g.call(p,d,f):g,f==null)break e;d=ee({},d,f);break e;case 2:Ht=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=n.effects,f===null?n.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(h=c=p,a=d):c=c.next=p,o|=f;if(l=l.next,l===null){if(l=n.shared.pending,l===null)break;f=l,l=f.next,f.next=null,n.lastBaseUpdate=f,n.shared.pending=null}}while(!0);if(c===null&&(a=d),n.baseState=a,n.firstBaseUpdate=h,n.lastBaseUpdate=c,e=n.shared.interleaved,e!==null){n=e;do o|=n.lane,n=n.next;while(n!==e)}else r===null&&(n.shared.lanes=0);Ms|=o,t.lanes=o,t.memoizedState=d}}function fc(t,e,s){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],n=i.callback;if(n!==null){if(i.callback=null,i=s,typeof n!="function")throw Error(N(191,n));n.call(i)}}}var qn={},xt=cs(qn),Rn=cs(qn),Mn=cs(qn);function js(t){if(t===qn)throw Error(N(174));return t}function Vu(t,e){switch(H(Mn,e),H(Rn,t),H(xt,qn),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ha(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ha(e,t)}J(xt),H(xt,e)}function _i(){J(xt),J(Rn),J(Mn)}function wp(t){js(Mn.current);var e=js(xt.current),s=ha(e,t.type);e!==s&&(H(Rn,t),H(xt,s))}function Wu(t){Rn.current===t&&(J(xt),J(Rn))}var Z=cs(0);function oo(t){for(var e=t;e!==null;){if(e.tag===13){var s=e.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var wl=[];function qu(){for(var t=0;t<wl.length;t++)wl[t]._workInProgressVersionPrimary=null;wl.length=0}var Lr=At.ReactCurrentDispatcher,bl=At.ReactCurrentBatchConfig,Rs=0,X=null,ue=null,ce=null,lo=!1,un=!1,On=0,bv=0;function xe(){throw Error(N(321))}function Hu(t,e){if(e===null)return!1;for(var s=0;s<e.length&&s<t.length;s++)if(!ct(t[s],e[s]))return!1;return!0}function Yu(t,e,s,i,n,r){if(Rs=r,X=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Lr.current=t===null||t.memoizedState===null?jv:Nv,t=s(i,n),un){r=0;do{if(un=!1,On=0,25<=r)throw Error(N(301));r+=1,ce=ue=null,e.updateQueue=null,Lr.current=Ev,t=s(i,n)}while(un)}if(Lr.current=ao,e=ue!==null&&ue.next!==null,Rs=0,ce=ue=X=null,lo=!1,e)throw Error(N(300));return t}function Ju(){var t=On!==0;return On=0,t}function mt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ce===null?X.memoizedState=ce=t:ce=ce.next=t,ce}function et(){if(ue===null){var t=X.alternate;t=t!==null?t.memoizedState:null}else t=ue.next;var e=ce===null?X.memoizedState:ce.next;if(e!==null)ce=e,ue=t;else{if(t===null)throw Error(N(310));ue=t,t={memoizedState:ue.memoizedState,baseState:ue.baseState,baseQueue:ue.baseQueue,queue:ue.queue,next:null},ce===null?X.memoizedState=ce=t:ce=ce.next=t}return ce}function Ln(t,e){return typeof e=="function"?e(t):e}function _l(t){var e=et(),s=e.queue;if(s===null)throw Error(N(311));s.lastRenderedReducer=t;var i=ue,n=i.baseQueue,r=s.pending;if(r!==null){if(n!==null){var o=n.next;n.next=r.next,r.next=o}i.baseQueue=n=r,s.pending=null}if(n!==null){r=n.next,i=i.baseState;var l=o=null,a=null,h=r;do{var c=h.lane;if((Rs&c)===c)a!==null&&(a=a.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),i=h.hasEagerState?h.eagerState:t(i,h.action);else{var d={lane:c,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};a===null?(l=a=d,o=i):a=a.next=d,X.lanes|=c,Ms|=c}h=h.next}while(h!==null&&h!==r);a===null?o=i:a.next=l,ct(i,e.memoizedState)||(Me=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=a,s.lastRenderedState=i}if(t=s.interleaved,t!==null){n=t;do r=n.lane,X.lanes|=r,Ms|=r,n=n.next;while(n!==t)}else n===null&&(s.lanes=0);return[e.memoizedState,s.dispatch]}function Sl(t){var e=et(),s=e.queue;if(s===null)throw Error(N(311));s.lastRenderedReducer=t;var i=s.dispatch,n=s.pending,r=e.memoizedState;if(n!==null){s.pending=null;var o=n=n.next;do r=t(r,o.action),o=o.next;while(o!==n);ct(r,e.memoizedState)||(Me=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),s.lastRenderedState=r}return[r,i]}function bp(){}function _p(t,e){var s=X,i=et(),n=e(),r=!ct(i.memoizedState,n);if(r&&(i.memoizedState=n,Me=!0),i=i.queue,Gu(jp.bind(null,s,i,t),[t]),i.getSnapshot!==e||r||ce!==null&&ce.memoizedState.tag&1){if(s.flags|=2048,In(9,kp.bind(null,s,i,n,e),void 0,null),de===null)throw Error(N(349));Rs&30||Sp(s,e,n)}return n}function Sp(t,e,s){t.flags|=16384,t={getSnapshot:e,value:s},e=X.updateQueue,e===null?(e={lastEffect:null,stores:null},X.updateQueue=e,e.stores=[t]):(s=e.stores,s===null?e.stores=[t]:s.push(t))}function kp(t,e,s,i){e.value=s,e.getSnapshot=i,Np(e)&&Ep(t)}function jp(t,e,s){return s(function(){Np(e)&&Ep(t)})}function Np(t){var e=t.getSnapshot;t=t.value;try{var s=e();return!ct(t,s)}catch{return!0}}function Ep(t){var e=Lt(t,1);e!==null&&ht(e,t,1,-1)}function pc(t){var e=mt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ln,lastRenderedState:t},e.queue=t,t=t.dispatch=kv.bind(null,X,t),[e.memoizedState,t]}function In(t,e,s,i){return t={tag:t,create:e,destroy:s,deps:i,next:null},e=X.updateQueue,e===null?(e={lastEffect:null,stores:null},X.updateQueue=e,e.lastEffect=t.next=t):(s=e.lastEffect,s===null?e.lastEffect=t.next=t:(i=s.next,s.next=t,t.next=i,e.lastEffect=t)),t}function Cp(){return et().memoizedState}function Ir(t,e,s,i){var n=mt();X.flags|=t,n.memoizedState=In(1|e,s,void 0,i===void 0?null:i)}function Ro(t,e,s,i){var n=et();i=i===void 0?null:i;var r=void 0;if(ue!==null){var o=ue.memoizedState;if(r=o.destroy,i!==null&&Hu(i,o.deps)){n.memoizedState=In(e,s,r,i);return}}X.flags|=t,n.memoizedState=In(1|e,s,r,i)}function mc(t,e){return Ir(8390656,8,t,e)}function Gu(t,e){return Ro(2048,8,t,e)}function Pp(t,e){return Ro(4,2,t,e)}function Tp(t,e){return Ro(4,4,t,e)}function Rp(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Mp(t,e,s){return s=s!=null?s.concat([t]):null,Ro(4,4,Rp.bind(null,e,t),s)}function Qu(){}function Op(t,e){var s=et();e=e===void 0?null:e;var i=s.memoizedState;return i!==null&&e!==null&&Hu(e,i[1])?i[0]:(s.memoizedState=[t,e],t)}function Lp(t,e){var s=et();e=e===void 0?null:e;var i=s.memoizedState;return i!==null&&e!==null&&Hu(e,i[1])?i[0]:(t=t(),s.memoizedState=[t,e],t)}function Ip(t,e,s){return Rs&21?(ct(s,e)||(s=Df(),X.lanes|=s,Ms|=s,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Me=!0),t.memoizedState=s)}function _v(t,e){var s=V;V=s!==0&&4>s?s:4,t(!0);var i=bl.transition;bl.transition={};try{t(!1),e()}finally{V=s,bl.transition=i}}function $p(){return et().memoizedState}function Sv(t,e,s){var i=rs(t);if(s={lane:i,action:s,hasEagerState:!1,eagerState:null,next:null},Ap(t))zp(e,s);else if(s=yp(t,e,s,i),s!==null){var n=Ne();ht(s,t,i,n),Fp(s,e,i)}}function kv(t,e,s){var i=rs(t),n={lane:i,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ap(t))zp(e,n);else{var r=t.alternate;if(t.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var o=e.lastRenderedState,l=r(o,s);if(n.hasEagerState=!0,n.eagerState=l,ct(l,o)){var a=e.interleaved;a===null?(n.next=n,Uu(e)):(n.next=a.next,a.next=n),e.interleaved=n;return}}catch{}finally{}s=yp(t,e,n,i),s!==null&&(n=Ne(),ht(s,t,i,n),Fp(s,e,i))}}function Ap(t){var e=t.alternate;return t===X||e!==null&&e===X}function zp(t,e){un=lo=!0;var s=t.pending;s===null?e.next=e:(e.next=s.next,s.next=e),t.pending=e}function Fp(t,e,s){if(s&4194240){var i=e.lanes;i&=t.pendingLanes,s|=i,e.lanes=s,Eu(t,s)}}var ao={readContext:Xe,useCallback:xe,useContext:xe,useEffect:xe,useImperativeHandle:xe,useInsertionEffect:xe,useLayoutEffect:xe,useMemo:xe,useReducer:xe,useRef:xe,useState:xe,useDebugValue:xe,useDeferredValue:xe,useTransition:xe,useMutableSource:xe,useSyncExternalStore:xe,useId:xe,unstable_isNewReconciler:!1},jv={readContext:Xe,useCallback:function(t,e){return mt().memoizedState=[t,e===void 0?null:e],t},useContext:Xe,useEffect:mc,useImperativeHandle:function(t,e,s){return s=s!=null?s.concat([t]):null,Ir(4194308,4,Rp.bind(null,e,t),s)},useLayoutEffect:function(t,e){return Ir(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ir(4,2,t,e)},useMemo:function(t,e){var s=mt();return e=e===void 0?null:e,t=t(),s.memoizedState=[t,e],t},useReducer:function(t,e,s){var i=mt();return e=s!==void 0?s(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=Sv.bind(null,X,t),[i.memoizedState,t]},useRef:function(t){var e=mt();return t={current:t},e.memoizedState=t},useState:pc,useDebugValue:Qu,useDeferredValue:function(t){return mt().memoizedState=t},useTransition:function(){var t=pc(!1),e=t[0];return t=_v.bind(null,t[1]),mt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,s){var i=X,n=mt();if(Q){if(s===void 0)throw Error(N(407));s=s()}else{if(s=e(),de===null)throw Error(N(349));Rs&30||Sp(i,e,s)}n.memoizedState=s;var r={value:s,getSnapshot:e};return n.queue=r,mc(jp.bind(null,i,r,t),[t]),i.flags|=2048,In(9,kp.bind(null,i,r,s,e),void 0,null),s},useId:function(){var t=mt(),e=de.identifierPrefix;if(Q){var s=Et,i=Nt;s=(i&~(1<<32-ut(i)-1)).toString(32)+s,e=":"+e+"R"+s,s=On++,0<s&&(e+="H"+s.toString(32)),e+=":"}else s=bv++,e=":"+e+"r"+s.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Nv={readContext:Xe,useCallback:Op,useContext:Xe,useEffect:Gu,useImperativeHandle:Mp,useInsertionEffect:Pp,useLayoutEffect:Tp,useMemo:Lp,useReducer:_l,useRef:Cp,useState:function(){return _l(Ln)},useDebugValue:Qu,useDeferredValue:function(t){var e=et();return Ip(e,ue.memoizedState,t)},useTransition:function(){var t=_l(Ln)[0],e=et().memoizedState;return[t,e]},useMutableSource:bp,useSyncExternalStore:_p,useId:$p,unstable_isNewReconciler:!1},Ev={readContext:Xe,useCallback:Op,useContext:Xe,useEffect:Gu,useImperativeHandle:Mp,useInsertionEffect:Pp,useLayoutEffect:Tp,useMemo:Lp,useReducer:Sl,useRef:Cp,useState:function(){return Sl(Ln)},useDebugValue:Qu,useDeferredValue:function(t){var e=et();return ue===null?e.memoizedState=t:Ip(e,ue.memoizedState,t)},useTransition:function(){var t=Sl(Ln)[0],e=et().memoizedState;return[t,e]},useMutableSource:bp,useSyncExternalStore:_p,useId:$p,unstable_isNewReconciler:!1};function rt(t,e){if(t&&t.defaultProps){e=ee({},e),t=t.defaultProps;for(var s in t)e[s]===void 0&&(e[s]=t[s]);return e}return e}function Ra(t,e,s,i){e=t.memoizedState,s=s(i,e),s=s==null?e:ee({},e,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Mo={isMounted:function(t){return(t=t._reactInternals)?zs(t)===t:!1},enqueueSetState:function(t,e,s){t=t._reactInternals;var i=Ne(),n=rs(t),r=Tt(i,n);r.payload=e,s!=null&&(r.callback=s),e=is(t,r,n),e!==null&&(ht(e,t,n,i),Or(e,t,n))},enqueueReplaceState:function(t,e,s){t=t._reactInternals;var i=Ne(),n=rs(t),r=Tt(i,n);r.tag=1,r.payload=e,s!=null&&(r.callback=s),e=is(t,r,n),e!==null&&(ht(e,t,n,i),Or(e,t,n))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var s=Ne(),i=rs(t),n=Tt(s,i);n.tag=2,e!=null&&(n.callback=e),e=is(t,n,i),e!==null&&(ht(e,t,i,s),Or(e,t,i))}};function gc(t,e,s,i,n,r,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,r,o):e.prototype&&e.prototype.isPureReactComponent?!En(s,i)||!En(n,r):!0}function Dp(t,e,s){var i=!1,n=us,r=e.contextType;return typeof r=="object"&&r!==null?r=Xe(r):(n=Le(e)?Ps:_e.current,i=e.contextTypes,r=(i=i!=null)?xi(t,n):us),e=new e(s,r),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Mo,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=r),e}function vc(t,e,s,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(s,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(s,i),e.state!==t&&Mo.enqueueReplaceState(e,e.state,null)}function Ma(t,e,s,i){var n=t.stateNode;n.props=s,n.state=t.memoizedState,n.refs={},Bu(t);var r=e.contextType;typeof r=="object"&&r!==null?n.context=Xe(r):(r=Le(e)?Ps:_e.current,n.context=xi(t,r)),n.state=t.memoizedState,r=e.getDerivedStateFromProps,typeof r=="function"&&(Ra(t,e,r,s),n.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(e=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),e!==n.state&&Mo.enqueueReplaceState(n,n.state,null),ro(t,s,n,i),n.state=t.memoizedState),typeof n.componentDidMount=="function"&&(t.flags|=4194308)}function Si(t,e){try{var s="",i=e;do s+=t0(i),i=i.return;while(i);var n=s}catch(r){n=`
Error generating stack: `+r.message+`
`+r.stack}return{value:t,source:e,stack:n,digest:null}}function kl(t,e,s){return{value:t,source:null,stack:s??null,digest:e??null}}function Oa(t,e){try{console.error(e.value)}catch(s){setTimeout(function(){throw s})}}var Cv=typeof WeakMap=="function"?WeakMap:Map;function Up(t,e,s){s=Tt(-1,s),s.tag=3,s.payload={element:null};var i=e.value;return s.callback=function(){ho||(ho=!0,Va=i),Oa(t,e)},s}function Bp(t,e,s){s=Tt(-1,s),s.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var n=e.value;s.payload=function(){return i(n)},s.callback=function(){Oa(t,e)}}var r=t.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(s.callback=function(){Oa(t,e),typeof i!="function"&&(ns===null?ns=new Set([this]):ns.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),s}function yc(t,e,s){var i=t.pingCache;if(i===null){i=t.pingCache=new Cv;var n=new Set;i.set(e,n)}else n=i.get(e),n===void 0&&(n=new Set,i.set(e,n));n.has(s)||(n.add(s),t=Bv.bind(null,t,e,s),e.then(t,t))}function xc(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function wc(t,e,s,i,n){return t.mode&1?(t.flags|=65536,t.lanes=n,t):(t===e?t.flags|=65536:(t.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(e=Tt(-1,1),e.tag=2,is(s,e,1))),s.lanes|=1),t)}var Pv=At.ReactCurrentOwner,Me=!1;function je(t,e,s,i){e.child=t===null?vp(e,null,s,i):bi(e,t.child,s,i)}function bc(t,e,s,i,n){s=s.render;var r=e.ref;return mi(e,n),i=Yu(t,e,s,i,r,n),s=Ju(),t!==null&&!Me?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n,It(t,e,n)):(Q&&s&&Iu(e),e.flags|=1,je(t,e,i,n),e.child)}function _c(t,e,s,i,n){if(t===null){var r=s.type;return typeof r=="function"&&!nh(r)&&r.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(e.tag=15,e.type=r,Vp(t,e,r,i,n)):(t=Fr(s.type,null,i,e,e.mode,n),t.ref=e.ref,t.return=e,e.child=t)}if(r=t.child,!(t.lanes&n)){var o=r.memoizedProps;if(s=s.compare,s=s!==null?s:En,s(o,i)&&t.ref===e.ref)return It(t,e,n)}return e.flags|=1,t=os(r,i),t.ref=e.ref,t.return=e,e.child=t}function Vp(t,e,s,i,n){if(t!==null){var r=t.memoizedProps;if(En(r,i)&&t.ref===e.ref)if(Me=!1,e.pendingProps=i=r,(t.lanes&n)!==0)t.flags&131072&&(Me=!0);else return e.lanes=t.lanes,It(t,e,n)}return La(t,e,s,i,n)}function Wp(t,e,s){var i=e.pendingProps,n=i.children,r=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},H(ai,Ae),Ae|=s;else{if(!(s&1073741824))return t=r!==null?r.baseLanes|s:s,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,H(ai,Ae),Ae|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=r!==null?r.baseLanes:s,H(ai,Ae),Ae|=i}else r!==null?(i=r.baseLanes|s,e.memoizedState=null):i=s,H(ai,Ae),Ae|=i;return je(t,e,n,s),e.child}function qp(t,e){var s=e.ref;(t===null&&s!==null||t!==null&&t.ref!==s)&&(e.flags|=512,e.flags|=2097152)}function La(t,e,s,i,n){var r=Le(s)?Ps:_e.current;return r=xi(e,r),mi(e,n),s=Yu(t,e,s,i,r,n),i=Ju(),t!==null&&!Me?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n,It(t,e,n)):(Q&&i&&Iu(e),e.flags|=1,je(t,e,s,n),e.child)}function Sc(t,e,s,i,n){if(Le(s)){var r=!0;eo(e)}else r=!1;if(mi(e,n),e.stateNode===null)$r(t,e),Dp(e,s,i),Ma(e,s,i,n),i=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,h=s.contextType;typeof h=="object"&&h!==null?h=Xe(h):(h=Le(s)?Ps:_e.current,h=xi(e,h));var c=s.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==i||a!==h)&&vc(e,o,i,h),Ht=!1;var f=e.memoizedState;o.state=f,ro(e,i,o,n),a=e.memoizedState,l!==i||f!==a||Oe.current||Ht?(typeof c=="function"&&(Ra(e,s,c,i),a=e.memoizedState),(l=Ht||gc(e,s,l,i,f,a,h))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=a),o.props=i,o.state=a,o.context=h,i=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,xp(t,e),l=e.memoizedProps,h=e.type===e.elementType?l:rt(e.type,l),o.props=h,d=e.pendingProps,f=o.context,a=s.contextType,typeof a=="object"&&a!==null?a=Xe(a):(a=Le(s)?Ps:_e.current,a=xi(e,a));var p=s.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||f!==a)&&vc(e,o,i,a),Ht=!1,f=e.memoizedState,o.state=f,ro(e,i,o,n);var g=e.memoizedState;l!==d||f!==g||Oe.current||Ht?(typeof p=="function"&&(Ra(e,s,p,i),g=e.memoizedState),(h=Ht||gc(e,s,h,i,f,g,a)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,g,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,g,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=g),o.props=i,o.state=g,o.context=a,i=h):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),i=!1)}return Ia(t,e,s,i,r,n)}function Ia(t,e,s,i,n,r){qp(t,e);var o=(e.flags&128)!==0;if(!i&&!o)return n&&ac(e,s,!1),It(t,e,r);i=e.stateNode,Pv.current=e;var l=o&&typeof s.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&o?(e.child=bi(e,t.child,null,r),e.child=bi(e,null,l,r)):je(t,e,l,r),e.memoizedState=i.state,n&&ac(e,s,!0),e.child}function Hp(t){var e=t.stateNode;e.pendingContext?lc(t,e.pendingContext,e.pendingContext!==e.context):e.context&&lc(t,e.context,!1),Vu(t,e.containerInfo)}function kc(t,e,s,i,n){return wi(),Au(n),e.flags|=256,je(t,e,s,i),e.child}var $a={dehydrated:null,treeContext:null,retryLane:0};function Aa(t){return{baseLanes:t,cachePool:null,transitions:null}}function Yp(t,e,s){var i=e.pendingProps,n=Z.current,r=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(n&2)!==0),l?(r=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(n|=1),H(Z,n&1),t===null)return Pa(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,t=i.fallback,r?(i=e.mode,r=e.child,o={mode:"hidden",children:o},!(i&1)&&r!==null?(r.childLanes=0,r.pendingProps=o):r=Io(o,i,0,null),t=Es(t,i,s,null),r.return=e,t.return=e,r.sibling=t,e.child=r,e.child.memoizedState=Aa(s),e.memoizedState=$a,t):Ku(e,o));if(n=t.memoizedState,n!==null&&(l=n.dehydrated,l!==null))return Tv(t,e,o,i,l,n,s);if(r){r=i.fallback,o=e.mode,n=t.child,l=n.sibling;var a={mode:"hidden",children:i.children};return!(o&1)&&e.child!==n?(i=e.child,i.childLanes=0,i.pendingProps=a,e.deletions=null):(i=os(n,a),i.subtreeFlags=n.subtreeFlags&14680064),l!==null?r=os(l,r):(r=Es(r,o,s,null),r.flags|=2),r.return=e,i.return=e,i.sibling=r,e.child=i,i=r,r=e.child,o=t.child.memoizedState,o=o===null?Aa(s):{baseLanes:o.baseLanes|s,cachePool:null,transitions:o.transitions},r.memoizedState=o,r.childLanes=t.childLanes&~s,e.memoizedState=$a,i}return r=t.child,t=r.sibling,i=os(r,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=s),i.return=e,i.sibling=null,t!==null&&(s=e.deletions,s===null?(e.deletions=[t],e.flags|=16):s.push(t)),e.child=i,e.memoizedState=null,i}function Ku(t,e){return e=Io({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function cr(t,e,s,i){return i!==null&&Au(i),bi(e,t.child,null,s),t=Ku(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Tv(t,e,s,i,n,r,o){if(s)return e.flags&256?(e.flags&=-257,i=kl(Error(N(422))),cr(t,e,o,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(r=i.fallback,n=e.mode,i=Io({mode:"visible",children:i.children},n,0,null),r=Es(r,n,o,null),r.flags|=2,i.return=e,r.return=e,i.sibling=r,e.child=i,e.mode&1&&bi(e,t.child,null,o),e.child.memoizedState=Aa(o),e.memoizedState=$a,r);if(!(e.mode&1))return cr(t,e,o,null);if(n.data==="$!"){if(i=n.nextSibling&&n.nextSibling.dataset,i)var l=i.dgst;return i=l,r=Error(N(419)),i=kl(r,i,void 0),cr(t,e,o,i)}if(l=(o&t.childLanes)!==0,Me||l){if(i=de,i!==null){switch(o&-o){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(i.suspendedLanes|o)?0:n,n!==0&&n!==r.retryLane&&(r.retryLane=n,Lt(t,n),ht(i,t,n,-1))}return ih(),i=kl(Error(N(421))),cr(t,e,o,i)}return n.data==="$?"?(e.flags|=128,e.child=t.child,e=Vv.bind(null,t),n._reactRetry=e,null):(t=r.treeContext,ze=ss(n.nextSibling),Fe=e,Q=!0,at=null,t!==null&&(Ye[Je++]=Nt,Ye[Je++]=Et,Ye[Je++]=Ts,Nt=t.id,Et=t.overflow,Ts=e),e=Ku(e,i.children),e.flags|=4096,e)}function jc(t,e,s){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Ta(t.return,e,s)}function jl(t,e,s,i,n){var r=t.memoizedState;r===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:s,tailMode:n}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=s,r.tailMode=n)}function Jp(t,e,s){var i=e.pendingProps,n=i.revealOrder,r=i.tail;if(je(t,e,i.children,s),i=Z.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&jc(t,s,e);else if(t.tag===19)jc(t,s,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(H(Z,i),!(e.mode&1))e.memoizedState=null;else switch(n){case"forwards":for(s=e.child,n=null;s!==null;)t=s.alternate,t!==null&&oo(t)===null&&(n=s),s=s.sibling;s=n,s===null?(n=e.child,e.child=null):(n=s.sibling,s.sibling=null),jl(e,!1,n,s,r);break;case"backwards":for(s=null,n=e.child,e.child=null;n!==null;){if(t=n.alternate,t!==null&&oo(t)===null){e.child=n;break}t=n.sibling,n.sibling=s,s=n,n=t}jl(e,!0,s,null,r);break;case"together":jl(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function $r(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function It(t,e,s){if(t!==null&&(e.dependencies=t.dependencies),Ms|=e.lanes,!(s&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(N(153));if(e.child!==null){for(t=e.child,s=os(t,t.pendingProps),e.child=s,s.return=e;t.sibling!==null;)t=t.sibling,s=s.sibling=os(t,t.pendingProps),s.return=e;s.sibling=null}return e.child}function Rv(t,e,s){switch(e.tag){case 3:Hp(e),wi();break;case 5:wp(e);break;case 1:Le(e.type)&&eo(e);break;case 4:Vu(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,n=e.memoizedProps.value;H(io,i._currentValue),i._currentValue=n;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(H(Z,Z.current&1),e.flags|=128,null):s&e.child.childLanes?Yp(t,e,s):(H(Z,Z.current&1),t=It(t,e,s),t!==null?t.sibling:null);H(Z,Z.current&1);break;case 19:if(i=(s&e.childLanes)!==0,t.flags&128){if(i)return Jp(t,e,s);e.flags|=128}if(n=e.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),H(Z,Z.current),i)break;return null;case 22:case 23:return e.lanes=0,Wp(t,e,s)}return It(t,e,s)}var Gp,za,Qp,Kp;Gp=function(t,e){for(var s=e.child;s!==null;){if(s.tag===5||s.tag===6)t.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};za=function(){};Qp=function(t,e,s,i){var n=t.memoizedProps;if(n!==i){t=e.stateNode,js(xt.current);var r=null;switch(s){case"input":n=oa(t,n),i=oa(t,i),r=[];break;case"select":n=ee({},n,{value:void 0}),i=ee({},i,{value:void 0}),r=[];break;case"textarea":n=ua(t,n),i=ua(t,i),r=[];break;default:typeof n.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Zr)}ca(s,i);var o;s=null;for(h in n)if(!i.hasOwnProperty(h)&&n.hasOwnProperty(h)&&n[h]!=null)if(h==="style"){var l=n[h];for(o in l)l.hasOwnProperty(o)&&(s||(s={}),s[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(wn.hasOwnProperty(h)?r||(r=[]):(r=r||[]).push(h,null));for(h in i){var a=i[h];if(l=n!=null?n[h]:void 0,i.hasOwnProperty(h)&&a!==l&&(a!=null||l!=null))if(h==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(s||(s={}),s[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(s||(s={}),s[o]=a[o])}else s||(r||(r=[]),r.push(h,s)),s=a;else h==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(r=r||[]).push(h,a)):h==="children"?typeof a!="string"&&typeof a!="number"||(r=r||[]).push(h,""+a):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(wn.hasOwnProperty(h)?(a!=null&&h==="onScroll"&&Y("scroll",t),r||l===a||(r=[])):(r=r||[]).push(h,a))}s&&(r=r||[]).push("style",s);var h=r;(e.updateQueue=h)&&(e.flags|=4)}};Kp=function(t,e,s,i){s!==i&&(e.flags|=4)};function Hi(t,e){if(!Q)switch(t.tailMode){case"hidden":e=t.tail;for(var s=null;e!==null;)e.alternate!==null&&(s=e),e=e.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var i=null;s!==null;)s.alternate!==null&&(i=s),s=s.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function we(t){var e=t.alternate!==null&&t.alternate.child===t.child,s=0,i=0;if(e)for(var n=t.child;n!==null;)s|=n.lanes|n.childLanes,i|=n.subtreeFlags&14680064,i|=n.flags&14680064,n.return=t,n=n.sibling;else for(n=t.child;n!==null;)s|=n.lanes|n.childLanes,i|=n.subtreeFlags,i|=n.flags,n.return=t,n=n.sibling;return t.subtreeFlags|=i,t.childLanes=s,e}function Mv(t,e,s){var i=e.pendingProps;switch($u(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return we(e),null;case 1:return Le(e.type)&&Xr(),we(e),null;case 3:return i=e.stateNode,_i(),J(Oe),J(_e),qu(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(ur(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,at!==null&&(Ha(at),at=null))),za(t,e),we(e),null;case 5:Wu(e);var n=js(Mn.current);if(s=e.type,t!==null&&e.stateNode!=null)Qp(t,e,s,i,n),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(N(166));return we(e),null}if(t=js(xt.current),ur(e)){i=e.stateNode,s=e.type;var r=e.memoizedProps;switch(i[vt]=e,i[Tn]=r,t=(e.mode&1)!==0,s){case"dialog":Y("cancel",i),Y("close",i);break;case"iframe":case"object":case"embed":Y("load",i);break;case"video":case"audio":for(n=0;n<tn.length;n++)Y(tn[n],i);break;case"source":Y("error",i);break;case"img":case"image":case"link":Y("error",i),Y("load",i);break;case"details":Y("toggle",i);break;case"input":Lh(i,r),Y("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!r.multiple},Y("invalid",i);break;case"textarea":$h(i,r),Y("invalid",i)}ca(s,r),n=null;for(var o in r)if(r.hasOwnProperty(o)){var l=r[o];o==="children"?typeof l=="string"?i.textContent!==l&&(r.suppressHydrationWarning!==!0&&ar(i.textContent,l,t),n=["children",l]):typeof l=="number"&&i.textContent!==""+l&&(r.suppressHydrationWarning!==!0&&ar(i.textContent,l,t),n=["children",""+l]):wn.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Y("scroll",i)}switch(s){case"input":er(i),Ih(i,r,!0);break;case"textarea":er(i),Ah(i);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(i.onclick=Zr)}i=n,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=n.nodeType===9?n:n.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=jf(s)),t==="http://www.w3.org/1999/xhtml"?s==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=o.createElement(s,{is:i.is}):(t=o.createElement(s),s==="select"&&(o=t,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):t=o.createElementNS(t,s),t[vt]=e,t[Tn]=i,Gp(t,e,!1,!1),e.stateNode=t;e:{switch(o=da(s,i),s){case"dialog":Y("cancel",t),Y("close",t),n=i;break;case"iframe":case"object":case"embed":Y("load",t),n=i;break;case"video":case"audio":for(n=0;n<tn.length;n++)Y(tn[n],t);n=i;break;case"source":Y("error",t),n=i;break;case"img":case"image":case"link":Y("error",t),Y("load",t),n=i;break;case"details":Y("toggle",t),n=i;break;case"input":Lh(t,i),n=oa(t,i),Y("invalid",t);break;case"option":n=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},n=ee({},i,{value:void 0}),Y("invalid",t);break;case"textarea":$h(t,i),n=ua(t,i),Y("invalid",t);break;default:n=i}ca(s,n),l=n;for(r in l)if(l.hasOwnProperty(r)){var a=l[r];r==="style"?Cf(t,a):r==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Nf(t,a)):r==="children"?typeof a=="string"?(s!=="textarea"||a!=="")&&bn(t,a):typeof a=="number"&&bn(t,""+a):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(wn.hasOwnProperty(r)?a!=null&&r==="onScroll"&&Y("scroll",t):a!=null&&bu(t,r,a,o))}switch(s){case"input":er(t),Ih(t,i,!1);break;case"textarea":er(t),Ah(t);break;case"option":i.value!=null&&t.setAttribute("value",""+as(i.value));break;case"select":t.multiple=!!i.multiple,r=i.value,r!=null?ci(t,!!i.multiple,r,!1):i.defaultValue!=null&&ci(t,!!i.multiple,i.defaultValue,!0);break;default:typeof n.onClick=="function"&&(t.onclick=Zr)}switch(s){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return we(e),null;case 6:if(t&&e.stateNode!=null)Kp(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(N(166));if(s=js(Mn.current),js(xt.current),ur(e)){if(i=e.stateNode,s=e.memoizedProps,i[vt]=e,(r=i.nodeValue!==s)&&(t=Fe,t!==null))switch(t.tag){case 3:ar(i.nodeValue,s,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ar(i.nodeValue,s,(t.mode&1)!==0)}r&&(e.flags|=4)}else i=(s.nodeType===9?s:s.ownerDocument).createTextNode(i),i[vt]=e,e.stateNode=i}return we(e),null;case 13:if(J(Z),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Q&&ze!==null&&e.mode&1&&!(e.flags&128))mp(),wi(),e.flags|=98560,r=!1;else if(r=ur(e),i!==null&&i.dehydrated!==null){if(t===null){if(!r)throw Error(N(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(N(317));r[vt]=e}else wi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;we(e),r=!1}else at!==null&&(Ha(at),at=null),r=!0;if(!r)return e.flags&65536?e:null}return e.flags&128?(e.lanes=s,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||Z.current&1?he===0&&(he=3):ih())),e.updateQueue!==null&&(e.flags|=4),we(e),null);case 4:return _i(),za(t,e),t===null&&Cn(e.stateNode.containerInfo),we(e),null;case 10:return Du(e.type._context),we(e),null;case 17:return Le(e.type)&&Xr(),we(e),null;case 19:if(J(Z),r=e.memoizedState,r===null)return we(e),null;if(i=(e.flags&128)!==0,o=r.rendering,o===null)if(i)Hi(r,!1);else{if(he!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=oo(t),o!==null){for(e.flags|=128,Hi(r,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=s,s=e.child;s!==null;)r=s,t=i,r.flags&=14680066,o=r.alternate,o===null?(r.childLanes=0,r.lanes=t,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,t=o.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),s=s.sibling;return H(Z,Z.current&1|2),e.child}t=t.sibling}r.tail!==null&&ie()>ki&&(e.flags|=128,i=!0,Hi(r,!1),e.lanes=4194304)}else{if(!i)if(t=oo(o),t!==null){if(e.flags|=128,i=!0,s=t.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),Hi(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!Q)return we(e),null}else 2*ie()-r.renderingStartTime>ki&&s!==1073741824&&(e.flags|=128,i=!0,Hi(r,!1),e.lanes=4194304);r.isBackwards?(o.sibling=e.child,e.child=o):(s=r.last,s!==null?s.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=ie(),e.sibling=null,s=Z.current,H(Z,i?s&1|2:s&1),e):(we(e),null);case 22:case 23:return sh(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Ae&1073741824&&(we(e),e.subtreeFlags&6&&(e.flags|=8192)):we(e),null;case 24:return null;case 25:return null}throw Error(N(156,e.tag))}function Ov(t,e){switch($u(e),e.tag){case 1:return Le(e.type)&&Xr(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return _i(),J(Oe),J(_e),qu(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Wu(e),null;case 13:if(J(Z),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(N(340));wi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return J(Z),null;case 4:return _i(),null;case 10:return Du(e.type._context),null;case 22:case 23:return sh(),null;case 24:return null;default:return null}}var dr=!1,be=!1,Lv=typeof WeakSet=="function"?WeakSet:Set,R=null;function li(t,e){var s=t.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(i){te(t,e,i)}else s.current=null}function Fa(t,e,s){try{s()}catch(i){te(t,e,i)}}var Nc=!1;function Iv(t,e){if(_a=Gr,t=sp(),Lu(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var i=s.getSelection&&s.getSelection();if(i&&i.rangeCount!==0){s=i.anchorNode;var n=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{s.nodeType,r.nodeType}catch{s=null;break e}var o=0,l=-1,a=-1,h=0,c=0,d=t,f=null;t:for(;;){for(var p;d!==s||n!==0&&d.nodeType!==3||(l=o+n),d!==r||i!==0&&d.nodeType!==3||(a=o+i),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===s&&++h===n&&(l=o),f===r&&++c===i&&(a=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}s=l===-1||a===-1?null:{start:l,end:a}}else s=null}s=s||{start:0,end:0}}else s=null;for(Sa={focusedElem:t,selectionRange:s},Gr=!1,R=e;R!==null;)if(e=R,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,R=t;else for(;R!==null;){e=R;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var x=g.memoizedProps,w=g.memoizedState,v=e.stateNode,y=v.getSnapshotBeforeUpdate(e.elementType===e.type?x:rt(e.type,x),w);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(b){te(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,R=t;break}R=e.return}return g=Nc,Nc=!1,g}function hn(t,e,s){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var n=i=i.next;do{if((n.tag&t)===t){var r=n.destroy;n.destroy=void 0,r!==void 0&&Fa(e,s,r)}n=n.next}while(n!==i)}}function Oo(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var s=e=e.next;do{if((s.tag&t)===t){var i=s.create;s.destroy=i()}s=s.next}while(s!==e)}}function Da(t){var e=t.ref;if(e!==null){var s=t.stateNode;switch(t.tag){case 5:t=s;break;default:t=s}typeof e=="function"?e(t):e.current=t}}function Zp(t){var e=t.alternate;e!==null&&(t.alternate=null,Zp(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[vt],delete e[Tn],delete e[Na],delete e[vv],delete e[yv])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Xp(t){return t.tag===5||t.tag===3||t.tag===4}function Ec(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Xp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ua(t,e,s){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?s.nodeType===8?s.parentNode.insertBefore(t,e):s.insertBefore(t,e):(s.nodeType===8?(e=s.parentNode,e.insertBefore(t,s)):(e=s,e.appendChild(t)),s=s._reactRootContainer,s!=null||e.onclick!==null||(e.onclick=Zr));else if(i!==4&&(t=t.child,t!==null))for(Ua(t,e,s),t=t.sibling;t!==null;)Ua(t,e,s),t=t.sibling}function Ba(t,e,s){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?s.insertBefore(t,e):s.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(Ba(t,e,s),t=t.sibling;t!==null;)Ba(t,e,s),t=t.sibling}var pe=null,ot=!1;function Dt(t,e,s){for(s=s.child;s!==null;)em(t,e,s),s=s.sibling}function em(t,e,s){if(yt&&typeof yt.onCommitFiberUnmount=="function")try{yt.onCommitFiberUnmount(jo,s)}catch{}switch(s.tag){case 5:be||li(s,e);case 6:var i=pe,n=ot;pe=null,Dt(t,e,s),pe=i,ot=n,pe!==null&&(ot?(t=pe,s=s.stateNode,t.nodeType===8?t.parentNode.removeChild(s):t.removeChild(s)):pe.removeChild(s.stateNode));break;case 18:pe!==null&&(ot?(t=pe,s=s.stateNode,t.nodeType===8?yl(t.parentNode,s):t.nodeType===1&&yl(t,s),jn(t)):yl(pe,s.stateNode));break;case 4:i=pe,n=ot,pe=s.stateNode.containerInfo,ot=!0,Dt(t,e,s),pe=i,ot=n;break;case 0:case 11:case 14:case 15:if(!be&&(i=s.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){n=i=i.next;do{var r=n,o=r.destroy;r=r.tag,o!==void 0&&(r&2||r&4)&&Fa(s,e,o),n=n.next}while(n!==i)}Dt(t,e,s);break;case 1:if(!be&&(li(s,e),i=s.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=s.memoizedProps,i.state=s.memoizedState,i.componentWillUnmount()}catch(l){te(s,e,l)}Dt(t,e,s);break;case 21:Dt(t,e,s);break;case 22:s.mode&1?(be=(i=be)||s.memoizedState!==null,Dt(t,e,s),be=i):Dt(t,e,s);break;default:Dt(t,e,s)}}function Cc(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var s=t.stateNode;s===null&&(s=t.stateNode=new Lv),e.forEach(function(i){var n=Wv.bind(null,t,i);s.has(i)||(s.add(i),i.then(n,n))})}}function it(t,e){var s=e.deletions;if(s!==null)for(var i=0;i<s.length;i++){var n=s[i];try{var r=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:pe=l.stateNode,ot=!1;break e;case 3:pe=l.stateNode.containerInfo,ot=!0;break e;case 4:pe=l.stateNode.containerInfo,ot=!0;break e}l=l.return}if(pe===null)throw Error(N(160));em(r,o,n),pe=null,ot=!1;var a=n.alternate;a!==null&&(a.return=null),n.return=null}catch(h){te(n,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)tm(e,t),e=e.sibling}function tm(t,e){var s=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(it(e,t),ft(t),i&4){try{hn(3,t,t.return),Oo(3,t)}catch(x){te(t,t.return,x)}try{hn(5,t,t.return)}catch(x){te(t,t.return,x)}}break;case 1:it(e,t),ft(t),i&512&&s!==null&&li(s,s.return);break;case 5:if(it(e,t),ft(t),i&512&&s!==null&&li(s,s.return),t.flags&32){var n=t.stateNode;try{bn(n,"")}catch(x){te(t,t.return,x)}}if(i&4&&(n=t.stateNode,n!=null)){var r=t.memoizedProps,o=s!==null?s.memoizedProps:r,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&r.type==="radio"&&r.name!=null&&Sf(n,r),da(l,o);var h=da(l,r);for(o=0;o<a.length;o+=2){var c=a[o],d=a[o+1];c==="style"?Cf(n,d):c==="dangerouslySetInnerHTML"?Nf(n,d):c==="children"?bn(n,d):bu(n,c,d,h)}switch(l){case"input":la(n,r);break;case"textarea":kf(n,r);break;case"select":var f=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!r.multiple;var p=r.value;p!=null?ci(n,!!r.multiple,p,!1):f!==!!r.multiple&&(r.defaultValue!=null?ci(n,!!r.multiple,r.defaultValue,!0):ci(n,!!r.multiple,r.multiple?[]:"",!1))}n[Tn]=r}catch(x){te(t,t.return,x)}}break;case 6:if(it(e,t),ft(t),i&4){if(t.stateNode===null)throw Error(N(162));n=t.stateNode,r=t.memoizedProps;try{n.nodeValue=r}catch(x){te(t,t.return,x)}}break;case 3:if(it(e,t),ft(t),i&4&&s!==null&&s.memoizedState.isDehydrated)try{jn(e.containerInfo)}catch(x){te(t,t.return,x)}break;case 4:it(e,t),ft(t);break;case 13:it(e,t),ft(t),n=t.child,n.flags&8192&&(r=n.memoizedState!==null,n.stateNode.isHidden=r,!r||n.alternate!==null&&n.alternate.memoizedState!==null||(eh=ie())),i&4&&Cc(t);break;case 22:if(c=s!==null&&s.memoizedState!==null,t.mode&1?(be=(h=be)||c,it(e,t),be=h):it(e,t),ft(t),i&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!c&&t.mode&1)for(R=t,c=t.child;c!==null;){for(d=R=c;R!==null;){switch(f=R,p=f.child,f.tag){case 0:case 11:case 14:case 15:hn(4,f,f.return);break;case 1:li(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){i=f,s=f.return;try{e=i,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(x){te(i,s,x)}}break;case 5:li(f,f.return);break;case 22:if(f.memoizedState!==null){Tc(d);continue}}p!==null?(p.return=f,R=p):Tc(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{n=d.stateNode,h?(r=n.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(l=d.stateNode,a=d.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Ef("display",o))}catch(x){te(t,t.return,x)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=h?"":d.memoizedProps}catch(x){te(t,t.return,x)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:it(e,t),ft(t),i&4&&Cc(t);break;case 21:break;default:it(e,t),ft(t)}}function ft(t){var e=t.flags;if(e&2){try{e:{for(var s=t.return;s!==null;){if(Xp(s)){var i=s;break e}s=s.return}throw Error(N(160))}switch(i.tag){case 5:var n=i.stateNode;i.flags&32&&(bn(n,""),i.flags&=-33);var r=Ec(t);Ba(t,r,n);break;case 3:case 4:var o=i.stateNode.containerInfo,l=Ec(t);Ua(t,l,o);break;default:throw Error(N(161))}}catch(a){te(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function $v(t,e,s){R=t,sm(t)}function sm(t,e,s){for(var i=(t.mode&1)!==0;R!==null;){var n=R,r=n.child;if(n.tag===22&&i){var o=n.memoizedState!==null||dr;if(!o){var l=n.alternate,a=l!==null&&l.memoizedState!==null||be;l=dr;var h=be;if(dr=o,(be=a)&&!h)for(R=n;R!==null;)o=R,a=o.child,o.tag===22&&o.memoizedState!==null?Rc(n):a!==null?(a.return=o,R=a):Rc(n);for(;r!==null;)R=r,sm(r),r=r.sibling;R=n,dr=l,be=h}Pc(t)}else n.subtreeFlags&8772&&r!==null?(r.return=n,R=r):Pc(t)}}function Pc(t){for(;R!==null;){var e=R;if(e.flags&8772){var s=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:be||Oo(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!be)if(s===null)i.componentDidMount();else{var n=e.elementType===e.type?s.memoizedProps:rt(e.type,s.memoizedProps);i.componentDidUpdate(n,s.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var r=e.updateQueue;r!==null&&fc(e,r,i);break;case 3:var o=e.updateQueue;if(o!==null){if(s=null,e.child!==null)switch(e.child.tag){case 5:s=e.child.stateNode;break;case 1:s=e.child.stateNode}fc(e,o,s)}break;case 5:var l=e.stateNode;if(s===null&&e.flags&4){s=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&s.focus();break;case"img":a.src&&(s.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var c=h.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&jn(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}be||e.flags&512&&Da(e)}catch(f){te(e,e.return,f)}}if(e===t){R=null;break}if(s=e.sibling,s!==null){s.return=e.return,R=s;break}R=e.return}}function Tc(t){for(;R!==null;){var e=R;if(e===t){R=null;break}var s=e.sibling;if(s!==null){s.return=e.return,R=s;break}R=e.return}}function Rc(t){for(;R!==null;){var e=R;try{switch(e.tag){case 0:case 11:case 15:var s=e.return;try{Oo(4,e)}catch(a){te(e,s,a)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var n=e.return;try{i.componentDidMount()}catch(a){te(e,n,a)}}var r=e.return;try{Da(e)}catch(a){te(e,r,a)}break;case 5:var o=e.return;try{Da(e)}catch(a){te(e,o,a)}}}catch(a){te(e,e.return,a)}if(e===t){R=null;break}var l=e.sibling;if(l!==null){l.return=e.return,R=l;break}R=e.return}}var Av=Math.ceil,uo=At.ReactCurrentDispatcher,Zu=At.ReactCurrentOwner,Ke=At.ReactCurrentBatchConfig,D=0,de=null,re=null,ve=0,Ae=0,ai=cs(0),he=0,$n=null,Ms=0,Lo=0,Xu=0,cn=null,Te=null,eh=0,ki=1/0,St=null,ho=!1,Va=null,ns=null,fr=!1,Kt=null,co=0,dn=0,Wa=null,Ar=-1,zr=0;function Ne(){return D&6?ie():Ar!==-1?Ar:Ar=ie()}function rs(t){return t.mode&1?D&2&&ve!==0?ve&-ve:wv.transition!==null?(zr===0&&(zr=Df()),zr):(t=V,t!==0||(t=window.event,t=t===void 0?16:Yf(t.type)),t):1}function ht(t,e,s,i){if(50<dn)throw dn=0,Wa=null,Error(N(185));Bn(t,s,i),(!(D&2)||t!==de)&&(t===de&&(!(D&2)&&(Lo|=s),he===4&&Jt(t,ve)),Ie(t,i),s===1&&D===0&&!(e.mode&1)&&(ki=ie()+500,To&&ds()))}function Ie(t,e){var s=t.callbackNode;w0(t,e);var i=Jr(t,t===de?ve:0);if(i===0)s!==null&&Dh(s),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(s!=null&&Dh(s),e===1)t.tag===0?xv(Mc.bind(null,t)):dp(Mc.bind(null,t)),mv(function(){!(D&6)&&ds()}),s=null;else{switch(Uf(i)){case 1:s=Nu;break;case 4:s=zf;break;case 16:s=Yr;break;case 536870912:s=Ff;break;default:s=Yr}s=hm(s,im.bind(null,t))}t.callbackPriority=e,t.callbackNode=s}}function im(t,e){if(Ar=-1,zr=0,D&6)throw Error(N(327));var s=t.callbackNode;if(gi()&&t.callbackNode!==s)return null;var i=Jr(t,t===de?ve:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=fo(t,i);else{e=i;var n=D;D|=2;var r=rm();(de!==t||ve!==e)&&(St=null,ki=ie()+500,Ns(t,e));do try{Dv();break}catch(l){nm(t,l)}while(!0);Fu(),uo.current=r,D=n,re!==null?e=0:(de=null,ve=0,e=he)}if(e!==0){if(e===2&&(n=va(t),n!==0&&(i=n,e=qa(t,n))),e===1)throw s=$n,Ns(t,0),Jt(t,i),Ie(t,ie()),s;if(e===6)Jt(t,i);else{if(n=t.current.alternate,!(i&30)&&!zv(n)&&(e=fo(t,i),e===2&&(r=va(t),r!==0&&(i=r,e=qa(t,r))),e===1))throw s=$n,Ns(t,0),Jt(t,i),Ie(t,ie()),s;switch(t.finishedWork=n,t.finishedLanes=i,e){case 0:case 1:throw Error(N(345));case 2:ws(t,Te,St);break;case 3:if(Jt(t,i),(i&130023424)===i&&(e=eh+500-ie(),10<e)){if(Jr(t,0)!==0)break;if(n=t.suspendedLanes,(n&i)!==i){Ne(),t.pingedLanes|=t.suspendedLanes&n;break}t.timeoutHandle=ja(ws.bind(null,t,Te,St),e);break}ws(t,Te,St);break;case 4:if(Jt(t,i),(i&4194240)===i)break;for(e=t.eventTimes,n=-1;0<i;){var o=31-ut(i);r=1<<o,o=e[o],o>n&&(n=o),i&=~r}if(i=n,i=ie()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Av(i/1960))-i,10<i){t.timeoutHandle=ja(ws.bind(null,t,Te,St),i);break}ws(t,Te,St);break;case 5:ws(t,Te,St);break;default:throw Error(N(329))}}}return Ie(t,ie()),t.callbackNode===s?im.bind(null,t):null}function qa(t,e){var s=cn;return t.current.memoizedState.isDehydrated&&(Ns(t,e).flags|=256),t=fo(t,e),t!==2&&(e=Te,Te=s,e!==null&&Ha(e)),t}function Ha(t){Te===null?Te=t:Te.push.apply(Te,t)}function zv(t){for(var e=t;;){if(e.flags&16384){var s=e.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var i=0;i<s.length;i++){var n=s[i],r=n.getSnapshot;n=n.value;try{if(!ct(r(),n))return!1}catch{return!1}}}if(s=e.child,e.subtreeFlags&16384&&s!==null)s.return=e,e=s;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Jt(t,e){for(e&=~Xu,e&=~Lo,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var s=31-ut(e),i=1<<s;t[s]=-1,e&=~i}}function Mc(t){if(D&6)throw Error(N(327));gi();var e=Jr(t,0);if(!(e&1))return Ie(t,ie()),null;var s=fo(t,e);if(t.tag!==0&&s===2){var i=va(t);i!==0&&(e=i,s=qa(t,i))}if(s===1)throw s=$n,Ns(t,0),Jt(t,e),Ie(t,ie()),s;if(s===6)throw Error(N(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ws(t,Te,St),Ie(t,ie()),null}function th(t,e){var s=D;D|=1;try{return t(e)}finally{D=s,D===0&&(ki=ie()+500,To&&ds())}}function Os(t){Kt!==null&&Kt.tag===0&&!(D&6)&&gi();var e=D;D|=1;var s=Ke.transition,i=V;try{if(Ke.transition=null,V=1,t)return t()}finally{V=i,Ke.transition=s,D=e,!(D&6)&&ds()}}function sh(){Ae=ai.current,J(ai)}function Ns(t,e){t.finishedWork=null,t.finishedLanes=0;var s=t.timeoutHandle;if(s!==-1&&(t.timeoutHandle=-1,pv(s)),re!==null)for(s=re.return;s!==null;){var i=s;switch($u(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Xr();break;case 3:_i(),J(Oe),J(_e),qu();break;case 5:Wu(i);break;case 4:_i();break;case 13:J(Z);break;case 19:J(Z);break;case 10:Du(i.type._context);break;case 22:case 23:sh()}s=s.return}if(de=t,re=t=os(t.current,null),ve=Ae=e,he=0,$n=null,Xu=Lo=Ms=0,Te=cn=null,ks!==null){for(e=0;e<ks.length;e++)if(s=ks[e],i=s.interleaved,i!==null){s.interleaved=null;var n=i.next,r=s.pending;if(r!==null){var o=r.next;r.next=n,i.next=o}s.pending=i}ks=null}return t}function nm(t,e){do{var s=re;try{if(Fu(),Lr.current=ao,lo){for(var i=X.memoizedState;i!==null;){var n=i.queue;n!==null&&(n.pending=null),i=i.next}lo=!1}if(Rs=0,ce=ue=X=null,un=!1,On=0,Zu.current=null,s===null||s.return===null){he=1,$n=e,re=null;break}e:{var r=t,o=s.return,l=s,a=e;if(e=ve,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var h=a,c=l,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=xc(o);if(p!==null){p.flags&=-257,wc(p,o,l,r,e),p.mode&1&&yc(r,h,e),e=p,a=h;var g=e.updateQueue;if(g===null){var x=new Set;x.add(a),e.updateQueue=x}else g.add(a);break e}else{if(!(e&1)){yc(r,h,e),ih();break e}a=Error(N(426))}}else if(Q&&l.mode&1){var w=xc(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),wc(w,o,l,r,e),Au(Si(a,l));break e}}r=a=Si(a,l),he!==4&&(he=2),cn===null?cn=[r]:cn.push(r),r=o;do{switch(r.tag){case 3:r.flags|=65536,e&=-e,r.lanes|=e;var v=Up(r,a,e);dc(r,v);break e;case 1:l=a;var y=r.type,m=r.stateNode;if(!(r.flags&128)&&(typeof y.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(ns===null||!ns.has(m)))){r.flags|=65536,e&=-e,r.lanes|=e;var b=Bp(r,l,e);dc(r,b);break e}}r=r.return}while(r!==null)}lm(s)}catch(S){e=S,re===s&&s!==null&&(re=s=s.return);continue}break}while(!0)}function rm(){var t=uo.current;return uo.current=ao,t===null?ao:t}function ih(){(he===0||he===3||he===2)&&(he=4),de===null||!(Ms&268435455)&&!(Lo&268435455)||Jt(de,ve)}function fo(t,e){var s=D;D|=2;var i=rm();(de!==t||ve!==e)&&(St=null,Ns(t,e));do try{Fv();break}catch(n){nm(t,n)}while(!0);if(Fu(),D=s,uo.current=i,re!==null)throw Error(N(261));return de=null,ve=0,he}function Fv(){for(;re!==null;)om(re)}function Dv(){for(;re!==null&&!c0();)om(re)}function om(t){var e=um(t.alternate,t,Ae);t.memoizedProps=t.pendingProps,e===null?lm(t):re=e,Zu.current=null}function lm(t){var e=t;do{var s=e.alternate;if(t=e.return,e.flags&32768){if(s=Ov(s,e),s!==null){s.flags&=32767,re=s;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{he=6,re=null;return}}else if(s=Mv(s,e,Ae),s!==null){re=s;return}if(e=e.sibling,e!==null){re=e;return}re=e=t}while(e!==null);he===0&&(he=5)}function ws(t,e,s){var i=V,n=Ke.transition;try{Ke.transition=null,V=1,Uv(t,e,s,i)}finally{Ke.transition=n,V=i}return null}function Uv(t,e,s,i){do gi();while(Kt!==null);if(D&6)throw Error(N(327));s=t.finishedWork;var n=t.finishedLanes;if(s===null)return null;if(t.finishedWork=null,t.finishedLanes=0,s===t.current)throw Error(N(177));t.callbackNode=null,t.callbackPriority=0;var r=s.lanes|s.childLanes;if(b0(t,r),t===de&&(re=de=null,ve=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||fr||(fr=!0,hm(Yr,function(){return gi(),null})),r=(s.flags&15990)!==0,s.subtreeFlags&15990||r){r=Ke.transition,Ke.transition=null;var o=V;V=1;var l=D;D|=4,Zu.current=null,Iv(t,s),tm(s,t),lv(Sa),Gr=!!_a,Sa=_a=null,t.current=s,$v(s),d0(),D=l,V=o,Ke.transition=r}else t.current=s;if(fr&&(fr=!1,Kt=t,co=n),r=t.pendingLanes,r===0&&(ns=null),m0(s.stateNode),Ie(t,ie()),e!==null)for(i=t.onRecoverableError,s=0;s<e.length;s++)n=e[s],i(n.value,{componentStack:n.stack,digest:n.digest});if(ho)throw ho=!1,t=Va,Va=null,t;return co&1&&t.tag!==0&&gi(),r=t.pendingLanes,r&1?t===Wa?dn++:(dn=0,Wa=t):dn=0,ds(),null}function gi(){if(Kt!==null){var t=Uf(co),e=Ke.transition,s=V;try{if(Ke.transition=null,V=16>t?16:t,Kt===null)var i=!1;else{if(t=Kt,Kt=null,co=0,D&6)throw Error(N(331));var n=D;for(D|=4,R=t.current;R!==null;){var r=R,o=r.child;if(R.flags&16){var l=r.deletions;if(l!==null){for(var a=0;a<l.length;a++){var h=l[a];for(R=h;R!==null;){var c=R;switch(c.tag){case 0:case 11:case 15:hn(8,c,r)}var d=c.child;if(d!==null)d.return=c,R=d;else for(;R!==null;){c=R;var f=c.sibling,p=c.return;if(Zp(c),c===h){R=null;break}if(f!==null){f.return=p,R=f;break}R=p}}}var g=r.alternate;if(g!==null){var x=g.child;if(x!==null){g.child=null;do{var w=x.sibling;x.sibling=null,x=w}while(x!==null)}}R=r}}if(r.subtreeFlags&2064&&o!==null)o.return=r,R=o;else e:for(;R!==null;){if(r=R,r.flags&2048)switch(r.tag){case 0:case 11:case 15:hn(9,r,r.return)}var v=r.sibling;if(v!==null){v.return=r.return,R=v;break e}R=r.return}}var y=t.current;for(R=y;R!==null;){o=R;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,R=m;else e:for(o=y;R!==null;){if(l=R,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Oo(9,l)}}catch(S){te(l,l.return,S)}if(l===o){R=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,R=b;break e}R=l.return}}if(D=n,ds(),yt&&typeof yt.onPostCommitFiberRoot=="function")try{yt.onPostCommitFiberRoot(jo,t)}catch{}i=!0}return i}finally{V=s,Ke.transition=e}}return!1}function Oc(t,e,s){e=Si(s,e),e=Up(t,e,1),t=is(t,e,1),e=Ne(),t!==null&&(Bn(t,1,e),Ie(t,e))}function te(t,e,s){if(t.tag===3)Oc(t,t,s);else for(;e!==null;){if(e.tag===3){Oc(e,t,s);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(ns===null||!ns.has(i))){t=Si(s,t),t=Bp(e,t,1),e=is(e,t,1),t=Ne(),e!==null&&(Bn(e,1,t),Ie(e,t));break}}e=e.return}}function Bv(t,e,s){var i=t.pingCache;i!==null&&i.delete(e),e=Ne(),t.pingedLanes|=t.suspendedLanes&s,de===t&&(ve&s)===s&&(he===4||he===3&&(ve&130023424)===ve&&500>ie()-eh?Ns(t,0):Xu|=s),Ie(t,e)}function am(t,e){e===0&&(t.mode&1?(e=ir,ir<<=1,!(ir&130023424)&&(ir=4194304)):e=1);var s=Ne();t=Lt(t,e),t!==null&&(Bn(t,e,s),Ie(t,s))}function Vv(t){var e=t.memoizedState,s=0;e!==null&&(s=e.retryLane),am(t,s)}function Wv(t,e){var s=0;switch(t.tag){case 13:var i=t.stateNode,n=t.memoizedState;n!==null&&(s=n.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(N(314))}i!==null&&i.delete(e),am(t,s)}var um;um=function(t,e,s){if(t!==null)if(t.memoizedProps!==e.pendingProps||Oe.current)Me=!0;else{if(!(t.lanes&s)&&!(e.flags&128))return Me=!1,Rv(t,e,s);Me=!!(t.flags&131072)}else Me=!1,Q&&e.flags&1048576&&fp(e,so,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;$r(t,e),t=e.pendingProps;var n=xi(e,_e.current);mi(e,s),n=Yu(null,e,i,t,n,s);var r=Ju();return e.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Le(i)?(r=!0,eo(e)):r=!1,e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,Bu(e),n.updater=Mo,e.stateNode=n,n._reactInternals=e,Ma(e,i,t,s),e=Ia(null,e,i,!0,r,s)):(e.tag=0,Q&&r&&Iu(e),je(null,e,n,s),e=e.child),e;case 16:i=e.elementType;e:{switch($r(t,e),t=e.pendingProps,n=i._init,i=n(i._payload),e.type=i,n=e.tag=Hv(i),t=rt(i,t),n){case 0:e=La(null,e,i,t,s);break e;case 1:e=Sc(null,e,i,t,s);break e;case 11:e=bc(null,e,i,t,s);break e;case 14:e=_c(null,e,i,rt(i.type,t),s);break e}throw Error(N(306,i,""))}return e;case 0:return i=e.type,n=e.pendingProps,n=e.elementType===i?n:rt(i,n),La(t,e,i,n,s);case 1:return i=e.type,n=e.pendingProps,n=e.elementType===i?n:rt(i,n),Sc(t,e,i,n,s);case 3:e:{if(Hp(e),t===null)throw Error(N(387));i=e.pendingProps,r=e.memoizedState,n=r.element,xp(t,e),ro(e,i,null,s);var o=e.memoizedState;if(i=o.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){n=Si(Error(N(423)),e),e=kc(t,e,i,s,n);break e}else if(i!==n){n=Si(Error(N(424)),e),e=kc(t,e,i,s,n);break e}else for(ze=ss(e.stateNode.containerInfo.firstChild),Fe=e,Q=!0,at=null,s=vp(e,null,i,s),e.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(wi(),i===n){e=It(t,e,s);break e}je(t,e,i,s)}e=e.child}return e;case 5:return wp(e),t===null&&Pa(e),i=e.type,n=e.pendingProps,r=t!==null?t.memoizedProps:null,o=n.children,ka(i,n)?o=null:r!==null&&ka(i,r)&&(e.flags|=32),qp(t,e),je(t,e,o,s),e.child;case 6:return t===null&&Pa(e),null;case 13:return Yp(t,e,s);case 4:return Vu(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=bi(e,null,i,s):je(t,e,i,s),e.child;case 11:return i=e.type,n=e.pendingProps,n=e.elementType===i?n:rt(i,n),bc(t,e,i,n,s);case 7:return je(t,e,e.pendingProps,s),e.child;case 8:return je(t,e,e.pendingProps.children,s),e.child;case 12:return je(t,e,e.pendingProps.children,s),e.child;case 10:e:{if(i=e.type._context,n=e.pendingProps,r=e.memoizedProps,o=n.value,H(io,i._currentValue),i._currentValue=o,r!==null)if(ct(r.value,o)){if(r.children===n.children&&!Oe.current){e=It(t,e,s);break e}}else for(r=e.child,r!==null&&(r.return=e);r!==null;){var l=r.dependencies;if(l!==null){o=r.child;for(var a=l.firstContext;a!==null;){if(a.context===i){if(r.tag===1){a=Tt(-1,s&-s),a.tag=2;var h=r.updateQueue;if(h!==null){h=h.shared;var c=h.pending;c===null?a.next=a:(a.next=c.next,c.next=a),h.pending=a}}r.lanes|=s,a=r.alternate,a!==null&&(a.lanes|=s),Ta(r.return,s,e),l.lanes|=s;break}a=a.next}}else if(r.tag===10)o=r.type===e.type?null:r.child;else if(r.tag===18){if(o=r.return,o===null)throw Error(N(341));o.lanes|=s,l=o.alternate,l!==null&&(l.lanes|=s),Ta(o,s,e),o=r.sibling}else o=r.child;if(o!==null)o.return=r;else for(o=r;o!==null;){if(o===e){o=null;break}if(r=o.sibling,r!==null){r.return=o.return,o=r;break}o=o.return}r=o}je(t,e,n.children,s),e=e.child}return e;case 9:return n=e.type,i=e.pendingProps.children,mi(e,s),n=Xe(n),i=i(n),e.flags|=1,je(t,e,i,s),e.child;case 14:return i=e.type,n=rt(i,e.pendingProps),n=rt(i.type,n),_c(t,e,i,n,s);case 15:return Vp(t,e,e.type,e.pendingProps,s);case 17:return i=e.type,n=e.pendingProps,n=e.elementType===i?n:rt(i,n),$r(t,e),e.tag=1,Le(i)?(t=!0,eo(e)):t=!1,mi(e,s),Dp(e,i,n),Ma(e,i,n,s),Ia(null,e,i,!0,t,s);case 19:return Jp(t,e,s);case 22:return Wp(t,e,s)}throw Error(N(156,e.tag))};function hm(t,e){return Af(t,e)}function qv(t,e,s,i){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qe(t,e,s,i){return new qv(t,e,s,i)}function nh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Hv(t){if(typeof t=="function")return nh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Su)return 11;if(t===ku)return 14}return 2}function os(t,e){var s=t.alternate;return s===null?(s=Qe(t.tag,e,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=e,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&14680064,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,e=t.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s}function Fr(t,e,s,i,n,r){var o=2;if(i=t,typeof t=="function")nh(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Zs:return Es(s.children,n,r,e);case _u:o=8,n|=8;break;case sa:return t=Qe(12,s,e,n|2),t.elementType=sa,t.lanes=r,t;case ia:return t=Qe(13,s,e,n),t.elementType=ia,t.lanes=r,t;case na:return t=Qe(19,s,e,n),t.elementType=na,t.lanes=r,t;case wf:return Io(s,n,r,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case yf:o=10;break e;case xf:o=9;break e;case Su:o=11;break e;case ku:o=14;break e;case qt:o=16,i=null;break e}throw Error(N(130,t==null?t:typeof t,""))}return e=Qe(o,s,e,n),e.elementType=t,e.type=i,e.lanes=r,e}function Es(t,e,s,i){return t=Qe(7,t,i,e),t.lanes=s,t}function Io(t,e,s,i){return t=Qe(22,t,i,e),t.elementType=wf,t.lanes=s,t.stateNode={isHidden:!1},t}function Nl(t,e,s){return t=Qe(6,t,null,e),t.lanes=s,t}function El(t,e,s){return e=Qe(4,t.children!==null?t.children:[],t.key,e),e.lanes=s,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Yv(t,e,s,i,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ll(0),this.expirationTimes=ll(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ll(0),this.identifierPrefix=i,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function rh(t,e,s,i,n,r,o,l,a){return t=new Yv(t,e,s,l,a),e===1?(e=1,r===!0&&(e|=8)):e=0,r=Qe(3,null,null,e),t.current=r,r.stateNode=t,r.memoizedState={element:i,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bu(r),t}function Jv(t,e,s){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ks,key:i==null?null:""+i,children:t,containerInfo:e,implementation:s}}function cm(t){if(!t)return us;t=t._reactInternals;e:{if(zs(t)!==t||t.tag!==1)throw Error(N(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Le(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(N(171))}if(t.tag===1){var s=t.type;if(Le(s))return cp(t,s,e)}return e}function dm(t,e,s,i,n,r,o,l,a){return t=rh(s,i,!0,t,n,r,o,l,a),t.context=cm(null),s=t.current,i=Ne(),n=rs(s),r=Tt(i,n),r.callback=e??null,is(s,r,n),t.current.lanes=n,Bn(t,n,i),Ie(t,i),t}function $o(t,e,s,i){var n=e.current,r=Ne(),o=rs(n);return s=cm(s),e.context===null?e.context=s:e.pendingContext=s,e=Tt(r,o),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=is(n,e,o),t!==null&&(ht(t,n,o,r),Or(t,n,o)),o}function po(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Lc(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<e?s:e}}function oh(t,e){Lc(t,e),(t=t.alternate)&&Lc(t,e)}function Gv(){return null}var fm=typeof reportError=="function"?reportError:function(t){console.error(t)};function lh(t){this._internalRoot=t}Ao.prototype.render=lh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(N(409));$o(t,e,null,null)};Ao.prototype.unmount=lh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Os(function(){$o(null,t,null,null)}),e[Ot]=null}};function Ao(t){this._internalRoot=t}Ao.prototype.unstable_scheduleHydration=function(t){if(t){var e=Wf();t={blockedOn:null,target:t,priority:e};for(var s=0;s<Yt.length&&e!==0&&e<Yt[s].priority;s++);Yt.splice(s,0,t),s===0&&Hf(t)}};function ah(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function zo(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ic(){}function Qv(t,e,s,i,n){if(n){if(typeof i=="function"){var r=i;i=function(){var h=po(o);r.call(h)}}var o=dm(e,i,t,0,null,!1,!1,"",Ic);return t._reactRootContainer=o,t[Ot]=o.current,Cn(t.nodeType===8?t.parentNode:t),Os(),o}for(;n=t.lastChild;)t.removeChild(n);if(typeof i=="function"){var l=i;i=function(){var h=po(a);l.call(h)}}var a=rh(t,0,!1,null,null,!1,!1,"",Ic);return t._reactRootContainer=a,t[Ot]=a.current,Cn(t.nodeType===8?t.parentNode:t),Os(function(){$o(e,a,s,i)}),a}function Fo(t,e,s,i,n){var r=s._reactRootContainer;if(r){var o=r;if(typeof n=="function"){var l=n;n=function(){var a=po(o);l.call(a)}}$o(e,o,t,n)}else o=Qv(s,e,t,n,i);return po(o)}Bf=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var s=en(e.pendingLanes);s!==0&&(Eu(e,s|1),Ie(e,ie()),!(D&6)&&(ki=ie()+500,ds()))}break;case 13:Os(function(){var i=Lt(t,1);if(i!==null){var n=Ne();ht(i,t,1,n)}}),oh(t,1)}};Cu=function(t){if(t.tag===13){var e=Lt(t,134217728);if(e!==null){var s=Ne();ht(e,t,134217728,s)}oh(t,134217728)}};Vf=function(t){if(t.tag===13){var e=rs(t),s=Lt(t,e);if(s!==null){var i=Ne();ht(s,t,e,i)}oh(t,e)}};Wf=function(){return V};qf=function(t,e){var s=V;try{return V=t,e()}finally{V=s}};pa=function(t,e,s){switch(e){case"input":if(la(t,s),e=s.name,s.type==="radio"&&e!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<s.length;e++){var i=s[e];if(i!==t&&i.form===t.form){var n=Po(i);if(!n)throw Error(N(90));_f(i),la(i,n)}}}break;case"textarea":kf(t,s);break;case"select":e=s.value,e!=null&&ci(t,!!s.multiple,e,!1)}};Rf=th;Mf=Os;var Kv={usingClientEntryPoint:!1,Events:[Wn,si,Po,Pf,Tf,th]},Yi={findFiberByHostInstance:Ss,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Zv={bundleType:Yi.bundleType,version:Yi.version,rendererPackageName:Yi.rendererPackageName,rendererConfig:Yi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:At.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=If(t),t===null?null:t.stateNode},findFiberByHostInstance:Yi.findFiberByHostInstance||Gv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pr.isDisabled&&pr.supportsFiber)try{jo=pr.inject(Zv),yt=pr}catch{}}Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kv;Be.createPortal=function(t,e){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ah(e))throw Error(N(200));return Jv(t,e,null,s)};Be.createRoot=function(t,e){if(!ah(t))throw Error(N(299));var s=!1,i="",n=fm;return e!=null&&(e.unstable_strictMode===!0&&(s=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(n=e.onRecoverableError)),e=rh(t,1,!1,null,null,s,!1,i,n),t[Ot]=e.current,Cn(t.nodeType===8?t.parentNode:t),new lh(e)};Be.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(N(188)):(t=Object.keys(t).join(","),Error(N(268,t)));return t=If(e),t=t===null?null:t.stateNode,t};Be.flushSync=function(t){return Os(t)};Be.hydrate=function(t,e,s){if(!zo(e))throw Error(N(200));return Fo(null,t,e,!0,s)};Be.hydrateRoot=function(t,e,s){if(!ah(t))throw Error(N(405));var i=s!=null&&s.hydratedSources||null,n=!1,r="",o=fm;if(s!=null&&(s.unstable_strictMode===!0&&(n=!0),s.identifierPrefix!==void 0&&(r=s.identifierPrefix),s.onRecoverableError!==void 0&&(o=s.onRecoverableError)),e=dm(e,null,t,1,s??null,n,!1,r,o),t[Ot]=e.current,Cn(t),i)for(t=0;t<i.length;t++)s=i[t],n=s._getVersion,n=n(s._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[s,n]:e.mutableSourceEagerHydrationData.push(s,n);return new Ao(e)};Be.render=function(t,e,s){if(!zo(e))throw Error(N(200));return Fo(null,t,e,!1,s)};Be.unmountComponentAtNode=function(t){if(!zo(t))throw Error(N(40));return t._reactRootContainer?(Os(function(){Fo(null,null,t,!1,function(){t._reactRootContainer=null,t[Ot]=null})}),!0):!1};Be.unstable_batchedUpdates=th;Be.unstable_renderSubtreeIntoContainer=function(t,e,s,i){if(!zo(s))throw Error(N(200));if(t==null||t._reactInternals===void 0)throw Error(N(38));return Fo(t,e,s,!1,i)};Be.version="18.3.1-next-f1338f8080-20240426";function pm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(pm)}catch(t){console.error(t)}}pm(),pf.exports=Be;var Xv=pf.exports,mm,$c=Xv;mm=$c.createRoot,$c.hydrateRoot;/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Ac="popstate";function ey(t={}){function e(i,n){let{pathname:r,search:o,hash:l}=i.location;return Ya("",{pathname:r,search:o,hash:l},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function s(i,n){return typeof n=="string"?n:An(n)}return sy(e,s,null,t)}function K(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function tt(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ty(){return Math.random().toString(36).substring(2,10)}function zc(t,e){return{usr:t.state,key:t.key,idx:e}}function Ya(t,e,s=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Oi(e):e,state:s,key:e&&e.key||i||ty()}}function An({pathname:t="/",search:e="",hash:s=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Oi(t){let e={};if(t){let s=t.indexOf("#");s>=0&&(e.hash=t.substring(s),t=t.substring(0,s));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function sy(t,e,s,i={}){let{window:n=document.defaultView,v5Compat:r=!1}=i,o=n.history,l="POP",a=null,h=c();h==null&&(h=0,o.replaceState({...o.state,idx:h},""));function c(){return(o.state||{idx:null}).idx}function d(){l="POP";let w=c(),v=w==null?null:w-h;h=w,a&&a({action:l,location:x.location,delta:v})}function f(w,v){l="PUSH";let y=Ya(x.location,w,v);h=c()+1;let m=zc(y,h),b=x.createHref(y);try{o.pushState(m,"",b)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;n.location.assign(b)}r&&a&&a({action:l,location:x.location,delta:1})}function p(w,v){l="REPLACE";let y=Ya(x.location,w,v);h=c();let m=zc(y,h),b=x.createHref(y);o.replaceState(m,"",b),r&&a&&a({action:l,location:x.location,delta:0})}function g(w){return iy(w)}let x={get action(){return l},get location(){return t(n,o)},listen(w){if(a)throw new Error("A history only accepts one active listener");return n.addEventListener(Ac,d),a=w,()=>{n.removeEventListener(Ac,d),a=null}},createHref(w){return e(n,w)},createURL:g,encodeLocation(w){let v=g(w);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:p,go(w){return o.go(w)}};return x}function iy(t,e=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),K(s,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:An(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=s+i),new URL(i,s)}function gm(t,e,s="/"){return ny(t,e,s,!1)}function ny(t,e,s,i){let n=typeof e=="string"?Oi(e):e,r=$t(n.pathname||"/",s);if(r==null)return null;let o=vm(t);ry(o);let l=null;for(let a=0;l==null&&a<o.length;++a){let h=gy(r);l=py(o[a],h,i)}return l}function vm(t,e=[],s=[],i="",n=!1){let r=(o,l,a=n,h)=>{let c={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(c.relativePath.startsWith("/")){if(!c.relativePath.startsWith(i)&&a)return;K(c.relativePath.startsWith(i),`Absolute route path "${c.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(i.length)}let d=Rt([i,c.relativePath]),f=s.concat(c);o.children&&o.children.length>0&&(K(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),vm(o.children,e,f,d,a)),!(o.path==null&&!o.index)&&e.push({path:d,score:dy(d,o.index),routesMeta:f})};return t.forEach((o,l)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))r(o,l);else for(let h of ym(o.path))r(o,l,!0,h)}),e}function ym(t){let e=t.split("/");if(e.length===0)return[];let[s,...i]=e,n=s.endsWith("?"),r=s.replace(/\?$/,"");if(i.length===0)return n?[r,""]:[r];let o=ym(i.join("/")),l=[];return l.push(...o.map(a=>a===""?r:[r,a].join("/"))),n&&l.push(...o),l.map(a=>t.startsWith("/")&&a===""?"/":a)}function ry(t){t.sort((e,s)=>e.score!==s.score?s.score-e.score:fy(e.routesMeta.map(i=>i.childrenIndex),s.routesMeta.map(i=>i.childrenIndex)))}var oy=/^:[\w-]+$/,ly=3,ay=2,uy=1,hy=10,cy=-2,Fc=t=>t==="*";function dy(t,e){let s=t.split("/"),i=s.length;return s.some(Fc)&&(i+=cy),e&&(i+=ay),s.filter(n=>!Fc(n)).reduce((n,r)=>n+(oy.test(r)?ly:r===""?uy:hy),i)}function fy(t,e){return t.length===e.length&&t.slice(0,-1).every((i,n)=>i===e[n])?t[t.length-1]-e[e.length-1]:0}function py(t,e,s=!1){let{routesMeta:i}=t,n={},r="/",o=[];for(let l=0;l<i.length;++l){let a=i[l],h=l===i.length-1,c=r==="/"?e:e.slice(r.length)||"/",d=mo({path:a.relativePath,caseSensitive:a.caseSensitive,end:h},c),f=a.route;if(!d&&h&&s&&!i[i.length-1].route.index&&(d=mo({path:a.relativePath,caseSensitive:a.caseSensitive,end:!1},c)),!d)return null;Object.assign(n,d.params),o.push({params:n,pathname:Rt([r,d.pathname]),pathnameBase:by(Rt([r,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(r=Rt([r,d.pathnameBase]))}return o}function mo(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[s,i]=my(t.path,t.caseSensitive,t.end),n=e.match(s);if(!n)return null;let r=n[0],o=r.replace(/(.)\/+$/,"$1"),l=n.slice(1);return{params:i.reduce((h,{paramName:c,isOptional:d},f)=>{if(c==="*"){let g=l[f]||"";o=r.slice(0,r.length-g.length).replace(/(.)\/+$/,"$1")}const p=l[f];return d&&!p?h[c]=void 0:h[c]=(p||"").replace(/%2F/g,"/"),h},{}),pathname:r,pathnameBase:o,pattern:t}}function my(t,e=!1,s=!0){tt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],n="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,a)=>(i.push({paramName:l,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),n+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?n+="\\/*$":t!==""&&t!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,e?void 0:"i"),i]}function gy(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return tt(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function $t(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let s=e.endsWith("/")?e.length-1:e.length,i=t.charAt(s);return i&&i!=="/"?null:t.slice(s)||"/"}var vy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yy=t=>vy.test(t);function xy(t,e="/"){let{pathname:s,search:i="",hash:n=""}=typeof t=="string"?Oi(t):t,r;if(s)if(yy(s))r=s;else{if(s.includes("//")){let o=s;s=s.replace(/\/\/+/g,"/"),tt(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${s}`)}s.startsWith("/")?r=Dc(s.substring(1),"/"):r=Dc(s,e)}else r=e;return{pathname:r,search:_y(i),hash:Sy(n)}}function Dc(t,e){let s=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(n=>{n===".."?s.length>1&&s.pop():n!=="."&&s.push(n)}),s.length>1?s.join("/"):"/"}function Cl(t,e,s,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function wy(t){return t.filter((e,s)=>s===0||e.route.path&&e.route.path.length>0)}function uh(t){let e=wy(t);return e.map((s,i)=>i===e.length-1?s.pathname:s.pathnameBase)}function hh(t,e,s,i=!1){let n;typeof t=="string"?n=Oi(t):(n={...t},K(!n.pathname||!n.pathname.includes("?"),Cl("?","pathname","search",n)),K(!n.pathname||!n.pathname.includes("#"),Cl("#","pathname","hash",n)),K(!n.search||!n.search.includes("#"),Cl("#","search","hash",n)));let r=t===""||n.pathname==="",o=r?"/":n.pathname,l;if(o==null)l=s;else{let d=e.length-1;if(!i&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;n.pathname=f.join("/")}l=d>=0?e[d]:"/"}let a=xy(n,l),h=o&&o!=="/"&&o.endsWith("/"),c=(r||o===".")&&s.endsWith("/");return!a.pathname.endsWith("/")&&(h||c)&&(a.pathname+="/"),a}var Rt=t=>t.join("/").replace(/\/\/+/g,"/"),by=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),_y=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Sy=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function ky(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function jy(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var xm=["POST","PUT","PATCH","DELETE"];new Set(xm);var Ny=["GET",...xm];new Set(Ny);var Li=_.createContext(null);Li.displayName="DataRouter";var Do=_.createContext(null);Do.displayName="DataRouterState";_.createContext(!1);var wm=_.createContext({isTransitioning:!1});wm.displayName="ViewTransition";var Ey=_.createContext(new Map);Ey.displayName="Fetchers";var Cy=_.createContext(null);Cy.displayName="Await";var st=_.createContext(null);st.displayName="Navigation";var Hn=_.createContext(null);Hn.displayName="Location";var wt=_.createContext({outlet:null,matches:[],isDataRoute:!1});wt.displayName="Route";var ch=_.createContext(null);ch.displayName="RouteError";function Py(t,{relative:e}={}){K(Ii(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:i}=_.useContext(st),{hash:n,pathname:r,search:o}=Yn(t,{relative:e}),l=r;return s!=="/"&&(l=r==="/"?s:Rt([s,r])),i.createHref({pathname:l,search:o,hash:n})}function Ii(){return _.useContext(Hn)!=null}function zt(){return K(Ii(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(Hn).location}var bm="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _m(t){_.useContext(st).static||_.useLayoutEffect(t)}function Sm(){let{isDataRoute:t}=_.useContext(wt);return t?By():Ty()}function Ty(){K(Ii(),"useNavigate() may be used only in the context of a <Router> component.");let t=_.useContext(Li),{basename:e,navigator:s}=_.useContext(st),{matches:i}=_.useContext(wt),{pathname:n}=zt(),r=JSON.stringify(uh(i)),o=_.useRef(!1);return _m(()=>{o.current=!0}),_.useCallback((a,h={})=>{if(tt(o.current,bm),!o.current)return;if(typeof a=="number"){s.go(a);return}let c=hh(a,JSON.parse(r),n,h.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:Rt([e,c.pathname])),(h.replace?s.replace:s.push)(c,h.state,h)},[e,s,r,n,t])}_.createContext(null);function Yn(t,{relative:e}={}){let{matches:s}=_.useContext(wt),{pathname:i}=zt(),n=JSON.stringify(uh(s));return _.useMemo(()=>hh(t,JSON.parse(n),i,e==="path"),[t,n,i,e])}function Ry(t,e){return km(t,e)}function km(t,e,s,i,n){var y;K(Ii(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=_.useContext(st),{matches:o}=_.useContext(wt),l=o[o.length-1],a=l?l.params:{},h=l?l.pathname:"/",c=l?l.pathnameBase:"/",d=l&&l.route;{let m=d&&d.path||"";jm(h,!d||m.endsWith("*")||m.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${m}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${m}"> to <Route path="${m==="/"?"*":`${m}/*`}">.`)}let f=zt(),p;if(e){let m=typeof e=="string"?Oi(e):e;K(c==="/"||((y=m.pathname)==null?void 0:y.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${m.pathname}" was given in the \`location\` prop.`),p=m}else p=f;let g=p.pathname||"/",x=g;if(c!=="/"){let m=c.replace(/^\//,"").split("/");x="/"+g.replace(/^\//,"").split("/").slice(m.length).join("/")}let w=gm(t,{pathname:x});tt(d||w!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),tt(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=$y(w&&w.map(m=>Object.assign({},m,{params:Object.assign({},a,m.params),pathname:Rt([c,r.encodeLocation?r.encodeLocation(m.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?c:Rt([c,r.encodeLocation?r.encodeLocation(m.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:m.pathnameBase])})),o,s,i,n);return e&&v?_.createElement(Hn.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},v):v}function My(){let t=Uy(),e=ky(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),s=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",n={padding:"0.5rem",backgroundColor:i},r={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=_.createElement(_.Fragment,null,_.createElement("p",null," Hey developer "),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:r},"ErrorBoundary")," or"," ",_.createElement("code",{style:r},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),s?_.createElement("pre",{style:n},s):null,o)}var Oy=_.createElement(My,null),Ly=class extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?_.createElement(wt.Provider,{value:this.props.routeContext},_.createElement(ch.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Iy({routeContext:t,match:e,children:s}){let i=_.useContext(Li);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),_.createElement(wt.Provider,{value:t},s)}function $y(t,e=[],s=null,i=null,n=null){if(t==null){if(!s)return null;if(s.errors)t=s.matches;else if(e.length===0&&!s.initialized&&s.matches.length>0)t=s.matches;else return null}let r=t,o=s==null?void 0:s.errors;if(o!=null){let c=r.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);K(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),r=r.slice(0,Math.min(r.length,c+1))}let l=!1,a=-1;if(s)for(let c=0;c<r.length;c++){let d=r[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(a=c),d.route.id){let{loaderData:f,errors:p}=s,g=d.route.loader&&!f.hasOwnProperty(d.route.id)&&(!p||p[d.route.id]===void 0);if(d.route.lazy||g){l=!0,a>=0?r=r.slice(0,a+1):r=[r[0]];break}}}let h=s&&i?(c,d)=>{var f,p;i(c,{location:s.location,params:((p=(f=s.matches)==null?void 0:f[0])==null?void 0:p.params)??{},unstable_pattern:jy(s.matches),errorInfo:d})}:void 0;return r.reduceRight((c,d,f)=>{let p,g=!1,x=null,w=null;s&&(p=o&&d.route.id?o[d.route.id]:void 0,x=d.route.errorElement||Oy,l&&(a<0&&f===0?(jm("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,w=null):a===f&&(g=!0,w=d.route.hydrateFallbackElement||null)));let v=e.concat(r.slice(0,f+1)),y=()=>{let m;return p?m=x:g?m=w:d.route.Component?m=_.createElement(d.route.Component,null):d.route.element?m=d.route.element:m=c,_.createElement(Iy,{match:d,routeContext:{outlet:c,matches:v,isDataRoute:s!=null},children:m})};return s&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?_.createElement(Ly,{location:s.location,revalidation:s.revalidation,component:x,error:p,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0},onError:h}):y()},null)}function dh(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ay(t){let e=_.useContext(Li);return K(e,dh(t)),e}function zy(t){let e=_.useContext(Do);return K(e,dh(t)),e}function Fy(t){let e=_.useContext(wt);return K(e,dh(t)),e}function fh(t){let e=Fy(t),s=e.matches[e.matches.length-1];return K(s.route.id,`${t} can only be used on routes that contain a unique "id"`),s.route.id}function Dy(){return fh("useRouteId")}function Uy(){var i;let t=_.useContext(ch),e=zy("useRouteError"),s=fh("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[s]}function By(){let{router:t}=Ay("useNavigate"),e=fh("useNavigate"),s=_.useRef(!1);return _m(()=>{s.current=!0}),_.useCallback(async(n,r={})=>{tt(s.current,bm),s.current&&(typeof n=="number"?await t.navigate(n):await t.navigate(n,{fromRouteId:e,...r}))},[t,e])}var Uc={};function jm(t,e,s){!e&&!Uc[t]&&(Uc[t]=!0,tt(!1,s))}_.memo(Vy);function Vy({routes:t,future:e,state:s,unstable_onError:i}){return km(t,void 0,s,i,e)}function Wy({to:t,replace:e,state:s,relative:i}){K(Ii(),"<Navigate> may be used only in the context of a <Router> component.");let{static:n}=_.useContext(st);tt(!n,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:r}=_.useContext(wt),{pathname:o}=zt(),l=Sm(),a=hh(t,uh(r),o,i==="path"),h=JSON.stringify(a);return _.useEffect(()=>{l(JSON.parse(h),{replace:e,state:s,relative:i})},[l,h,i,e,s]),null}function Vt(t){K(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function qy({basename:t="/",children:e=null,location:s,navigationType:i="POP",navigator:n,static:r=!1,unstable_useTransitions:o}){K(!Ii(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),a=_.useMemo(()=>({basename:l,navigator:n,static:r,unstable_useTransitions:o,future:{}}),[l,n,r,o]);typeof s=="string"&&(s=Oi(s));let{pathname:h="/",search:c="",hash:d="",state:f=null,key:p="default"}=s,g=_.useMemo(()=>{let x=$t(h,l);return x==null?null:{location:{pathname:x,search:c,hash:d,state:f,key:p},navigationType:i}},[l,h,c,d,f,p,i]);return tt(g!=null,`<Router basename="${l}"> is not able to match the URL "${h}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:_.createElement(st.Provider,{value:a},_.createElement(Hn.Provider,{children:e,value:g}))}function Hy({children:t,location:e}){return Ry(Ja(t),e)}function Ja(t,e=[]){let s=[];return _.Children.forEach(t,(i,n)=>{if(!_.isValidElement(i))return;let r=[...e,n];if(i.type===_.Fragment){s.push.apply(s,Ja(i.props.children,r));return}K(i.type===Vt,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),K(!i.props.index||!i.props.children,"An index route cannot have child routes.");let o={id:i.props.id||r.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=Ja(i.props.children,r)),s.push(o)}),s}var Dr="get",Ur="application/x-www-form-urlencoded";function Uo(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function Yy(t){return Uo(t)&&t.tagName.toLowerCase()==="button"}function Jy(t){return Uo(t)&&t.tagName.toLowerCase()==="form"}function Gy(t){return Uo(t)&&t.tagName.toLowerCase()==="input"}function Qy(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Ky(t,e){return t.button===0&&(!e||e==="_self")&&!Qy(t)}var mr=null;function Zy(){if(mr===null)try{new FormData(document.createElement("form"),0),mr=!1}catch{mr=!0}return mr}var Xy=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Pl(t){return t!=null&&!Xy.has(t)?(tt(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ur}"`),null):t}function ex(t,e){let s,i,n,r,o;if(Jy(t)){let l=t.getAttribute("action");i=l?$t(l,e):null,s=t.getAttribute("method")||Dr,n=Pl(t.getAttribute("enctype"))||Ur,r=new FormData(t)}else if(Yy(t)||Gy(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let a=t.getAttribute("formaction")||l.getAttribute("action");if(i=a?$t(a,e):null,s=t.getAttribute("formmethod")||l.getAttribute("method")||Dr,n=Pl(t.getAttribute("formenctype"))||Pl(l.getAttribute("enctype"))||Ur,r=new FormData(l,t),!Zy()){let{name:h,type:c,value:d}=t;if(c==="image"){let f=h?`${h}.`:"";r.append(`${f}x`,"0"),r.append(`${f}y`,"0")}else h&&r.append(h,d)}}else{if(Uo(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=Dr,i=null,n=Ur,o=t}return r&&n==="text/plain"&&(o=r,r=void 0),{action:i,method:s.toLowerCase(),encType:n,formData:r,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ph(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function tx(t,e,s){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname=`_root.${s}`:e&&$t(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${s}`,i}async function sx(t,e){if(t.id in e)return e[t.id];try{let s=await import(t.module);return e[t.id]=s,s}catch(s){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ix(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function nx(t,e,s){let i=await Promise.all(t.map(async n=>{let r=e.routes[n.route.id];if(r){let o=await sx(r,s);return o.links?o.links():[]}return[]}));return ax(i.flat(1).filter(ix).filter(n=>n.rel==="stylesheet"||n.rel==="preload").map(n=>n.rel==="stylesheet"?{...n,rel:"prefetch",as:"style"}:{...n,rel:"prefetch"}))}function Bc(t,e,s,i,n,r){let o=(a,h)=>s[h]?a.route.id!==s[h].route.id:!0,l=(a,h)=>{var c;return s[h].pathname!==a.pathname||((c=s[h].route.path)==null?void 0:c.endsWith("*"))&&s[h].params["*"]!==a.params["*"]};return r==="assets"?e.filter((a,h)=>o(a,h)||l(a,h)):r==="data"?e.filter((a,h)=>{var d;let c=i.routes[a.route.id];if(!c||!c.hasLoader)return!1;if(o(a,h)||l(a,h))return!0;if(a.route.shouldRevalidate){let f=a.route.shouldRevalidate({currentUrl:new URL(n.pathname+n.search+n.hash,window.origin),currentParams:((d=s[0])==null?void 0:d.params)||{},nextUrl:new URL(t,window.origin),nextParams:a.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function rx(t,e,{includeHydrateFallback:s}={}){return ox(t.map(i=>{let n=e.routes[i.route.id];if(!n)return[];let r=[n.module];return n.clientActionModule&&(r=r.concat(n.clientActionModule)),n.clientLoaderModule&&(r=r.concat(n.clientLoaderModule)),s&&n.hydrateFallbackModule&&(r=r.concat(n.hydrateFallbackModule)),n.imports&&(r=r.concat(n.imports)),r}).flat(1))}function ox(t){return[...new Set(t)]}function lx(t){let e={},s=Object.keys(t).sort();for(let i of s)e[i]=t[i];return e}function ax(t,e){let s=new Set;return new Set(e),t.reduce((i,n)=>{let r=JSON.stringify(lx(n));return s.has(r)||(s.add(r),i.push({key:r,link:n})),i},[])}function Nm(){let t=_.useContext(Li);return ph(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function ux(){let t=_.useContext(Do);return ph(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var mh=_.createContext(void 0);mh.displayName="FrameworkContext";function Em(){let t=_.useContext(mh);return ph(t,"You must render this element inside a <HydratedRouter> element"),t}function hx(t,e){let s=_.useContext(mh),[i,n]=_.useState(!1),[r,o]=_.useState(!1),{onFocus:l,onBlur:a,onMouseEnter:h,onMouseLeave:c,onTouchStart:d}=e,f=_.useRef(null);_.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let x=v=>{v.forEach(y=>{o(y.isIntersecting)})},w=new IntersectionObserver(x,{threshold:.5});return f.current&&w.observe(f.current),()=>{w.disconnect()}}},[t]),_.useEffect(()=>{if(i){let x=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(x)}}},[i]);let p=()=>{n(!0)},g=()=>{n(!1),o(!1)};return s?t!=="intent"?[r,f,{}]:[r,f,{onFocus:Ji(l,p),onBlur:Ji(a,g),onMouseEnter:Ji(h,p),onMouseLeave:Ji(c,g),onTouchStart:Ji(d,p)}]:[!1,f,{}]}function Ji(t,e){return s=>{t&&t(s),s.defaultPrevented||e(s)}}function cx({page:t,...e}){let{router:s}=Nm(),i=_.useMemo(()=>gm(s.routes,t,s.basename),[s.routes,t,s.basename]);return i?_.createElement(fx,{page:t,matches:i,...e}):null}function dx(t){let{manifest:e,routeModules:s}=Em(),[i,n]=_.useState([]);return _.useEffect(()=>{let r=!1;return nx(t,e,s).then(o=>{r||n(o)}),()=>{r=!0}},[t,e,s]),i}function fx({page:t,matches:e,...s}){let i=zt(),{manifest:n,routeModules:r}=Em(),{basename:o}=Nm(),{loaderData:l,matches:a}=ux(),h=_.useMemo(()=>Bc(t,e,a,n,i,"data"),[t,e,a,n,i]),c=_.useMemo(()=>Bc(t,e,a,n,i,"assets"),[t,e,a,n,i]),d=_.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let g=new Set,x=!1;if(e.forEach(v=>{var m;let y=n.routes[v.route.id];!y||!y.hasLoader||(!h.some(b=>b.route.id===v.route.id)&&v.route.id in l&&((m=r[v.route.id])!=null&&m.shouldRevalidate)||y.hasClientLoader?x=!0:g.add(v.route.id))}),g.size===0)return[];let w=tx(t,o,"data");return x&&g.size>0&&w.searchParams.set("_routes",e.filter(v=>g.has(v.route.id)).map(v=>v.route.id).join(",")),[w.pathname+w.search]},[o,l,i,n,h,e,t,r]),f=_.useMemo(()=>rx(c,n),[c,n]),p=dx(c);return _.createElement(_.Fragment,null,d.map(g=>_.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...s})),f.map(g=>_.createElement("link",{key:g,rel:"modulepreload",href:g,...s})),p.map(({key:g,link:x})=>_.createElement("link",{key:g,nonce:s.nonce,...x})))}function px(...t){return e=>{t.forEach(s=>{typeof s=="function"?s(e):s!=null&&(s.current=e)})}}var Cm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Cm&&(window.__reactRouterVersion="7.10.1")}catch{}function mx({basename:t,children:e,unstable_useTransitions:s,window:i}){let n=_.useRef();n.current==null&&(n.current=ey({window:i,v5Compat:!0}));let r=n.current,[o,l]=_.useState({action:r.action,location:r.location}),a=_.useCallback(h=>{s===!1?l(h):_.startTransition(()=>l(h))},[s]);return _.useLayoutEffect(()=>r.listen(a),[r,a]),_.createElement(qy,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:r,unstable_useTransitions:s===!0})}var Pm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gh=_.forwardRef(function({onClick:e,discover:s="render",prefetch:i="none",relative:n,reloadDocument:r,replace:o,state:l,target:a,to:h,preventScrollReset:c,viewTransition:d,...f},p){let{basename:g,unstable_useTransitions:x}=_.useContext(st),w=typeof h=="string"&&Pm.test(h),v,y=!1;if(typeof h=="string"&&w&&(v=h,Cm))try{let M=new URL(window.location.href),B=h.startsWith("//")?new URL(M.protocol+h):new URL(h),Se=$t(B.pathname,g);B.origin===M.origin&&Se!=null?h=Se+B.search+B.hash:y=!0}catch{tt(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let m=Py(h,{relative:n}),[b,S,k]=hx(i,f),j=xx(h,{replace:o,state:l,target:a,preventScrollReset:c,relative:n,viewTransition:d,unstable_useTransitions:x});function P(M){e&&e(M),M.defaultPrevented||j(M)}let O=_.createElement("a",{...f,...k,href:v||m,onClick:y||r?e:P,ref:px(p,S),target:a,"data-discover":!w&&s==="render"?"true":void 0});return b&&!w?_.createElement(_.Fragment,null,O,_.createElement(cx,{page:m})):O});gh.displayName="Link";var gx=_.forwardRef(function({"aria-current":e="page",caseSensitive:s=!1,className:i="",end:n=!1,style:r,to:o,viewTransition:l,children:a,...h},c){let d=Yn(o,{relative:h.relative}),f=zt(),p=_.useContext(Do),{navigator:g,basename:x}=_.useContext(st),w=p!=null&&kx(d)&&l===!0,v=g.encodeLocation?g.encodeLocation(d).pathname:d.pathname,y=f.pathname,m=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;s||(y=y.toLowerCase(),m=m?m.toLowerCase():null,v=v.toLowerCase()),m&&x&&(m=$t(m,x)||m);const b=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let S=y===v||!n&&y.startsWith(v)&&y.charAt(b)==="/",k=m!=null&&(m===v||!n&&m.startsWith(v)&&m.charAt(v.length)==="/"),j={isActive:S,isPending:k,isTransitioning:w},P=S?e:void 0,O;typeof i=="function"?O=i(j):O=[i,S?"active":null,k?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let M=typeof r=="function"?r(j):r;return _.createElement(gh,{...h,"aria-current":P,className:O,ref:c,style:M,to:o,viewTransition:l},typeof a=="function"?a(j):a)});gx.displayName="NavLink";var vx=_.forwardRef(({discover:t="render",fetcherKey:e,navigate:s,reloadDocument:i,replace:n,state:r,method:o=Dr,action:l,onSubmit:a,relative:h,preventScrollReset:c,viewTransition:d,...f},p)=>{let{unstable_useTransitions:g}=_.useContext(st),x=_x(),w=Sx(l,{relative:h}),v=o.toLowerCase()==="get"?"get":"post",y=typeof l=="string"&&Pm.test(l),m=b=>{if(a&&a(b),b.defaultPrevented)return;b.preventDefault();let S=b.nativeEvent.submitter,k=(S==null?void 0:S.getAttribute("formmethod"))||o,j=()=>x(S||b.currentTarget,{fetcherKey:e,method:k,navigate:s,replace:n,state:r,relative:h,preventScrollReset:c,viewTransition:d});g&&s!==!1?_.startTransition(()=>j()):j()};return _.createElement("form",{ref:p,method:v,action:w,onSubmit:i?a:m,...f,"data-discover":!y&&t==="render"?"true":void 0})});vx.displayName="Form";function yx(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Tm(t){let e=_.useContext(Li);return K(e,yx(t)),e}function xx(t,{target:e,replace:s,state:i,preventScrollReset:n,relative:r,viewTransition:o,unstable_useTransitions:l}={}){let a=Sm(),h=zt(),c=Yn(t,{relative:r});return _.useCallback(d=>{if(Ky(d,e)){d.preventDefault();let f=s!==void 0?s:An(h)===An(c),p=()=>a(t,{replace:f,state:i,preventScrollReset:n,relative:r,viewTransition:o});l?_.startTransition(()=>p()):p()}},[h,a,c,s,i,e,t,n,r,o,l])}var wx=0,bx=()=>`__${String(++wx)}__`;function _x(){let{router:t}=Tm("useSubmit"),{basename:e}=_.useContext(st),s=Dy(),i=t.fetch,n=t.navigate;return _.useCallback(async(r,o={})=>{let{action:l,method:a,encType:h,formData:c,body:d}=ex(r,e);if(o.navigate===!1){let f=o.fetcherKey||bx();await i(f,s,o.action||l,{preventScrollReset:o.preventScrollReset,formData:c,body:d,formMethod:o.method||a,formEncType:o.encType||h,flushSync:o.flushSync})}else await n(o.action||l,{preventScrollReset:o.preventScrollReset,formData:c,body:d,formMethod:o.method||a,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:s,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,n,e,s])}function Sx(t,{relative:e}={}){let{basename:s}=_.useContext(st),i=_.useContext(wt);K(i,"useFormAction must be used inside a RouteContext");let[n]=i.matches.slice(-1),r={...Yn(t||".",{relative:e})},o=zt();if(t==null){r.search=o.search;let l=new URLSearchParams(r.search),a=l.getAll("index");if(a.some(c=>c==="")){l.delete("index"),a.filter(d=>d).forEach(d=>l.append("index",d));let c=l.toString();r.search=c?`?${c}`:""}}return(!t||t===".")&&n.route.index&&(r.search=r.search?r.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(r.pathname=r.pathname==="/"?s:Rt([s,r.pathname])),An(r)}function kx(t,{relative:e}={}){let s=_.useContext(wm);K(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Tm("useViewTransitionState"),n=Yn(t,{relative:e});if(!s.isTransitioning)return!1;let r=$t(s.currentLocation.pathname,i)||s.currentLocation.pathname,o=$t(s.nextLocation.pathname,i)||s.nextLocation.pathname;return mo(n.pathname,o)!=null||mo(n.pathname,r)!=null}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),U=(t,e)=>{const s=_.forwardRef(({color:i="currentColor",size:n=24,strokeWidth:r=2,absoluteStrokeWidth:o,className:l="",children:a,...h},c)=>_.createElement("svg",{ref:c,...jx,width:n,height:n,stroke:i,strokeWidth:o?Number(r)*24/Number(n):r,className:["lucide",`lucide-${Nx(t)}`,l].join(" "),...h},[...e.map(([d,f])=>_.createElement(d,f)),...Array.isArray(a)?a:[a]]));return s.displayName=`${t}`,s};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=U("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=U("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=U("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=U("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=U("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=U("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const go=U("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tl=U("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=U("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=U("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=U("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rl=U("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vc=U("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=U("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=U("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=U("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=U("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=U("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=U("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=U("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=U("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=U("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=U("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=U("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=U("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=U("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=U("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=U("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=U("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=U("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=U("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Lm=_.createContext(void 0);function qx({children:t}){const[e,s]=_.useState({price:4280.39,change:2.11,changePercent:.05,lastUpdate:new Date,open:4275,high:4290,low:4270,volume:"N/A"}),[i,n]=_.useState(!1),[r,o]=_.useState(null),l=async()=>{n(!0),o(null);try{const h=`https://mwefvldbevucdvosfhop.supabase.co/functions/v1/get-gold-price?t=${Date.now()}`,d=await fetch(h,{headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im13ZWZ2bGRiZXZ1Y2R2b3NmaG9wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU1MTgxOTUsImV4cCI6MjA4MTA5NDE5NX0.PXhCk_Na2NNqWEje1PJ3f8OB9eCTa79CxjqYPjtnWzw","Content-Type":"application/json"},cache:"no-store"}),f=await d.json();if(!d.ok||!f.success){const p=f.message||f.error||"Failed to fetch gold price";throw new Error(p)}s({price:f.price,change:f.change,changePercent:f.changePercent,lastUpdate:new Date,open:f.open||0,high:f.high||0,low:f.low||0,volume:f.volume||"N/A"})}catch(a){console.error("Error fetching gold price:",a);const h=a instanceof Error?a.message:"Impossible de charger le prix en temps rel";o(h)}finally{n(!1)}};return _.useEffect(()=>{l();const a=setInterval(()=>{l()},6e4);return()=>clearInterval(a)},[]),u.jsx(Lm.Provider,{value:{priceData:e,isRefreshing:i,error:r,refreshPrice:l},children:t})}function Bo(){const t=_.useContext(Lm);if(t===void 0)throw new Error("usePrice must be used within a PriceProvider");return t}function Hx({onMenuClick:t}){const{priceData:e}=Bo(),s=e.change>=0;return u.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-gradient-to-r from-indigo-600 to-violet-600 text-white shadow-lg",children:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("button",{onClick:t,className:"lg:hidden p-2 hover:bg-white/10 rounded-lg transition-colors",children:u.jsx(zx,{className:"w-6 h-6"})}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-8 h-8 bg-yellow-500 rounded-lg flex items-center justify-center font-bold text-indigo-900",children:"X"}),u.jsx("h1",{className:"text-lg md:text-xl font-bold",children:"XAU Swing Trader"})]})]}),u.jsxs("div",{className:"hidden md:flex items-center gap-2 bg-white/10 backdrop-blur-sm px-4 py-2 rounded-lg",children:[u.jsx("span",{className:"text-sm font-medium",children:"XAU/USD:"}),u.jsxs("span",{className:"text-xl font-bold",children:["$",e.price.toLocaleString("fr-FR",{minimumFractionDigits:2})]}),u.jsxs("span",{className:`text-sm font-semibold ${s?"text-green-300":"text-red-300"}`,children:[s?"+":"",e.change.toFixed(2)," (",s?"+":"",e.changePercent.toFixed(2),"%)"]})]}),u.jsxs("button",{className:"relative p-2 hover:bg-white/10 rounded-lg transition-colors",children:[u.jsx(Qa,{className:"w-6 h-6"}),u.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]})]})})}const Yx=[{id:"dashboard",label:"Dashboard",icon:$x,path:"/dashboard"},{id:"analysis",label:"Analyse",icon:go,path:"/analysis"},{id:"opportunities",label:"Opportunits",icon:Ge,path:"/opportunities"},{id:"journal",label:"Journal",icon:Ka,path:"/journal"},{id:"risk",label:"Risque",icon:zn,path:"/risk"},{id:"education",label:"ducation",icon:Ix,path:"/education"}];function Jx({isOpen:t,onClose:e}){const s=zt();return u.jsxs(u.Fragment,{children:[t&&u.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:e}),u.jsxs("aside",{className:`
          fixed top-16 left-0 bottom-0 w-64 bg-white border-r border-gray-200 z-40
          transition-transform duration-300 lg:translate-x-0
          ${t?"translate-x-0":"-translate-x-full"}
        `,children:[u.jsxs("div",{className:"flex items-center justify-between p-4 lg:hidden",children:[u.jsx("h2",{className:"font-semibold text-gray-900",children:"Menu"}),u.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:u.jsx(Om,{className:"w-5 h-5"})})]}),u.jsx("nav",{className:"p-4 space-y-2",children:Yx.map(i=>{const n=i.icon,r=s.pathname===i.path;return u.jsxs(gh,{to:i.path,onClick:e,className:`
                  w-full flex items-center gap-3 px-4 py-3 rounded-lg
                  transition-all duration-200 text-left
                  ${r?"bg-indigo-50 text-indigo-600 font-semibold":"text-gray-700 hover:bg-gray-100"}
                `,children:[u.jsx(n,{className:`w-5 h-5 ${r?"text-indigo-600":""}`}),u.jsx("span",{children:i.label})]},i.id)})})]})]})}function Gx({children:t}){const[e,s]=_.useState(!1);return u.jsxs("div",{className:"min-h-screen bg-gray-50",children:[u.jsx(Hx,{onMenuClick:()=>s(!e)}),u.jsxs("div",{className:"flex pt-16",children:[u.jsx(Jx,{isOpen:e,onClose:()=>s(!1)}),u.jsx("main",{className:"flex-1 lg:ml-64 transition-all duration-300",children:u.jsx("div",{className:"p-4 md:p-6 lg:p-8",children:t})})]}),u.jsx("footer",{className:"lg:ml-64 bg-white border-t border-gray-200 py-4 px-6 mt-12",children:u.jsx("p",{className:"text-sm text-gray-600 text-center",children:"XAU Swing Trader  2025 - Donnes  titre informatif uniquement"})})]})}function Qx(){const{priceData:t,isRefreshing:e,error:s,refreshPrice:i}=Bo(),{price:n,change:r,changePercent:o,lastUpdate:l,open:a,high:h,low:c,volume:d}=t,f=r>=0;return u.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[u.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-violet-600 text-white p-6",children:u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm opacity-90 mb-1",children:"XAU/USD"}),u.jsxs("h2",{className:"text-4xl font-bold mb-2",children:["$",n.toLocaleString("fr-FR",{minimumFractionDigits:2})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[f?u.jsx(Px,{className:"w-5 h-5 text-green-300"}):u.jsx(Ex,{className:"w-5 h-5 text-red-300"}),u.jsxs("span",{className:`text-lg font-semibold ${f?"text-green-300":"text-red-300"}`,children:[f?"+":"",r.toFixed(2)," (",f?"+":"",o.toFixed(2),"%)"]})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-xs opacity-75",children:"Dernire mise  jour"}),u.jsx("p",{className:"text-sm font-mono",children:l.toLocaleTimeString("fr-FR")})]})]})}),u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[u.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[u.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Plus Haut du Jour"}),u.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["$",h>0?h.toLocaleString("fr-FR",{minimumFractionDigits:2}):"N/A"]})]}),u.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[u.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Plus Bas du Jour"}),u.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["$",c>0?c.toLocaleString("fr-FR",{minimumFractionDigits:2}):"N/A"]})]}),u.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[u.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Ouverture"}),u.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["$",a>0?a.toLocaleString("fr-FR",{minimumFractionDigits:2}):"N/A"]})]}),u.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[u.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Volume"}),u.jsx("p",{className:"text-lg font-bold text-green-600",children:d})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Tendance Intrajournalire"}),u.jsx("div",{className:"h-32 bg-gray-50 rounded-lg p-4 relative",children:u.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 300 100",children:[u.jsx("defs",{children:u.jsxs("linearGradient",{id:"lineGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[u.jsx("stop",{offset:"0%",stopColor:f?"#10B981":"#EF4444"}),u.jsx("stop",{offset:"100%",stopColor:f?"#059669":"#DC2626"})]})}),u.jsx("polyline",{fill:"none",stroke:"url(#lineGradient)",strokeWidth:"2",points:"0,80 30,75 60,70 90,65 120,60 150,55 180,58 210,50 240,45 270,40 300,35"}),u.jsx("line",{x1:"0",y1:"95",x2:"300",y2:"95",stroke:"#E5E7EB",strokeWidth:"1"}),u.jsx("line",{x1:"0",y1:"0",x2:"0",y2:"95",stroke:"#E5E7EB",strokeWidth:"1"}),u.jsx("text",{x:"10",y:"10",fill:"#6B7280",fontSize:"8",children:"$4,290"}),u.jsx("text",{x:"10",y:"90",fill:"#6B7280",fontSize:"8",children:"$4,220"}),u.jsx("text",{x:"250",y:"90",fill:"#6B7280",fontSize:"8",children:"Maintenant"})]})}),u.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"Graphique simul - Donnes en temps rel  venir"})]}),s&&u.jsxs("div",{className:"mb-4 p-4 bg-amber-50 border border-amber-200 rounded-lg",children:[u.jsx("p",{className:"text-sm font-semibold text-amber-900 mb-2",children:"Configuration requise"}),u.jsx("p",{className:"text-sm text-amber-800 mb-3",children:s}),u.jsxs("div",{className:"text-xs text-amber-700 space-y-1",children:[u.jsx("p",{className:"font-medium",children:"Pour obtenir de vraies donnes en temps rel :"}),u.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-2",children:[u.jsxs("li",{children:["Crez un compte gratuit sur ",u.jsx("a",{href:"https://twelvedata.com/pricing",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-amber-900",children:"Twelve Data"})]}),u.jsx("li",{children:"Copiez votre cl API gratuite"}),u.jsx("li",{children:"Ajoutez-la dans les secrets Supabase (TWELVE_DATA_API_KEY)"})]})]})]}),u.jsxs("button",{onClick:i,disabled:e,className:`
            w-full flex items-center justify-center gap-2 px-4 py-3
            bg-indigo-600 hover:bg-indigo-700 text-white font-semibold rounded-lg
            transition-all duration-200 shadow-md hover:shadow-lg
            disabled:opacity-50 disabled:cursor-not-allowed
          `,children:[u.jsx(Ux,{className:`w-5 h-5 ${e?"animate-spin":""}`}),"Actualiser les Donnes"]})]})]})}function W(t){var e=t.width,s=t.height;if(e<0)throw new Error("Negative width is not allowed for Size");if(s<0)throw new Error("Negative height is not allowed for Size");return{width:e,height:s}}function Cs(t,e){return t.width===e.width&&t.height===e.height}var Kx=function(){function t(e){var s=this;this._resolutionListener=function(){return s._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=e,this._installResolutionListener()}return t.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(t.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),t.prototype.subscribe=function(e){var s=this,i={next:e};return this._observers.push(i),{unsubscribe:function(){s._observers=s._observers.filter(function(n){return n!==i})}}},t.prototype._installResolutionListener=function(){if(this._resolutionMediaQueryList!==null)throw new Error("Resolution listener is already installed");var e=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(e,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},t.prototype._uninstallResolutionListener=function(){this._resolutionMediaQueryList!==null&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},t.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},t.prototype._onResolutionChanged=function(){var e=this;this._observers.forEach(function(s){return s.next(e._window.devicePixelRatio)}),this._reinstallResolutionListener()},t}();function Zx(t){return new Kx(t)}var Xx=function(){function t(e,s,i){var n;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=e,this._canvasElementClientSize=W({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=s??function(r){return r},this._allowResizeObserver=(n=i==null?void 0:i.allowResizeObserver)!==null&&n!==void 0?n:!0,this._chooseAndInitObserver()}return t.prototype.dispose=function(){var e,s;if(this._canvasElement===null)throw new Error("Object is disposed");(e=this._canvasElementResizeObserver)===null||e===void 0||e.disconnect(),this._canvasElementResizeObserver=null,(s=this._devicePixelRatioObservable)===null||s===void 0||s.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(t.prototype,"canvasElement",{get:function(){if(this._canvasElement===null)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bitmapSize",{get:function(){return W({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),t.prototype.resizeCanvasElement=function(e){this._canvasElementClientSize=W(e),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},t.prototype.subscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners.push(e)},t.prototype.unsubscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(s){return s!==e})},Object.defineProperty(t.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),t.prototype.subscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners.push(e)},t.prototype.unsubscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(s){return s!==e})},t.prototype.applySuggestedBitmapSize=function(){if(this._suggestedBitmapSize!==null){var e=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(e),this._emitSuggestedBitmapSizeChanged(e,this._suggestedBitmapSize)}},t.prototype._resizeBitmap=function(e){var s=this.bitmapSize;Cs(s,e)||(this.canvasElement.width=e.width,this.canvasElement.height=e.height,this._emitBitmapSizeChanged(s,e))},t.prototype._emitBitmapSizeChanged=function(e,s){var i=this;this._bitmapSizeChangedListeners.forEach(function(n){return n.call(i,e,s)})},t.prototype._suggestNewBitmapSize=function(e){var s=this._suggestedBitmapSize,i=W(this._transformBitmapSize(e,this._canvasElementClientSize)),n=Cs(this.bitmapSize,i)?null:i;s===null&&n===null||s!==null&&n!==null&&Cs(s,n)||(this._suggestedBitmapSize=n,this._emitSuggestedBitmapSizeChanged(s,n))},t.prototype._emitSuggestedBitmapSizeChanged=function(e,s){var i=this;this._suggestedBitmapSizeChangedListeners.forEach(function(n){return n.call(i,e,s)})},t.prototype._chooseAndInitObserver=function(){var e=this;if(!this._allowResizeObserver){this._initDevicePixelRatioObservable();return}tw().then(function(s){return s?e._initResizeObserver():e._initDevicePixelRatioObservable()})},t.prototype._initDevicePixelRatioObservable=function(){var e=this;if(this._canvasElement!==null){var s=Wc(this._canvasElement);if(s===null)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=Zx(s),this._devicePixelRatioObservable.subscribe(function(){return e._invalidateBitmapSize()}),this._invalidateBitmapSize()}},t.prototype._invalidateBitmapSize=function(){var e,s;if(this._canvasElement!==null){var i=Wc(this._canvasElement);if(i!==null){var n=(s=(e=this._devicePixelRatioObservable)===null||e===void 0?void 0:e.value)!==null&&s!==void 0?s:i.devicePixelRatio,r=this._canvasElement.getClientRects(),o=r[0]!==void 0?sw(r[0],n):W({width:this._canvasElementClientSize.width*n,height:this._canvasElementClientSize.height*n});this._suggestNewBitmapSize(o)}}},t.prototype._initResizeObserver=function(){var e=this;this._canvasElement!==null&&(this._canvasElementResizeObserver=new ResizeObserver(function(s){var i=s.find(function(o){return o.target===e._canvasElement});if(!(!i||!i.devicePixelContentBoxSize||!i.devicePixelContentBoxSize[0])){var n=i.devicePixelContentBoxSize[0],r=W({width:n.inlineSize,height:n.blockSize});e._suggestNewBitmapSize(r)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},t}();function ew(t,e){if(e.type==="device-pixel-content-box")return new Xx(t,e.transform,e.options);throw new Error("Unsupported binding target")}function Wc(t){return t.ownerDocument.defaultView}function tw(){return new Promise(function(t){var e=new ResizeObserver(function(s){t(s.every(function(i){return"devicePixelContentBoxSize"in i})),e.disconnect()});e.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1})}function sw(t,e){return W({width:Math.round(t.left*e+t.width*e)-Math.round(t.left*e),height:Math.round(t.top*e+t.height*e)-Math.round(t.top*e)})}var iw=function(){function t(e,s,i){if(s.width===0||s.height===0)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=s,i.width===0||i.height===0)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=i,this._context=e}return t.prototype.useMediaCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),e({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},t.prototype.useBitmapCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),e({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(t.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),t}();function Ls(t,e){var s=t.canvasElementClientSize;if(s.width===0||s.height===0)return null;var i=t.bitmapSize;if(i.width===0||i.height===0)return null;var n=t.canvasElement.getContext("2d",e);return n===null?null:new iw(n,s,i)}/*!
 * @license
 * TradingView Lightweight Charts v5.0.9
 * Copyright (c) 2025 TradingView, Inc.
 * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
 */const Im={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var qc,Hc;function ji(t,e){const s={0:[],1:[t.lineWidth,t.lineWidth],2:[2*t.lineWidth,2*t.lineWidth],3:[6*t.lineWidth,6*t.lineWidth],4:[t.lineWidth,4*t.lineWidth]}[e];t.setLineDash(s)}function $m(t,e,s,i){t.beginPath();const n=t.lineWidth%2?.5:0;t.moveTo(s,e+n),t.lineTo(i,e+n),t.stroke()}function ge(t,e){if(!t)throw new Error("Assertion failed"+(e?": "+e:""))}function $e(t){if(t===void 0)throw new Error("Value is undefined");return t}function E(t){if(t===null)throw new Error("Value is null");return t}function Zt(t){return E($e(t))}(function(t){t[t.Simple=0]="Simple",t[t.WithSteps=1]="WithSteps",t[t.Curved=2]="Curved"})(qc||(qc={})),function(t){t[t.Solid=0]="Solid",t[t.Dotted=1]="Dotted",t[t.Dashed=2]="Dashed",t[t.LargeDashed=3]="LargeDashed",t[t.SparseDotted=4]="SparseDotted"}(Hc||(Hc={}));class ne{constructor(){this.t=[]}i(e,s,i){const n={h:e,l:s,o:i===!0};this.t.push(n)}_(e){const s=this.t.findIndex(i=>e===i.h);s>-1&&this.t.splice(s,1)}u(e){this.t=this.t.filter(s=>s.l!==e)}p(e,s,i){const n=[...this.t];this.t=this.t.filter(r=>!r.o),n.forEach(r=>r.h(e,s,i))}v(){return this.t.length>0}m(){this.t=[]}}function De(t,...e){for(const s of e)for(const i in s)s[i]!==void 0&&Object.prototype.hasOwnProperty.call(s,i)&&!["__proto__","constructor","prototype"].includes(i)&&(typeof s[i]!="object"||t[i]===void 0||Array.isArray(s[i])?t[i]=s[i]:De(t[i],s[i]));return t}function Ni(t){return typeof t=="number"&&isFinite(t)}function Fn(t){return typeof t=="number"&&t%1==0}function Jn(t){return typeof t=="string"}function gr(t){return typeof t=="boolean"}function Ct(t){const e=t;if(!e||typeof e!="object")return e;let s,i,n;for(i in s=Array.isArray(e)?[]:{},e)e.hasOwnProperty(i)&&(n=e[i],s[i]=n&&typeof n=="object"?Ct(n):n);return s}function nw(t){return t!==null}function Za(t){return t===null?void 0:t}const Am="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function vo(t,e,s){return e===void 0&&(e=Am),`${s=s!==void 0?`${s} `:""}${t}px ${e}`}class rw{constructor(e){this.M={S:1,C:5,P:NaN,k:"",T:"",R:"",D:"",V:0,B:0,I:0,A:0,L:0},this.O=e}N(){const e=this.M,s=this.F(),i=this.W();return e.P===s&&e.T===i||(e.P=s,e.T=i,e.k=vo(s,i),e.A=2.5/12*s,e.V=e.A,e.B=s/12*e.C,e.I=s/12*e.C,e.L=0),e.R=this.H(),e.D=this.U(),this.M}H(){return this.O.N().layout.textColor}U(){return this.O.$()}F(){return this.O.N().layout.fontSize}W(){return this.O.N().layout.fontFamily}}function Ml(t){return t<0?0:t>255?255:Math.round(t)||0}function Yc(t){return .199*t[0]+.687*t[1]+.114*t[2]}class ow{constructor(e,s){this.q=new Map,this.Y=e,s&&(this.q=s)}j(e,s){if(e==="transparent")return e;const i=this.K(e),n=i[3];return`rgba(${i[0]}, ${i[1]}, ${i[2]}, ${s*n})`}X(e){const s=this.K(e);return{Z:`rgb(${s[0]}, ${s[1]}, ${s[2]})`,G:Yc(s)>160?"black":"white"}}J(e){return Yc(this.K(e))}tt(e,s,i){const[n,r,o,l]=this.K(e),[a,h,c,d]=this.K(s),f=[Ml(n+i*(a-n)),Ml(r+i*(h-r)),Ml(o+i*(c-o)),(p=l+i*(d-l),p<=0||p>1?Math.min(Math.max(p,0),1):Math.round(1e4*p)/1e4)];var p;return`rgba(${f[0]}, ${f[1]}, ${f[2]}, ${f[3]})`}K(e){const s=this.q.get(e);if(s)return s;const i=function(o){const l=document.createElement("div");l.style.display="none",document.body.appendChild(l),l.style.color=o;const a=window.getComputedStyle(l).color;return document.body.removeChild(l),a}(e),n=i.match(/^rgba?\s*\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d+))?\)$/);if(!n){if(this.Y.length)for(const o of this.Y){const l=o(e);if(l)return this.q.set(e,l),l}throw new Error(`Failed to parse color: ${e}`)}const r=[parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10),n[4]?parseFloat(n[4]):1];return this.q.set(e,r),r}}class lw{constructor(){this.it=[]}st(e){this.it=e}nt(e,s,i){this.it.forEach(n=>{n.nt(e,s,i)})}}class $i{nt(e,s,i){e.useBitmapCoordinateSpace(n=>this.et(n,s,i))}}class aw extends $i{constructor(){super(...arguments),this.rt=null}ht(e){this.rt=e}et({context:e,horizontalPixelRatio:s,verticalPixelRatio:i}){if(this.rt===null||this.rt.lt===null)return;const n=this.rt.lt,r=this.rt,o=Math.max(1,Math.floor(s))%2/2,l=a=>{e.beginPath();for(let h=n.to-1;h>=n.from;--h){const c=r.ot[h],d=Math.round(c._t*s)+o,f=c.ut*i,p=a*i+o;e.moveTo(d,f),e.arc(d,f,p,0,2*Math.PI)}e.fill()};r.ct>0&&(e.fillStyle=r.dt,l(r.ft+r.ct)),e.fillStyle=r.vt,l(r.ft)}}function uw(){return{ot:[{_t:0,ut:0,wt:0,gt:0}],vt:"",dt:"",ft:0,ct:0,lt:null}}const hw={from:0,to:1};class cw{constructor(e,s,i){this.Mt=new lw,this.bt=[],this.St=[],this.xt=!0,this.O=e,this.Ct=s,this.Pt=i,this.Mt.st(this.bt)}yt(e){this.kt(),this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Mt}kt(){const e=this.Pt.Dt();e.length!==this.bt.length&&(this.St=e.map(uw),this.bt=this.St.map(s=>{const i=new aw;return i.ht(s),i}),this.Mt.st(this.bt))}Rt(){const e=this.Ct.N().mode===2||!this.Ct.Vt(),s=this.Pt.Bt(),i=this.Ct.It(),n=this.O.Et();this.kt(),s.forEach((r,o)=>{const l=this.St[o],a=r.At(i),h=r.zt();!e&&a!==null&&r.Vt()&&h!==null?(l.vt=a.Lt,l.ft=a.ft,l.ct=a.Ot,l.ot[0].gt=a.gt,l.ot[0].ut=r.Ft().Nt(a.gt,h.Wt),l.dt=a.Ht??this.O.Ut(l.ot[0].ut/r.Ft().$t()),l.ot[0].wt=i,l.ot[0]._t=n.qt(i),l.lt=hw):l.lt=null})}}class dw extends $i{constructor(e){super(),this.Yt=e}et({context:e,bitmapSize:s,horizontalPixelRatio:i,verticalPixelRatio:n}){if(this.Yt===null)return;const r=this.Yt.jt.Vt,o=this.Yt.Kt.Vt;if(!r&&!o)return;const l=Math.round(this.Yt._t*i),a=Math.round(this.Yt.ut*n);e.lineCap="butt",r&&l>=0&&(e.lineWidth=Math.floor(this.Yt.jt.ct*i),e.strokeStyle=this.Yt.jt.R,e.fillStyle=this.Yt.jt.R,ji(e,this.Yt.jt.Xt),function(h,c,d,f){h.beginPath();const p=h.lineWidth%2?.5:0;h.moveTo(c+p,d),h.lineTo(c+p,f),h.stroke()}(e,l,0,s.height)),o&&a>=0&&(e.lineWidth=Math.floor(this.Yt.Kt.ct*n),e.strokeStyle=this.Yt.Kt.R,e.fillStyle=this.Yt.Kt.R,ji(e,this.Yt.Kt.Xt),$m(e,a,0,s.width))}}class fw{constructor(e,s){this.xt=!0,this.Zt={jt:{ct:1,Xt:0,R:"",Vt:!1},Kt:{ct:1,Xt:0,R:"",Vt:!1},_t:0,ut:0},this.Gt=new dw(this.Zt),this.Jt=e,this.Pt=s}yt(){this.xt=!0}Tt(e){return this.xt&&(this.Rt(),this.xt=!1),this.Gt}Rt(){const e=this.Jt.Vt(),s=this.Pt.Qt().N().crosshair,i=this.Zt;if(s.mode===2)return i.Kt.Vt=!1,void(i.jt.Vt=!1);i.Kt.Vt=e&&this.Jt.ti(this.Pt),i.jt.Vt=e&&this.Jt.ii(),i.Kt.ct=s.horzLine.width,i.Kt.Xt=s.horzLine.style,i.Kt.R=s.horzLine.color,i.jt.ct=s.vertLine.width,i.jt.Xt=s.vertLine.style,i.jt.R=s.vertLine.color,i._t=this.Jt.si(),i.ut=this.Jt.ni()}}function pw(t,e,s,i,n,r){t.fillRect(e+r,s,i-2*r,r),t.fillRect(e+r,s+n-r,i-2*r,r),t.fillRect(e,s,r,n),t.fillRect(e+i-r,s,r,n)}function Vo(t,e,s,i,n,r){t.save(),t.globalCompositeOperation="copy",t.fillStyle=r,t.fillRect(e,s,i,n),t.restore()}function Jc(t,e,s,i,n,r){t.beginPath(),t.roundRect?t.roundRect(e,s,i,n,r):(t.lineTo(e+i-r[1],s),r[1]!==0&&t.arcTo(e+i,s,e+i,s+r[1],r[1]),t.lineTo(e+i,s+n-r[2]),r[2]!==0&&t.arcTo(e+i,s+n,e+i-r[2],s+n,r[2]),t.lineTo(e+r[3],s+n),r[3]!==0&&t.arcTo(e,s+n,e,s+n-r[3],r[3]),t.lineTo(e,s+r[0]),r[0]!==0&&t.arcTo(e,s,e+r[0],s,r[0]))}function Gc(t,e,s,i,n,r,o=0,l=[0,0,0,0],a=""){if(t.save(),!o||!a||a===r)return Jc(t,e,s,i,n,l),t.fillStyle=r,t.fill(),void t.restore();const h=o/2;var c;Jc(t,e+h,s+h,i-o,n-o,(c=-h,l.map(d=>d===0?d:d+c))),r!=="transparent"&&(t.fillStyle=r,t.fill()),a!=="transparent"&&(t.lineWidth=o,t.strokeStyle=a,t.closePath(),t.stroke()),t.restore()}function zm(t,e,s,i,n,r,o){t.save(),t.globalCompositeOperation="copy";const l=t.createLinearGradient(0,0,0,n);l.addColorStop(0,r),l.addColorStop(1,o),t.fillStyle=l,t.fillRect(e,s,i,n),t.restore()}class Qc{constructor(e,s){this.ht(e,s)}ht(e,s){this.Yt=e,this.ei=s}$t(e,s){return this.Yt.Vt?e.P+e.A+e.V:0}nt(e,s,i,n){if(!this.Yt.Vt||this.Yt.ri.length===0)return;const r=this.Yt.R,o=this.ei.Z,l=e.useBitmapCoordinateSpace(a=>{const h=a.context;h.font=s.k;const c=this.hi(a,s,i,n),d=c.ai;return c.li?Gc(h,d.oi,d._i,d.ui,d.ci,o,d.di,[d.ft,0,0,d.ft],o):Gc(h,d.fi,d._i,d.ui,d.ci,o,d.di,[0,d.ft,d.ft,0],o),this.Yt.pi&&(h.fillStyle=r,h.fillRect(d.fi,d.mi,d.wi-d.fi,d.gi)),this.Yt.Mi&&(h.fillStyle=s.D,h.fillRect(c.li?d.bi-d.di:0,d._i,d.di,d.Si-d._i)),c});e.useMediaCoordinateSpace(({context:a})=>{const h=l.xi;a.font=s.k,a.textAlign=l.li?"right":"left",a.textBaseline="middle",a.fillStyle=r,a.fillText(this.Yt.ri,h.Ci,(h._i+h.Si)/2+h.Pi)})}hi(e,s,i,n){const{context:r,bitmapSize:o,mediaSize:l,horizontalPixelRatio:a,verticalPixelRatio:h}=e,c=this.Yt.pi||!this.Yt.yi?s.C:0,d=this.Yt.ki?s.S:0,f=s.A+this.ei.Ti,p=s.V+this.ei.Ri,g=s.B,x=s.I,w=this.Yt.ri,v=s.P,y=i.Di(r,w),m=Math.ceil(i.Vi(r,w)),b=v+f+p,S=s.S+g+x+m+c,k=Math.max(1,Math.floor(h));let j=Math.round(b*h);j%2!=k%2&&(j+=1);const P=d>0?Math.max(1,Math.floor(d*a)):0,O=Math.round(S*a),M=Math.round(c*a),B=this.ei.Bi??this.ei.Ii,Se=Math.round(B*h)-Math.floor(.5*h),We=Math.floor(Se+k/2-j/2),ps=We+j,Ft=n==="right",bt=Ft?l.width-d:d,qe=Ft?o.width-P:P;let T,L,I;return Ft?(T=qe-O,L=qe-M,I=bt-c-g-d):(T=qe+O,L=qe+M,I=bt+c+g),{li:Ft,ai:{_i:We,mi:Se,Si:ps,ui:O,ci:j,ft:2*a,di:P,oi:T,fi:qe,wi:L,gi:k,bi:o.width},xi:{_i:We/h,Si:ps/h,Ci:I,Pi:y}}}}class Wo{constructor(e){this.Ei={Ii:0,Z:"#000",Ri:0,Ti:0},this.Ai={ri:"",Vt:!1,pi:!0,yi:!1,Ht:"",R:"#FFF",Mi:!1,ki:!1},this.zi={ri:"",Vt:!1,pi:!1,yi:!0,Ht:"",R:"#FFF",Mi:!0,ki:!0},this.xt=!0,this.Li=new(e||Qc)(this.Ai,this.Ei),this.Oi=new(e||Qc)(this.zi,this.Ei)}ri(){return this.Ni(),this.Ai.ri}Ii(){return this.Ni(),this.Ei.Ii}yt(){this.xt=!0}$t(e,s=!1){return Math.max(this.Li.$t(e,s),this.Oi.$t(e,s))}Fi(){return this.Ei.Bi||0}Wi(e){this.Ei.Bi=e}Hi(){return this.Ni(),this.Ai.Vt||this.zi.Vt}Ui(){return this.Ni(),this.Ai.Vt}Tt(e){return this.Ni(),this.Ai.pi=this.Ai.pi&&e.N().ticksVisible,this.zi.pi=this.zi.pi&&e.N().ticksVisible,this.Li.ht(this.Ai,this.Ei),this.Oi.ht(this.zi,this.Ei),this.Li}$i(){return this.Ni(),this.Li.ht(this.Ai,this.Ei),this.Oi.ht(this.zi,this.Ei),this.Oi}Ni(){this.xt&&(this.Ai.pi=!0,this.zi.pi=!1,this.qi(this.Ai,this.zi,this.Ei))}}class mw extends Wo{constructor(e,s,i){super(),this.Jt=e,this.Yi=s,this.ji=i}qi(e,s,i){if(e.Vt=!1,this.Jt.N().mode===2)return;const n=this.Jt.N().horzLine;if(!n.labelVisible)return;const r=this.Yi.zt();if(!this.Jt.Vt()||this.Yi.Ki()||r===null)return;const o=this.Yi.Xi().X(n.labelBackgroundColor);i.Z=o.Z,e.R=o.G;const l=2/12*this.Yi.P();i.Ti=l,i.Ri=l;const a=this.ji(this.Yi);i.Ii=a.Ii,e.ri=this.Yi.Zi(a.gt,r),e.Vt=!0}}const gw=/[1-9]/g;class Fm{constructor(){this.Yt=null}ht(e){this.Yt=e}nt(e,s){if(this.Yt===null||this.Yt.Vt===!1||this.Yt.ri.length===0)return;const i=e.useMediaCoordinateSpace(({context:f})=>(f.font=s.k,Math.round(s.Gi.Vi(f,E(this.Yt).ri,gw))));if(i<=0)return;const n=s.Ji,r=i+2*n,o=r/2,l=this.Yt.Qi;let a=this.Yt.Ii,h=Math.floor(a-o)+.5;h<0?(a+=Math.abs(0-h),h=Math.floor(a-o)+.5):h+r>l&&(a-=Math.abs(l-(h+r)),h=Math.floor(a-o)+.5);const c=h+r,d=Math.ceil(0+s.S+s.C+s.A+s.P+s.V);e.useBitmapCoordinateSpace(({context:f,horizontalPixelRatio:p,verticalPixelRatio:g})=>{const x=E(this.Yt);f.fillStyle=x.Z;const w=Math.round(h*p),v=Math.round(0*g),y=Math.round(c*p),m=Math.round(d*g),b=Math.round(2*p);if(f.beginPath(),f.moveTo(w,v),f.lineTo(w,m-b),f.arcTo(w,m,w+b,m,b),f.lineTo(y-b,m),f.arcTo(y,m,y,m-b,b),f.lineTo(y,v),f.fill(),x.pi){const S=Math.round(x.Ii*p),k=v,j=Math.round((k+s.C)*g);f.fillStyle=x.R;const P=Math.max(1,Math.floor(p)),O=Math.floor(.5*p);f.fillRect(S-O,k,P,j-k)}}),e.useMediaCoordinateSpace(({context:f})=>{const p=E(this.Yt),g=0+s.S+s.C+s.A+s.P/2;f.font=s.k,f.textAlign="left",f.textBaseline="middle",f.fillStyle=p.R;const x=s.Gi.Di(f,"Apr0");f.translate(h+n,g+x),f.fillText(p.ri,0,0)})}}class vw{constructor(e,s,i){this.xt=!0,this.Gt=new Fm,this.Zt={Vt:!1,Z:"#4c525e",R:"white",ri:"",Qi:0,Ii:NaN,pi:!0},this.Ct=e,this.ts=s,this.ji=i}yt(){this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Gt.ht(this.Zt),this.Gt}Rt(){const e=this.Zt;if(e.Vt=!1,this.Ct.N().mode===2)return;const s=this.Ct.N().vertLine;if(!s.labelVisible)return;const i=this.ts.Et();if(i.Ki())return;e.Qi=i.Qi();const n=this.ji();if(n===null)return;e.Ii=n.Ii;const r=i.ss(this.Ct.It());e.ri=i.ns(E(r)),e.Vt=!0;const o=this.ts.Xi().X(s.labelBackgroundColor);e.Z=o.Z,e.R=o.G,e.pi=i.N().ticksVisible}}class Dm{constructor(){this.es=null,this.rs=0}hs(){return this.rs}ls(e){this.rs=e}Ft(){return this.es}_s(e){this.es=e}us(e){return[]}cs(){return[]}Vt(){return!0}}var Kc;(function(t){t[t.Normal=0]="Normal",t[t.Magnet=1]="Magnet",t[t.Hidden=2]="Hidden",t[t.MagnetOHLC=3]="MagnetOHLC"})(Kc||(Kc={}));class yw extends Dm{constructor(e,s){super(),this.Pt=null,this.ds=NaN,this.fs=0,this.ps=!1,this.vs=new Map,this.ws=!1,this.gs=new WeakMap,this.Ms=new WeakMap,this.bs=NaN,this.Ss=NaN,this.xs=NaN,this.Cs=NaN,this.ts=e,this.Ps=s,this.ys=((n,r)=>o=>{const l=r(),a=n();if(o===E(this.Pt).ks())return{gt:a,Ii:l};{const h=E(o.zt());return{gt:o.Ts(l,h),Ii:l}}})(()=>this.ds,()=>this.Ss);const i=((n,r)=>()=>{const o=this.ts.Et().Rs(n()),l=r();return o&&Number.isFinite(l)?{wt:o,Ii:l}:null})(()=>this.fs,()=>this.si());this.Ds=new vw(this,e,i)}N(){return this.Ps}Vs(e,s){this.xs=e,this.Cs=s}Bs(){this.xs=NaN,this.Cs=NaN}Is(){return this.xs}Es(){return this.Cs}As(e,s,i){this.ws||(this.ws=!0),this.ps=!0,this.zs(e,s,i)}It(){return this.fs}si(){return this.bs}ni(){return this.Ss}Vt(){return this.ps}Ls(){this.ps=!1,this.Os(),this.ds=NaN,this.bs=NaN,this.Ss=NaN,this.Pt=null,this.Bs(),this.Ns()}Fs(e){let s=this.gs.get(e);s||(s=new fw(this,e),this.gs.set(e,s));let i=this.Ms.get(e);return i||(i=new cw(this.ts,this,e),this.Ms.set(e,i)),[s,i]}ti(e){return e===this.Pt&&this.Ps.horzLine.visible}ii(){return this.Ps.vertLine.visible}Ws(e,s){this.ps&&this.Pt===e||this.vs.clear();const i=[];return this.Pt===e&&i.push(this.Hs(this.vs,s,this.ys)),i}cs(){return this.ps?[this.Ds]:[]}Us(){return this.Pt}Ns(){this.ts.$s().forEach(e=>{var s,i;(s=this.gs.get(e))==null||s.yt(),(i=this.Ms.get(e))==null||i.yt()}),this.vs.forEach(e=>e.yt()),this.Ds.yt()}qs(e){return e&&!e.ks().Ki()?e.ks():null}zs(e,s,i){this.Ys(e,s,i)&&this.Ns()}Ys(e,s,i){const n=this.bs,r=this.Ss,o=this.ds,l=this.fs,a=this.Pt,h=this.qs(i);this.fs=e,this.bs=isNaN(e)?NaN:this.ts.Et().qt(e),this.Pt=i;const c=h!==null?h.zt():null;return h!==null&&c!==null?(this.ds=s,this.Ss=h.Nt(s,c)):(this.ds=NaN,this.Ss=NaN),n!==this.bs||r!==this.Ss||l!==this.fs||o!==this.ds||a!==this.Pt}Os(){const e=this.ts.js().map(i=>i.Xs().Ks()).filter(nw),s=e.length===0?null:Math.max(...e);this.fs=s!==null?s:NaN}Hs(e,s,i){let n=e.get(s);return n===void 0&&(n=new mw(this,s,i),e.set(s,n)),n}}function qo(t){return t==="left"||t==="right"}class me{constructor(e){this.Zs=new Map,this.Gs=[],this.Js=e}Qs(e,s){const i=function(n,r){return n===void 0?r:{tn:Math.max(n.tn,r.tn),sn:n.sn||r.sn}}(this.Zs.get(e),s);this.Zs.set(e,i)}nn(){return this.Js}en(e){const s=this.Zs.get(e);return s===void 0?{tn:this.Js}:{tn:Math.max(this.Js,s.tn),sn:s.sn}}rn(){this.hn(),this.Gs=[{an:0}]}ln(e){this.hn(),this.Gs=[{an:1,Wt:e}]}_n(e){this.un(),this.Gs.push({an:5,Wt:e})}hn(){this.un(),this.Gs.push({an:6})}cn(){this.hn(),this.Gs=[{an:4}]}dn(e){this.hn(),this.Gs.push({an:2,Wt:e})}fn(e){this.hn(),this.Gs.push({an:3,Wt:e})}pn(){return this.Gs}vn(e){for(const s of e.Gs)this.mn(s);this.Js=Math.max(this.Js,e.Js),e.Zs.forEach((s,i)=>{this.Qs(i,s)})}static wn(){return new me(2)}static gn(){return new me(3)}mn(e){switch(e.an){case 0:this.rn();break;case 1:this.ln(e.Wt);break;case 2:this.dn(e.Wt);break;case 3:this.fn(e.Wt);break;case 4:this.cn();break;case 5:this._n(e.Wt);break;case 6:this.un()}}un(){const e=this.Gs.findIndex(s=>s.an===5);e!==-1&&this.Gs.splice(e,1)}}class Um{formatTickmarks(e){return e.map(s=>this.format(s))}}const Zc=".";function Pt(t,e){if(!Ni(t))return"n/a";if(!Fn(e))throw new TypeError("invalid length");if(e<0||e>16)throw new TypeError("invalid length");return e===0?t.toString():("0000000000000000"+t.toString()).slice(-e)}class Ho extends Um{constructor(e,s){if(super(),s||(s=1),Ni(e)&&Fn(e)||(e=100),e<0)throw new TypeError("invalid base");this.Yi=e,this.Mn=s,this.bn()}format(e){const s=e<0?"":"";return e=Math.abs(e),s+this.Sn(e)}bn(){if(this.xn=0,this.Yi>0&&this.Mn>0){let e=this.Yi;for(;e>1;)e/=10,this.xn++}}Sn(e){const s=this.Yi/this.Mn;let i=Math.floor(e),n="";const r=this.xn!==void 0?this.xn:NaN;if(s>1){let o=+(Math.round(e*s)-i*s).toFixed(this.xn);o>=s&&(o-=s,i+=1),n=Zc+Pt(+o.toFixed(this.xn)*this.Mn,r)}else i=Math.round(i*s)/s,r>0&&(n=Zc+Pt(0,r));return i.toFixed(0)+n}}class Bm extends Ho{constructor(e=100){super(e)}format(e){return`${super.format(e)}%`}}class xw extends Um{constructor(e){super(),this.Cn=e}format(e){let s="";return e<0&&(s="-",e=-e),e<995?s+this.Pn(e):e<999995?s+this.Pn(e/1e3)+"K":e<999999995?(e=1e3*Math.round(e/1e3),s+this.Pn(e/1e6)+"M"):(e=1e6*Math.round(e/1e6),s+this.Pn(e/1e9)+"B")}Pn(e){let s;const i=Math.pow(10,this.Cn);return s=(e=Math.round(e*i)/i)>=1e-15&&e<1?e.toFixed(this.Cn).replace(/\.?0+$/,""):String(e),s.replace(/(\.[1-9]*)0+$/,(n,r)=>r)}}const ww=/[2-9]/g;class yo{constructor(e=50){this.yn=0,this.kn=1,this.Tn=1,this.Rn={},this.Dn=new Map,this.Vn=e}Bn(){this.yn=0,this.Dn.clear(),this.kn=1,this.Tn=1,this.Rn={}}Vi(e,s,i){return this.In(e,s,i).width}Di(e,s,i){const n=this.In(e,s,i);return((n.actualBoundingBoxAscent||0)-(n.actualBoundingBoxDescent||0))/2}In(e,s,i){const n=i||ww,r=String(s).replace(n,"0");if(this.Dn.has(r))return $e(this.Dn.get(r)).En;if(this.yn===this.Vn){const l=this.Rn[this.Tn];delete this.Rn[this.Tn],this.Dn.delete(l),this.Tn++,this.yn--}e.save(),e.textBaseline="middle";const o=e.measureText(r);return e.restore(),o.width===0&&s.length||(this.Dn.set(r,{En:o,An:this.kn}),this.Rn[this.kn]=r,this.yn++,this.kn++),o}}class bw{constructor(e){this.zn=null,this.M=null,this.Ln="right",this.On=e}Nn(e,s,i){this.zn=e,this.M=s,this.Ln=i}nt(e){this.M!==null&&this.zn!==null&&this.zn.nt(e,this.M,this.On,this.Ln)}}class Vm{constructor(e,s,i){this.Fn=e,this.On=new yo(50),this.Wn=s,this.O=i,this.F=-1,this.Gt=new bw(this.On)}Tt(){const e=this.O.Hn(this.Wn);if(e===null)return null;const s=e.Un(this.Wn)?e.$n():this.Wn.Ft();if(s===null)return null;const i=e.qn(s);if(i==="overlay")return null;const n=this.O.Yn();return n.P!==this.F&&(this.F=n.P,this.On.Bn()),this.Gt.Nn(this.Fn.$i(),n,i),this.Gt}}class _w extends $i{constructor(){super(...arguments),this.Yt=null}ht(e){this.Yt=e}jn(e,s){var o;if(!((o=this.Yt)!=null&&o.Vt))return null;const{ut:i,ct:n,Kn:r}=this.Yt;return s>=i-n-7&&s<=i+n+7?{Xn:this.Yt,Kn:r}:null}et({context:e,bitmapSize:s,horizontalPixelRatio:i,verticalPixelRatio:n}){if(this.Yt===null||this.Yt.Vt===!1)return;const r=Math.round(this.Yt.ut*n);r<0||r>s.height||(e.lineCap="butt",e.strokeStyle=this.Yt.R,e.lineWidth=Math.floor(this.Yt.ct*i),ji(e,this.Yt.Xt),$m(e,r,0,s.width))}}class vh{constructor(e){this.Zn={ut:0,R:"rgba(0, 0, 0, 0)",ct:1,Xt:0,Vt:!1},this.Gn=new _w,this.xt=!0,this.Jn=e,this.Qn=e.Qt(),this.Gn.ht(this.Zn)}yt(){this.xt=!0}Tt(){return this.Jn.Vt()?(this.xt&&(this.te(),this.xt=!1),this.Gn):null}}class Sw extends vh{constructor(e){super(e)}te(){this.Zn.Vt=!1;const e=this.Jn.Ft(),s=e.ie().ie;if(s!==2&&s!==3)return;const i=this.Jn.N();if(!i.baseLineVisible||!this.Jn.Vt())return;const n=this.Jn.zt();n!==null&&(this.Zn.Vt=!0,this.Zn.ut=e.Nt(n.Wt,n.Wt),this.Zn.R=i.baseLineColor,this.Zn.ct=i.baseLineWidth,this.Zn.Xt=i.baseLineStyle)}}class kw extends $i{constructor(){super(...arguments),this.Yt=null}ht(e){this.Yt=e}se(){return this.Yt}et({context:e,horizontalPixelRatio:s,verticalPixelRatio:i}){const n=this.Yt;if(n===null)return;const r=Math.max(1,Math.floor(s)),o=r%2/2,l=Math.round(n.ne.x*s)+o,a=n.ne.y*i;e.fillStyle=n.ee,e.beginPath();const h=Math.max(2,1.5*n.re)*s;e.arc(l,a,h,0,2*Math.PI,!1),e.fill(),e.fillStyle=n.he,e.beginPath(),e.arc(l,a,n.ft*s,0,2*Math.PI,!1),e.fill(),e.lineWidth=r,e.strokeStyle=n.ae,e.beginPath(),e.arc(l,a,n.ft*s+r/2,0,2*Math.PI,!1),e.stroke()}}const jw=[{le:0,oe:.25,_e:4,ue:10,ce:.25,de:0,fe:.4,pe:.8},{le:.25,oe:.525,_e:10,ue:14,ce:0,de:0,fe:.8,pe:0},{le:.525,oe:1,_e:14,ue:14,ce:0,de:0,fe:0,pe:0}];class Nw{constructor(e){this.Gt=new kw,this.xt=!0,this.ve=!0,this.me=performance.now(),this.we=this.me-1,this.ge=e}Me(){this.we=this.me-1,this.yt()}be(){if(this.yt(),this.ge.N().lastPriceAnimation===2){const e=performance.now(),s=this.we-e;if(s>0)return void(s<650&&(this.we+=2600));this.me=e,this.we=e+2600}}yt(){this.xt=!0}Se(){this.ve=!0}Vt(){return this.ge.N().lastPriceAnimation!==0}xe(){switch(this.ge.N().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.we}}Tt(){return this.xt?(this.Rt(),this.xt=!1,this.ve=!1):this.ve&&(this.Ce(),this.ve=!1),this.Gt}Rt(){this.Gt.ht(null);const e=this.ge.Qt().Et(),s=e.Pe(),i=this.ge.zt();if(s===null||i===null)return;const n=this.ge.ye(!0);if(n.ke||!s.Te(n.Re))return;const r={x:e.qt(n.Re),y:this.ge.Ft().Nt(n.gt,i.Wt)},o=n.R,l=this.ge.N().lineWidth,a=this.De(this.Ve(),o);this.Gt.ht({ee:o,re:l,he:a.he,ae:a.ae,ft:a.ft,ne:r})}Ce(){const e=this.Gt.se();if(e!==null){const s=this.De(this.Ve(),e.ee);e.he=s.he,e.ae=s.ae,e.ft=s.ft}}Ve(){return this.xe()?performance.now()-this.me:2599}Be(e,s,i,n){const r=i+(n-i)*s;return this.ge.Qt().Xi().j(e,r)}De(e,s){const i=e%2600/2600;let n;for(const h of jw)if(i>=h.le&&i<=h.oe){n=h;break}ge(n!==void 0,"Last price animation internal logic error");const r=(i-n.le)/(n.oe-n.le);return{he:this.Be(s,r,n.ce,n.de),ae:this.Be(s,r,n.fe,n.pe),ft:(o=r,l=n._e,a=n.ue,l+(a-l)*o)};var o,l,a}}class Ew extends vh{constructor(e){super(e)}te(){const e=this.Zn;e.Vt=!1;const s=this.Jn.N();if(!s.priceLineVisible||!this.Jn.Vt())return;const i=this.Jn.ye(s.priceLineSource===0);i.ke||(e.Vt=!0,e.ut=i.Ii,e.R=this.Jn.Ie(i.R),e.ct=s.priceLineWidth,e.Xt=s.priceLineStyle)}}class Cw extends Wo{constructor(e){super(),this.Jt=e}qi(e,s,i){e.Vt=!1,s.Vt=!1;const n=this.Jt;if(!n.Vt())return;const r=n.N(),o=r.lastValueVisible,l=n.Ee()!=="",a=r.seriesLastValueMode===0,h=n.ye(!1);if(h.ke)return;o&&(e.ri=this.Ae(h,o,a),e.Vt=e.ri.length!==0),(l||a)&&(s.ri=this.ze(h,o,l,a),s.Vt=s.ri.length>0);const c=n.Ie(h.R),d=this.Jt.Qt().Xi().X(c);i.Z=d.Z,i.Ii=h.Ii,s.Ht=n.Qt().Ut(h.Ii/n.Ft().$t()),e.Ht=c,e.R=d.G,s.R=d.G}ze(e,s,i,n){let r="";const o=this.Jt.Ee();return i&&o.length!==0&&(r+=`${o} `),s&&n&&(r+=this.Jt.Ft().Le()?e.Oe:e.Ne),r.trim()}Ae(e,s,i){return s?i?this.Jt.Ft().Le()?e.Ne:e.Oe:e.ri:""}}function Xc(t,e,s,i){const n=Number.isFinite(e),r=Number.isFinite(s);return n&&r?t(e,s):n||r?n?e:s:i}class Ee{constructor(e,s){this.Fe=e,this.We=s}He(e){return e!==null&&this.Fe===e.Fe&&this.We===e.We}Ue(){return new Ee(this.Fe,this.We)}$e(){return this.Fe}qe(){return this.We}Ye(){return this.We-this.Fe}Ki(){return this.We===this.Fe||Number.isNaN(this.We)||Number.isNaN(this.Fe)}vn(e){return e===null?this:new Ee(Xc(Math.min,this.$e(),e.$e(),-1/0),Xc(Math.max,this.qe(),e.qe(),1/0))}je(e){if(!Ni(e)||this.We-this.Fe===0)return;const s=.5*(this.We+this.Fe);let i=this.We-s,n=this.Fe-s;i*=e,n*=e,this.We=s+i,this.Fe=s+n}Ke(e){Ni(e)&&(this.We+=e,this.Fe+=e)}Xe(){return{minValue:this.Fe,maxValue:this.We}}static Ze(e){return e===null?null:new Ee(e.minValue,e.maxValue)}}class xo{constructor(e,s){this.Ge=e,this.Je=s||null}Qe(){return this.Ge}tr(){return this.Je}Xe(){return{priceRange:this.Ge===null?null:this.Ge.Xe(),margins:this.Je||void 0}}static Ze(e){return e===null?null:new xo(Ee.Ze(e.priceRange),e.margins)}}class Pw extends vh{constructor(e,s){super(e),this.ir=s}te(){const e=this.Zn;e.Vt=!1;const s=this.ir.N();if(!this.Jn.Vt()||!s.lineVisible)return;const i=this.ir.sr();i!==null&&(e.Vt=!0,e.ut=i,e.R=s.color,e.ct=s.lineWidth,e.Xt=s.lineStyle,e.Kn=this.ir.N().id)}}class Tw extends Wo{constructor(e,s){super(),this.ge=e,this.ir=s}qi(e,s,i){e.Vt=!1,s.Vt=!1;const n=this.ir.N(),r=n.axisLabelVisible,o=n.title!=="",l=this.ge;if(!r||!l.Vt())return;const a=this.ir.sr();if(a===null)return;o&&(s.ri=n.title,s.Vt=!0),s.Ht=l.Qt().Ut(a/l.Ft().$t()),e.ri=this.nr(n.price),e.Vt=!0;const h=this.ge.Qt().Xi().X(n.axisLabelColor||n.color);i.Z=h.Z;const c=n.axisLabelTextColor||h.G;e.R=c,s.R=c,i.Ii=a}nr(e){const s=this.ge.zt();return s===null?"":this.ge.Ft().Zi(e,s.Wt)}}class Rw{constructor(e,s){this.ge=e,this.Ps=s,this.er=new Pw(e,this),this.Fn=new Tw(e,this),this.rr=new Vm(this.Fn,e,e.Qt())}hr(e){De(this.Ps,e),this.yt(),this.ge.Qt().ar()}N(){return this.Ps}lr(){return this.er}_r(){return this.rr}ur(){return this.Fn}yt(){this.er.yt(),this.Fn.yt()}sr(){const e=this.ge,s=e.Ft();if(e.Qt().Et().Ki()||s.Ki())return null;const i=e.zt();return i===null?null:s.Nt(this.Ps.price,i.Wt)}}class Mw extends Dm{constructor(e){super(),this.ts=e}Qt(){return this.ts}}const Ow={Bar:(t,e,s,i)=>{const n=e.upColor,r=e.downColor,o=E(t(s,i)),l=Zt(o.Wt[0])<=Zt(o.Wt[3]);return{cr:o.R??(l?n:r)}},Candlestick:(t,e,s,i)=>{const n=e.upColor,r=e.downColor,o=e.borderUpColor,l=e.borderDownColor,a=e.wickUpColor,h=e.wickDownColor,c=E(t(s,i)),d=Zt(c.Wt[0])<=Zt(c.Wt[3]);return{cr:c.R??(d?n:r),dr:c.Ht??(d?o:l),pr:c.vr??(d?a:h)}},Custom:(t,e,s,i)=>({cr:E(t(s,i)).R??e.color}),Area:(t,e,s,i)=>{const n=E(t(s,i));return{cr:n.vt??e.lineColor,vt:n.vt??e.lineColor,mr:n.mr??e.topColor,wr:n.wr??e.bottomColor}},Baseline:(t,e,s,i)=>{const n=E(t(s,i));return{cr:n.Wt[3]>=e.baseValue.price?e.topLineColor:e.bottomLineColor,gr:n.gr??e.topLineColor,Mr:n.Mr??e.bottomLineColor,br:n.br??e.topFillColor1,Sr:n.Sr??e.topFillColor2,Cr:n.Cr??e.bottomFillColor1,Pr:n.Pr??e.bottomFillColor2}},Line:(t,e,s,i)=>{const n=E(t(s,i));return{cr:n.R??e.color,vt:n.R??e.color}},Histogram:(t,e,s,i)=>({cr:E(t(s,i)).R??e.color})};class Lw{constructor(e){this.yr=(s,i)=>i!==void 0?i.Wt:this.ge.Xs().kr(s),this.ge=e,this.Tr=Ow[e.Rr()]}Dr(e,s){return this.Tr(this.yr,this.ge.N(),e,s)}}function Wm(t,e,s,i,n=0,r=e.length){let o=r-n;for(;0<o;){const l=o>>1,a=n+l;i(e[a],s)===t?(n=a+1,o-=l+1):o=l}return n}const Ei=Wm.bind(null,!0),qm=Wm.bind(null,!1);var ed;(function(t){t[t.NearestLeft=-1]="NearestLeft",t[t.None=0]="None",t[t.NearestRight=1]="NearestRight"})(ed||(ed={}));const Ut=30;class Iw{constructor(){this.Vr=[],this.Br=new Map,this.Ir=new Map,this.Er=[]}Ar(){return this.zr()>0?this.Vr[this.Vr.length-1]:null}Lr(){return this.zr()>0?this.Or(0):null}Ks(){return this.zr()>0?this.Or(this.Vr.length-1):null}zr(){return this.Vr.length}Ki(){return this.zr()===0}Te(e){return this.Nr(e,0)!==null}kr(e){return this.Fr(e)}Fr(e,s=0){const i=this.Nr(e,s);return i===null?null:{...this.Wr(i),Re:this.Or(i)}}Hr(){return this.Vr}Ur(e,s,i){if(this.Ki())return null;let n=null;for(const r of i)n=vr(n,this.$r(e,s,r));return n}ht(e){this.Ir.clear(),this.Br.clear(),this.Vr=e,this.Er=e.map(s=>s.Re)}qr(){return this.Er}Or(e){return this.Vr[e].Re}Wr(e){return this.Vr[e]}Nr(e,s){const i=this.Yr(e);if(i===null&&s!==0)switch(s){case-1:return this.jr(e);case 1:return this.Kr(e);default:throw new TypeError("Unknown search mode")}return i}jr(e){let s=this.Xr(e);return s>0&&(s-=1),s!==this.Vr.length&&this.Or(s)<e?s:null}Kr(e){const s=this.Zr(e);return s!==this.Vr.length&&e<this.Or(s)?s:null}Yr(e){const s=this.Xr(e);return s===this.Vr.length||e<this.Vr[s].Re?null:s}Xr(e){return Ei(this.Vr,e,(s,i)=>s.Re<i)}Zr(e){return qm(this.Vr,e,(s,i)=>s.Re>i)}Gr(e,s,i){let n=null;for(let r=e;r<s;r++){const o=this.Vr[r].Wt[i];Number.isNaN(o)||(n===null?n={Jr:o,Qr:o}:(o<n.Jr&&(n.Jr=o),o>n.Qr&&(n.Qr=o)))}return n}$r(e,s,i){if(this.Ki())return null;let n=null;const r=E(this.Lr()),o=E(this.Ks()),l=Math.max(e,r),a=Math.min(s,o),h=Math.ceil(l/Ut)*Ut,c=Math.max(h,Math.floor(a/Ut)*Ut);{const f=this.Xr(l),p=this.Zr(Math.min(a,h,s));n=vr(n,this.Gr(f,p,i))}let d=this.Br.get(i);d===void 0&&(d=new Map,this.Br.set(i,d));for(let f=Math.max(h+1,l);f<c;f+=Ut){const p=Math.floor(f/Ut);let g=d.get(p);if(g===void 0){const x=this.Xr(p*Ut),w=this.Zr((p+1)*Ut-1);g=this.Gr(x,w,i),d.set(p,g)}n=vr(n,g)}{const f=this.Xr(c),p=this.Zr(a);n=vr(n,this.Gr(f,p,i))}return n}}function vr(t,e){return t===null?e:e===null?t:{Jr:Math.min(t.Jr,e.Jr),Qr:Math.max(t.Qr,e.Qr)}}const wo={setLineStyle:ji};class $w{constructor(e){this.th=e}nt(e,s,i){this.th.draw(e,wo)}ih(e,s,i){var n,r;(r=(n=this.th).drawBackground)==null||r.call(n,e,wo)}}class Aw{constructor(e){this.Dn=null,this.sh=e}Tt(){var i;const e=this.sh.renderer();if(e===null)return null;if(((i=this.Dn)==null?void 0:i.nh)===e)return this.Dn.eh;const s=new $w(e);return this.Dn={nh:e,eh:s},s}rh(){var e,s;return((s=(e=this.sh).zOrder)==null?void 0:s.call(e))??"normal"}}class Hm{constructor(e){this.hh=null,this.ah=e}oh(){return this.ah}Ns(){var e,s;(s=(e=this.ah).updateAllViews)==null||s.call(e)}Fs(){var i,n,r;const e=((n=(i=this.ah).paneViews)==null?void 0:n.call(i))??[];if(((r=this.hh)==null?void 0:r.nh)===e)return this.hh.eh;const s=e.map(o=>new Aw(o));return this.hh={nh:e,eh:s},s}jn(e,s){var i,n;return((n=(i=this.ah).hitTest)==null?void 0:n.call(i,e,s))??null}}let zw=class extends Hm{us(){return[]}};class Fw{constructor(e){this.th=e}nt(e,s,i){this.th.draw(e,wo)}ih(e,s,i){var n,r;(r=(n=this.th).drawBackground)==null||r.call(n,e,wo)}}class td{constructor(e){this.Dn=null,this.sh=e}Tt(){var i;const e=this.sh.renderer();if(e===null)return null;if(((i=this.Dn)==null?void 0:i.nh)===e)return this.Dn.eh;const s=new Fw(e);return this.Dn={nh:e,eh:s},s}rh(){var e,s;return((s=(e=this.sh).zOrder)==null?void 0:s.call(e))??"normal"}}function Ym(t){var e,s,i;return{ri:t.text(),Ii:t.coordinate(),Bi:(e=t.fixedCoordinate)==null?void 0:e.call(t),R:t.textColor(),Z:t.backColor(),Vt:((s=t.visible)==null?void 0:s.call(t))??!0,pi:((i=t.tickVisible)==null?void 0:i.call(t))??!0}}class Dw{constructor(e,s){this.Gt=new Fm,this._h=e,this.uh=s}Tt(){return this.Gt.ht({Qi:this.uh.Qi(),...Ym(this._h)}),this.Gt}}class Uw extends Wo{constructor(e,s){super(),this._h=e,this.Yi=s}qi(e,s,i){const n=Ym(this._h);i.Z=n.Z,e.R=n.R;const r=2/12*this.Yi.P();i.Ti=r,i.Ri=r,i.Ii=n.Ii,i.Bi=n.Bi,e.ri=n.ri,e.Vt=n.Vt,e.pi=n.pi}}class Bw extends Hm{constructor(e,s){super(e),this.dh=null,this.fh=null,this.ph=null,this.mh=null,this.ge=s}cs(){var n,r,o;const e=((r=(n=this.ah).timeAxisViews)==null?void 0:r.call(n))??[];if(((o=this.dh)==null?void 0:o.nh)===e)return this.dh.eh;const s=this.ge.Qt().Et(),i=e.map(l=>new Dw(l,s));return this.dh={nh:e,eh:i},i}Ws(){var n,r,o;const e=((r=(n=this.ah).priceAxisViews)==null?void 0:r.call(n))??[];if(((o=this.fh)==null?void 0:o.nh)===e)return this.fh.eh;const s=this.ge.Ft(),i=e.map(l=>new Uw(l,s));return this.fh={nh:e,eh:i},i}wh(){var i,n,r;const e=((n=(i=this.ah).priceAxisPaneViews)==null?void 0:n.call(i))??[];if(((r=this.ph)==null?void 0:r.nh)===e)return this.ph.eh;const s=e.map(o=>new td(o));return this.ph={nh:e,eh:s},s}gh(){var i,n,r;const e=((n=(i=this.ah).timeAxisPaneViews)==null?void 0:n.call(i))??[];if(((r=this.mh)==null?void 0:r.nh)===e)return this.mh.eh;const s=e.map(o=>new td(o));return this.mh={nh:e,eh:s},s}Mh(e,s){var i,n;return((n=(i=this.ah).autoscaleInfo)==null?void 0:n.call(i,e,s))??null}}function Ol(t,e,s,i){t.forEach(n=>{e(n).forEach(r=>{r.rh()===s&&i.push(r)})})}function Ll(t){return t.Fs()}function Vw(t){return t.wh()}function Ww(t){return t.gh()}const qw=["Area","Line","Baseline"];class Yo extends Mw{constructor(e,s,i,n,r){super(e),this.Yt=new Iw,this.er=new Ew(this),this.bh=[],this.Sh=new Sw(this),this.xh=null,this.Ch=null,this.Ph=null,this.yh=[],this.Ps=i,this.kh=s;const o=new Cw(this);this.vs=[o],this.rr=new Vm(o,this,e),qw.includes(this.kh)&&(this.xh=new Nw(this)),this.Th(),this.sh=n(this,this.Qt(),r)}m(){this.Ph!==null&&clearTimeout(this.Ph)}Ie(e){return this.Ps.priceLineColor||e}ye(e){const s={ke:!0},i=this.Ft();if(this.Qt().Et().Ki()||i.Ki()||this.Yt.Ki())return s;const n=this.Qt().Et().Pe(),r=this.zt();if(n===null||r===null)return s;let o,l;if(e){const d=this.Yt.Ar();if(d===null)return s;o=d,l=d.Re}else{const d=this.Yt.Fr(n.bi(),-1);if(d===null||(o=this.Yt.kr(d.Re),o===null))return s;l=d.Re}const a=o.Wt[3],h=this.Rh().Dr(l,{Wt:o}),c=i.Nt(a,r.Wt);return{ke:!1,gt:a,ri:i.Zi(a,r.Wt),Oe:i.Dh(a),Ne:i.Vh(a,r.Wt),R:h.cr,Ii:c,Re:l}}Rh(){return this.Ch!==null||(this.Ch=new Lw(this)),this.Ch}N(){return this.Ps}hr(e){const s=e.priceScaleId;s!==void 0&&s!==this.Ps.priceScaleId&&this.Qt().Bh(this,s),De(this.Ps,e),e.priceFormat!==void 0&&(this.Th(),this.Qt().Ih()),this.Qt().Eh(this),this.Qt().Ah(),this.sh.yt("options")}ht(e,s){this.Yt.ht(e),this.sh.yt("data"),this.xh!==null&&(s&&s.zh?this.xh.be():e.length===0&&this.xh.Me());const i=this.Qt().Hn(this);this.Qt().Lh(i),this.Qt().Eh(this),this.Qt().Ah(),this.Qt().ar()}Oh(e){const s=new Rw(this,e);return this.bh.push(s),this.Qt().Eh(this),s}Nh(e){const s=this.bh.indexOf(e);s!==-1&&this.bh.splice(s,1),this.Qt().Eh(this)}Fh(){return this.bh}Rr(){return this.kh}zt(){const e=this.Wh();return e===null?null:{Wt:e.Wt[3],Hh:e.wt}}Wh(){const e=this.Qt().Et().Pe();if(e===null)return null;const s=e.Uh();return this.Yt.Fr(s,1)}Xs(){return this.Yt}$h(e){const s=this.Yt.kr(e);return s===null?null:this.kh==="Bar"||this.kh==="Candlestick"||this.kh==="Custom"?{qh:s.Wt[0],Yh:s.Wt[1],jh:s.Wt[2],Kh:s.Wt[3]}:s.Wt[3]}Xh(e){const s=[];Ol(this.yh,Ll,"top",s);const i=this.xh;return i!==null&&i.Vt()&&(this.Ph===null&&i.xe()&&(this.Ph=setTimeout(()=>{this.Ph=null,this.Qt().Zh()},0)),i.Se(),s.unshift(i)),s}Fs(){const e=[];this.Gh()||e.push(this.Sh),e.push(this.sh,this.er);const s=this.bh.map(i=>i.lr());return e.push(...s),Ol(this.yh,Ll,"normal",e),e}Jh(){return this.Qh(Ll,"bottom")}ta(e){return this.Qh(Vw,e)}ia(e){return this.Qh(Ww,e)}sa(e,s){return this.yh.map(i=>i.jn(e,s)).filter(i=>i!==null)}us(){return[this.rr,...this.bh.map(e=>e._r())]}Ws(e,s){if(s!==this.es&&!this.Gh())return[];const i=[...this.vs];for(const n of this.bh)i.push(n.ur());return this.yh.forEach(n=>{i.push(...n.Ws())}),i}cs(){const e=[];return this.yh.forEach(s=>{e.push(...s.cs())}),e}Mh(e,s){if(this.Ps.autoscaleInfoProvider!==void 0){const i=this.Ps.autoscaleInfoProvider(()=>{const n=this.na(e,s);return n===null?null:n.Xe()});return xo.Ze(i)}return this.na(e,s)}nh(){const e=this.Ps.priceFormat;return e.base??1/e.minMove}ea(){return this.ra}Ns(){var e;this.sh.yt();for(const s of this.vs)s.yt();for(const s of this.bh)s.yt();this.er.yt(),this.Sh.yt(),(e=this.xh)==null||e.yt(),this.yh.forEach(s=>s.Ns())}Ft(){return E(super.Ft())}At(e){if(!((this.kh==="Line"||this.kh==="Area"||this.kh==="Baseline")&&this.Ps.crosshairMarkerVisible))return null;const s=this.Yt.kr(e);return s===null?null:{gt:s.Wt[3],ft:this.ha(),Ht:this.aa(),Ot:this.la(),Lt:this.oa(e)}}Ee(){return this.Ps.title}Vt(){return this.Ps.visible}_a(e){this.yh.push(new Bw(e,this))}ua(e){this.yh=this.yh.filter(s=>s.oh()!==e)}ca(){if(this.kh==="Custom")return e=>this.sh.da(e)}fa(){if(this.kh==="Custom")return e=>this.sh.pa(e)}va(){return this.Yt.qr()}Gh(){return!qo(this.Ft().ma())}na(e,s){if(!Fn(e)||!Fn(s)||this.Yt.Ki())return null;const i=this.kh==="Line"||this.kh==="Area"||this.kh==="Baseline"||this.kh==="Histogram"?[3]:[2,1],n=this.Yt.Ur(e,s,i);let r=n!==null?new Ee(n.Jr,n.Qr):null,o=null;if(this.Rr()==="Histogram"){const l=this.Ps.base,a=new Ee(l,l);r=r!==null?r.vn(a):a}return this.yh.forEach(l=>{const a=l.Mh(e,s);if(a!=null&&a.priceRange){const h=new Ee(a.priceRange.minValue,a.priceRange.maxValue);r=r!==null?r.vn(h):h}a!=null&&a.margins&&(o=a.margins)}),new xo(r,o)}ha(){switch(this.kh){case"Line":case"Area":case"Baseline":return this.Ps.crosshairMarkerRadius}return 0}aa(){switch(this.kh){case"Line":case"Area":case"Baseline":{const e=this.Ps.crosshairMarkerBorderColor;if(e.length!==0)return e}}return null}la(){switch(this.kh){case"Line":case"Area":case"Baseline":return this.Ps.crosshairMarkerBorderWidth}return 0}oa(e){switch(this.kh){case"Line":case"Area":case"Baseline":{const s=this.Ps.crosshairMarkerBackgroundColor;if(s.length!==0)return s}}return this.Rh().Dr(e).cr}Th(){switch(this.Ps.priceFormat.type){case"custom":{const e=this.Ps.priceFormat.formatter;this.ra={format:e,formatTickmarks:this.Ps.priceFormat.tickmarksFormatter??(s=>s.map(e))};break}case"volume":this.ra=new xw(this.Ps.priceFormat.precision);break;case"percent":this.ra=new Bm(this.Ps.priceFormat.precision);break;default:{const e=Math.pow(10,this.Ps.priceFormat.precision);this.ra=new Ho(e,this.Ps.priceFormat.minMove*e)}}this.es!==null&&this.es.wa()}Qh(e,s){const i=[];return Ol(this.yh,e,s,i),i}}const Hw=[3],Yw=[0,1,2,3];class Jw{constructor(e){this.Ps=e}ga(e,s,i){let n=e;if(this.Ps.mode===0)return n;const r=i.ks(),o=r.zt();if(o===null)return n;const l=r.Nt(e,o),a=i.Ma().filter(c=>c instanceof Yo).reduce((c,d)=>{if(i.Un(d)||!d.Vt())return c;const f=d.Ft(),p=d.Xs();if(f.Ki()||!p.Te(s))return c;const g=p.kr(s);if(g===null)return c;const x=Zt(d.zt()),w=this.Ps.mode===3?Yw:Hw;return c.concat(w.map(v=>f.Nt(g.Wt[v],x.Wt)))},[]);if(a.length===0)return n;a.sort((c,d)=>Math.abs(c-l)-Math.abs(d-l));const h=a[0];return n=r.Ts(h,o),n}}function fn(t,e,s){return Math.min(Math.max(t,e),s)}function yr(t,e,s){return e-t<=s}class Gw extends $i{constructor(){super(...arguments),this.Yt=null}ht(e){this.Yt=e}et({context:e,bitmapSize:s,horizontalPixelRatio:i,verticalPixelRatio:n}){if(this.Yt===null)return;const r=Math.max(1,Math.floor(i));e.lineWidth=r,function(o,l){o.save(),o.lineWidth%2&&o.translate(.5,.5),l(),o.restore()}(e,()=>{const o=E(this.Yt);if(o.ba){e.strokeStyle=o.Sa,ji(e,o.xa),e.beginPath();for(const l of o.Ca){const a=Math.round(l.Pa*i);e.moveTo(a,-r),e.lineTo(a,s.height+r)}e.stroke()}if(o.ya){e.strokeStyle=o.ka,ji(e,o.Ta),e.beginPath();for(const l of o.Ra){const a=Math.round(l.Pa*n);e.moveTo(-r,a),e.lineTo(s.width+r,a)}e.stroke()}})}}class Qw{constructor(e){this.Gt=new Gw,this.xt=!0,this.Pt=e}yt(){this.xt=!0}Tt(){if(this.xt){const e=this.Pt.Qt().N().grid,s={ya:e.horzLines.visible,ba:e.vertLines.visible,ka:e.horzLines.color,Sa:e.vertLines.color,Ta:e.horzLines.style,xa:e.vertLines.style,Ra:this.Pt.ks().Da(),Ca:(this.Pt.Qt().Et().Da()||[]).map(i=>({Pa:i.coord}))};this.Gt.ht(s),this.xt=!1}return this.Gt}}class Kw{constructor(e){this.sh=new Qw(e)}lr(){return this.sh}}const Il={Va:4,Ba:1e-4};function ui(t,e){const s=100*(t-e)/e;return e<0?-s:s}function Zw(t,e){const s=ui(t.$e(),e),i=ui(t.qe(),e);return new Ee(s,i)}function pn(t,e){const s=100*(t-e)/e+100;return e<0?-s:s}function Xw(t,e){const s=pn(t.$e(),e),i=pn(t.qe(),e);return new Ee(s,i)}function bo(t,e){const s=Math.abs(t);if(s<1e-15)return 0;const i=Math.log10(s+e.Ba)+e.Va;return t<0?-i:i}function mn(t,e){const s=Math.abs(t);if(s<1e-15)return 0;const i=Math.pow(10,s-e.Va)-e.Ba;return t<0?-i:i}function Gi(t,e){if(t===null)return null;const s=bo(t.$e(),e),i=bo(t.qe(),e);return new Ee(s,i)}function hi(t,e){if(t===null)return null;const s=mn(t.$e(),e),i=mn(t.qe(),e);return new Ee(s,i)}function $l(t){if(t===null)return Il;const e=Math.abs(t.qe()-t.$e());if(e>=1||e<1e-15)return Il;const s=Math.ceil(Math.abs(Math.log10(e))),i=Il.Va+s;return{Va:i,Ba:1/Math.pow(10,i)}}class Al{constructor(e,s){if(this.Ia=e,this.Ea=s,function(i){if(i<0)return!1;if(i>1e18)return!0;for(let n=i;n>1;n/=10)if(n%10!=0)return!1;return!0}(this.Ia))this.Aa=[2,2.5,2];else{this.Aa=[];for(let i=this.Ia;i!==1;){if(i%2==0)this.Aa.push(2),i/=2;else{if(i%5!=0)throw new Error("unexpected base");this.Aa.push(2,2.5),i/=5}if(this.Aa.length>100)throw new Error("something wrong with base")}}}za(e,s,i){const n=this.Ia===0?0:1/this.Ia;let r=Math.pow(10,Math.max(0,Math.ceil(Math.log10(e-s)))),o=0,l=this.Ea[0];for(;;){const d=yr(r,n,1e-14)&&r>n+1e-14,f=yr(r,i*l,1e-14),p=yr(r,1,1e-14);if(!(d&&f&&p))break;r/=l,l=this.Ea[++o%this.Ea.length]}if(r<=n+1e-14&&(r=n),r=Math.max(1,r),this.Aa.length>0&&(a=r,h=1,c=1e-14,Math.abs(a-h)<c))for(o=0,l=this.Aa[0];yr(r,i*l,1e-14)&&r>n+1e-14;)r/=l,l=this.Aa[++o%this.Aa.length];var a,h,c;return r}}class sd{constructor(e,s,i,n){this.La=[],this.Yi=e,this.Ia=s,this.Oa=i,this.Na=n}za(e,s){if(e<s)throw new Error("high < low");const i=this.Yi.$t(),n=(e-s)*this.Fa()/i,r=new Al(this.Ia,[2,2.5,2]),o=new Al(this.Ia,[2,2,2.5]),l=new Al(this.Ia,[2.5,2,2]),a=[];return a.push(r.za(e,s,n),o.za(e,s,n),l.za(e,s,n)),function(h){if(h.length<1)throw Error("array is empty");let c=h[0];for(let d=1;d<h.length;++d)h[d]<c&&(c=h[d]);return c}(a)}Wa(){const e=this.Yi,s=e.zt();if(s===null)return void(this.La=[]);const i=e.$t(),n=this.Oa(i-1,s),r=this.Oa(0,s),o=this.Yi.N().entireTextOnly?this.Ha()/2:0,l=o,a=i-1-o,h=Math.max(n,r),c=Math.min(n,r);if(h===c)return void(this.La=[]);const d=this.za(h,c);if(this.Ua(s,d,h,c,l,a),e.$a()&&this.qa(d,c,h)){const g=this.Yi.Ya();this.ja(s,d,l,a,g,2*g)}const f=this.La.map(g=>g.Ka),p=this.Yi.Xa(f);for(let g=0;g<this.La.length;g++)this.La[g].Za=p[g]}Da(){return this.La}Ha(){return this.Yi.P()}Fa(){return Math.ceil(2.5*this.Ha())}Ua(e,s,i,n,r,o){const l=this.La,a=this.Yi;let h=i%s;h+=h<0?s:0;const c=i>=n?1:-1;let d=null,f=0;for(let p=i-h;p>n;p-=s){const g=this.Na(p,e,!0);d!==null&&Math.abs(g-d)<this.Fa()||g<r||g>o||(f<l.length?(l[f].Pa=g,l[f].Za=a.Ga(p),l[f].Ka=p):l.push({Pa:g,Za:a.Ga(p),Ka:p}),f++,d=g,a.Ja()&&(s=this.za(p*c,n)))}l.length=f}ja(e,s,i,n,r,o){const l=this.La,a=this.Qa(e,i,r,o),h=this.Qa(e,n,-o,-r),c=this.Na(0,e,!0)-this.Na(s,e,!0);l.length>0&&l[0].Pa-a.Pa<c/2&&l.shift(),l.length>0&&h.Pa-l[l.length-1].Pa<c/2&&l.pop(),l.unshift(a),l.push(h)}Qa(e,s,i,n){const r=(i+n)/2,o=this.Oa(s+i,e),l=this.Oa(s+n,e),a=Math.min(o,l),h=Math.max(o,l),c=Math.max(.1,this.za(h,a)),d=this.Oa(s+r,e),f=d-d%c,p=this.Na(f,e,!0);return{Za:this.Yi.Ga(f),Pa:p,Ka:f}}qa(e,s,i){let n=Zt(this.Yi.Qe());return this.Yi.Ja()&&(n=hi(n,this.Yi.tl())),n.$e()-s<e&&i-n.qe()<e}}function Jm(t){return t.slice().sort((e,s)=>E(e.hs())-E(s.hs()))}var id;(function(t){t[t.Normal=0]="Normal",t[t.Logarithmic=1]="Logarithmic",t[t.Percentage=2]="Percentage",t[t.IndexedTo100=3]="IndexedTo100"})(id||(id={}));const nd=new Bm,rd=new Ho(100,1);class e1{constructor(e,s,i,n,r){this.il=0,this.sl=null,this.Ge=null,this.nl=null,this.el={rl:!1,hl:null},this.al=!1,this.ll=0,this.ol=0,this._l=new ne,this.ul=new ne,this.cl=[],this.dl=null,this.fl=null,this.pl=null,this.vl=null,this.ml=null,this.ra=rd,this.wl=$l(null),this.gl=e,this.Ps=s,this.Ml=i,this.bl=n,this.Sl=r,this.xl=new sd(this,100,this.Cl.bind(this),this.Pl.bind(this))}ma(){return this.gl}N(){return this.Ps}hr(e){if(De(this.Ps,e),this.wa(),e.mode!==void 0&&this.yl({ie:e.mode}),e.scaleMargins!==void 0){const s=$e(e.scaleMargins.top),i=$e(e.scaleMargins.bottom);if(s<0||s>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${s}`);if(i<0||i>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${i}`);if(s+i>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${s+i}`);this.kl(),this.pl=null}}Tl(){return this.Ps.autoScale}Rl(){return this.al}Ja(){return this.Ps.mode===1}Le(){return this.Ps.mode===2}Dl(){return this.Ps.mode===3}tl(){return this.wl}ie(){return{sn:this.Ps.autoScale,Vl:this.Ps.invertScale,ie:this.Ps.mode}}yl(e){const s=this.ie();let i=null;e.sn!==void 0&&(this.Ps.autoScale=e.sn),e.ie!==void 0&&(this.Ps.mode=e.ie,e.ie!==2&&e.ie!==3||(this.Ps.autoScale=!0),this.el.rl=!1),s.ie===1&&e.ie!==s.ie&&(function(r,o){if(r===null)return!1;const l=mn(r.$e(),o),a=mn(r.qe(),o);return isFinite(l)&&isFinite(a)}(this.Ge,this.wl)?(i=hi(this.Ge,this.wl),i!==null&&this.Bl(i)):this.Ps.autoScale=!0),e.ie===1&&e.ie!==s.ie&&(i=Gi(this.Ge,this.wl),i!==null&&this.Bl(i));const n=s.ie!==this.Ps.mode;n&&(s.ie===2||this.Le())&&this.wa(),n&&(s.ie===3||this.Dl())&&this.wa(),e.Vl!==void 0&&s.Vl!==e.Vl&&(this.Ps.invertScale=e.Vl,this.Il()),this.ul.p(s,this.ie())}El(){return this.ul}P(){return this.Ml.fontSize}$t(){return this.il}Al(e){this.il!==e&&(this.il=e,this.kl(),this.pl=null)}zl(){if(this.sl)return this.sl;const e=this.$t()-this.Ll()-this.Ol();return this.sl=e,e}Qe(){return this.Nl(),this.Ge}Bl(e,s){const i=this.Ge;(s||i===null&&e!==null||i!==null&&!i.He(e))&&(this.pl=null,this.Ge=e)}Fl(e){this.Bl(e),this.Wl(e!==null)}Ki(){return this.Nl(),this.il===0||!this.Ge||this.Ge.Ki()}Hl(e){return this.Vl()?e:this.$t()-1-e}Nt(e,s){return this.Le()?e=ui(e,s):this.Dl()&&(e=pn(e,s)),this.Pl(e,s)}Ul(e,s,i){this.Nl();const n=this.Ol(),r=E(this.Qe()),o=r.$e(),l=r.qe(),a=this.zl()-1,h=this.Vl(),c=a/(l-o),d=i===void 0?0:i.from,f=i===void 0?e.length:i.to,p=this.$l();for(let g=d;g<f;g++){const x=e[g],w=x.gt;if(isNaN(w))continue;let v=w;p!==null&&(v=p(x.gt,s));const y=n+c*(v-o),m=h?y:this.il-1-y;x.ut=m}}ql(e,s,i){this.Nl();const n=this.Ol(),r=E(this.Qe()),o=r.$e(),l=r.qe(),a=this.zl()-1,h=this.Vl(),c=a/(l-o),d=i===void 0?0:i.from,f=i===void 0?e.length:i.to,p=this.$l();for(let g=d;g<f;g++){const x=e[g];let w=x.qh,v=x.Yh,y=x.jh,m=x.Kh;p!==null&&(w=p(x.qh,s),v=p(x.Yh,s),y=p(x.jh,s),m=p(x.Kh,s));let b=n+c*(w-o),S=h?b:this.il-1-b;x.Yl=S,b=n+c*(v-o),S=h?b:this.il-1-b,x.jl=S,b=n+c*(y-o),S=h?b:this.il-1-b,x.Kl=S,b=n+c*(m-o),S=h?b:this.il-1-b,x.Xl=S}}Ts(e,s){const i=this.Cl(e,s);return this.Zl(i,s)}Zl(e,s){let i=e;return this.Le()?i=function(n,r){return r<0&&(n=-n),n/100*r+r}(i,s):this.Dl()&&(i=function(n,r){return n-=100,r<0&&(n=-n),n/100*r+r}(i,s)),i}Ma(){return this.cl}Dt(){return this.fl||(this.fl=Jm(this.cl)),this.fl}Gl(e){this.cl.indexOf(e)===-1&&(this.cl.push(e),this.wa(),this.Jl())}Ql(e){const s=this.cl.indexOf(e);if(s===-1)throw new Error("source is not attached to scale");this.cl.splice(s,1),this.cl.length===0&&(this.yl({sn:!0}),this.Bl(null)),this.wa(),this.Jl()}zt(){let e=null;for(const s of this.cl){const i=s.zt();i!==null&&(e===null||i.Hh<e.Hh)&&(e=i)}return e===null?null:e.Wt}Vl(){return this.Ps.invertScale}Da(){const e=this.zt()===null;if(this.pl!==null&&(e||this.pl.io===e))return this.pl.Da;this.xl.Wa();const s=this.xl.Da();return this.pl={Da:s,io:e},this._l.p(),s}so(){return this._l}no(e){this.Le()||this.Dl()||this.vl===null&&this.nl===null&&(this.Ki()||(this.vl=this.il-e,this.nl=E(this.Qe()).Ue()))}eo(e){if(this.Le()||this.Dl()||this.vl===null)return;this.yl({sn:!1}),(e=this.il-e)<0&&(e=0);let s=(this.vl+.2*(this.il-1))/(e+.2*(this.il-1));const i=E(this.nl).Ue();s=Math.max(s,.1),i.je(s),this.Bl(i)}ro(){this.Le()||this.Dl()||(this.vl=null,this.nl=null)}ho(e){this.Tl()||this.ml===null&&this.nl===null&&(this.Ki()||(this.ml=e,this.nl=E(this.Qe()).Ue()))}ao(e){if(this.Tl()||this.ml===null)return;const s=E(this.Qe()).Ye()/(this.zl()-1);let i=e-this.ml;this.Vl()&&(i*=-1);const n=i*s,r=E(this.nl).Ue();r.Ke(n),this.Bl(r,!0),this.pl=null}lo(){this.Tl()||this.ml!==null&&(this.ml=null,this.nl=null)}ea(){return this.ra||this.wa(),this.ra}Zi(e,s){switch(this.Ps.mode){case 2:return this.oo(ui(e,s));case 3:return this.ea().format(pn(e,s));default:return this.nr(e)}}Ga(e){switch(this.Ps.mode){case 2:return this.oo(e);case 3:return this.ea().format(e);default:return this.nr(e)}}Xa(e){switch(this.Ps.mode){case 2:return this._o(e);case 3:return this.ea().formatTickmarks(e);default:return this.uo(e)}}Dh(e){return this.nr(e,E(this.dl).ea())}Vh(e,s){return e=ui(e,s),this.oo(e,nd)}co(){return this.cl}do(e){this.el={hl:e,rl:!1}}Ns(){this.cl.forEach(e=>e.Ns())}$a(){return this.Ps.ensureEdgeTickMarksVisible&&this.Tl()}Ya(){return this.P()/2}wa(){this.pl=null;let e=1/0;this.dl=null;for(const i of this.cl)i.hs()<e&&(e=i.hs(),this.dl=i);let s=100;this.dl!==null&&(s=Math.round(this.dl.nh())),this.ra=rd,this.Le()?(this.ra=nd,s=100):this.Dl()?(this.ra=new Ho(100,1),s=100):this.dl!==null&&(this.ra=this.dl.ea()),this.xl=new sd(this,s,this.Cl.bind(this),this.Pl.bind(this)),this.xl.Wa()}Jl(){this.fl=null}fo(){return this.dl===null||this.Le()||this.Dl()?1:1/this.dl.nh()}Xi(){return this.Sl}Wl(e){this.al=e}Ll(){return this.Vl()?this.Ps.scaleMargins.bottom*this.$t()+this.ol:this.Ps.scaleMargins.top*this.$t()+this.ll}Ol(){return this.Vl()?this.Ps.scaleMargins.top*this.$t()+this.ll:this.Ps.scaleMargins.bottom*this.$t()+this.ol}Nl(){this.el.rl||(this.el.rl=!0,this.po())}kl(){this.sl=null}Pl(e,s){if(this.Nl(),this.Ki())return 0;e=this.Ja()&&e?bo(e,this.wl):e;const i=E(this.Qe()),n=this.Ol()+(this.zl()-1)*(e-i.$e())/i.Ye();return this.Hl(n)}Cl(e,s){if(this.Nl(),this.Ki())return 0;const i=this.Hl(e),n=E(this.Qe()),r=n.$e()+n.Ye()*((i-this.Ol())/(this.zl()-1));return this.Ja()?mn(r,this.wl):r}Il(){this.pl=null,this.xl.Wa()}po(){if(this.Rl()&&!this.Tl())return;const e=this.el.hl;if(e===null)return;let s=null;const i=this.co();let n=0,r=0;for(const a of i){if(!a.Vt())continue;const h=a.zt();if(h===null)continue;const c=a.Mh(e.Uh(),e.bi());let d=c&&c.Qe();if(d!==null){switch(this.Ps.mode){case 1:d=Gi(d,this.wl);break;case 2:d=Zw(d,h.Wt);break;case 3:d=Xw(d,h.Wt)}if(s=s===null?d:s.vn(E(d)),c!==null){const f=c.tr();f!==null&&(n=Math.max(n,f.above),r=Math.max(r,f.below))}}}if(this.$a()&&(n=Math.max(n,this.Ya()),r=Math.max(r,this.Ya())),n===this.ll&&r===this.ol||(this.ll=n,this.ol=r,this.pl=null,this.kl()),s!==null){if(s.$e()===s.qe()){const a=5*this.fo();this.Ja()&&(s=hi(s,this.wl)),s=new Ee(s.$e()-a,s.qe()+a),this.Ja()&&(s=Gi(s,this.wl))}if(this.Ja()){const a=hi(s,this.wl),h=$l(a);if(o=h,l=this.wl,o.Va!==l.Va||o.Ba!==l.Ba){const c=this.nl!==null?hi(this.nl,this.wl):null;this.wl=h,s=Gi(a,h),c!==null&&(this.nl=Gi(c,h))}}this.Bl(s)}else this.Ge===null&&(this.Bl(new Ee(-.5,.5)),this.wl=$l(null));var o,l}$l(){return this.Le()?ui:this.Dl()?pn:this.Ja()?e=>bo(e,this.wl):null}vo(e,s,i){return s===void 0?(i===void 0&&(i=this.ea()),i.format(e)):s(e)}mo(e,s,i){return s===void 0?(i===void 0&&(i=this.ea()),i.formatTickmarks(e)):s(e)}nr(e,s){return this.vo(e,this.bl.priceFormatter,s)}uo(e,s){const i=this.bl.priceFormatter;return this.mo(e,this.bl.tickmarksPriceFormatter??(i?n=>n.map(i):void 0),s)}oo(e,s){return this.vo(e,this.bl.percentageFormatter,s)}_o(e,s){const i=this.bl.percentageFormatter;return this.mo(e,this.bl.tickmarksPercentageFormatter??(i?n=>n.map(i):void 0),s)}}function od(t){return t instanceof Yo}class ld{constructor(e,s){this.cl=[],this.wo=new Map,this.il=0,this.Mo=0,this.bo=1,this.fl=null,this.So=!1,this.xo=new ne,this.yh=[],this.uh=e,this.ts=s,this.Co=new Kw(this);const i=s.N();this.Po=this.yo("left",i.leftPriceScale),this.ko=this.yo("right",i.rightPriceScale),this.Po.El().i(this.To.bind(this,this.Po),this),this.ko.El().i(this.To.bind(this,this.ko),this),this.Ro(i)}Ro(e){if(e.leftPriceScale&&this.Po.hr(e.leftPriceScale),e.rightPriceScale&&this.ko.hr(e.rightPriceScale),e.localization&&(this.Po.wa(),this.ko.wa()),e.overlayPriceScales){const s=Array.from(this.wo.values());for(const i of s){const n=E(i[0].Ft());n.hr(e.overlayPriceScales),e.localization&&n.wa()}}}Do(e){switch(e){case"left":return this.Po;case"right":return this.ko}return this.wo.has(e)?$e(this.wo.get(e))[0].Ft():null}m(){this.Qt().Vo().u(this),this.Po.El().u(this),this.ko.El().u(this),this.cl.forEach(e=>{e.m&&e.m()}),this.yh=this.yh.filter(e=>{const s=e.oh();return s.detached&&s.detached(),!1}),this.xo.p()}Bo(){return this.bo}Io(e){this.bo=e}Qt(){return this.ts}Qi(){return this.Mo}$t(){return this.il}Eo(e){this.Mo=e,this.Ao()}Al(e){this.il=e,this.Po.Al(e),this.ko.Al(e),this.cl.forEach(s=>{if(this.Un(s)){const i=s.Ft();i!==null&&i.Al(e)}}),this.Ao()}zo(e){this.So=e}Lo(){return this.So}Oo(){return this.cl.filter(od)}Ma(){return this.cl}Un(e){const s=e.Ft();return s===null||this.Po!==s&&this.ko!==s}Gl(e,s,i){this.No(e,s,i?e.hs():this.cl.length)}Ql(e,s){const i=this.cl.indexOf(e);ge(i!==-1,"removeDataSource: invalid data source"),this.cl.splice(i,1),s||this.cl.forEach((o,l)=>o.ls(l));const n=E(e.Ft()).ma();if(this.wo.has(n)){const o=$e(this.wo.get(n)),l=o.indexOf(e);l!==-1&&(o.splice(l,1),o.length===0&&this.wo.delete(n))}const r=e.Ft();r&&r.Ma().indexOf(e)>=0&&(r.Ql(e),this.Fo(r)),this.fl=null}qn(e){return e===this.Po?"left":e===this.ko?"right":"overlay"}Wo(){return this.Po}Ho(){return this.ko}Uo(e,s){e.no(s)}$o(e,s){e.eo(s),this.Ao()}qo(e){e.ro()}Yo(e,s){e.ho(s)}jo(e,s){e.ao(s),this.Ao()}Ko(e){e.lo()}Ao(){this.cl.forEach(e=>{e.Ns()})}ks(){let e=null;return this.ts.N().rightPriceScale.visible&&this.ko.Ma().length!==0?e=this.ko:this.ts.N().leftPriceScale.visible&&this.Po.Ma().length!==0?e=this.Po:this.cl.length!==0&&(e=this.cl[0].Ft()),e===null&&(e=this.ko),e}$n(){let e=null;return this.ts.N().rightPriceScale.visible?e=this.ko:this.ts.N().leftPriceScale.visible&&(e=this.Po),e}Fo(e){e!==null&&e.Tl()&&this.Xo(e)}Zo(e){const s=this.uh.Pe();e.yl({sn:!0}),s!==null&&e.do(s),this.Ao()}Go(){this.Xo(this.Po),this.Xo(this.ko)}Jo(){this.Fo(this.Po),this.Fo(this.ko),this.cl.forEach(e=>{this.Un(e)&&this.Fo(e.Ft())}),this.Ao(),this.ts.ar()}Dt(){return this.fl===null&&(this.fl=Jm(this.cl)),this.fl}Qo(e,s){s=fn(s,0,this.cl.length-1);const i=this.cl.indexOf(e);ge(i!==-1,"setSeriesOrder: invalid data source"),this.cl.splice(i,1),this.cl.splice(s,0,e),this.cl.forEach((n,r)=>n.ls(r)),this.fl=null;for(const n of[this.Po,this.ko])n.Jl(),n.wa();this.ts.ar()}Bt(){return this.Dt().filter(od)}t_(){return this.xo}i_(){return this.Co}_a(e){this.yh.push(new zw(e))}ua(e){this.yh=this.yh.filter(s=>s.oh()!==e),e.detached&&e.detached(),this.ts.ar()}s_(){return this.yh}sa(e,s){return this.yh.map(i=>i.jn(e,s)).filter(i=>i!==null)}Xo(e){const s=e.co();if(s&&s.length>0&&!this.uh.Ki()){const i=this.uh.Pe();i!==null&&e.do(i)}e.Ns()}No(e,s,i){let n=this.Do(s);if(n===null&&(n=this.yo(s,this.ts.N().overlayPriceScales)),this.cl.splice(i,0,e),!qo(s)){const r=this.wo.get(s)||[];r.push(e),this.wo.set(s,r)}e.ls(i),n.Gl(e),e._s(n),this.Fo(n),this.fl=null}To(e,s,i){s.ie!==i.ie&&this.Xo(e)}yo(e,s){const i={visible:!0,autoScale:!0,...Ct(s)},n=new e1(e,i,this.ts.N().layout,this.ts.N().localization,this.ts.Xi());return n.Al(this.$t()),n}}function xr(t){return{n_:t.n_,e_:{Kn:t.r_.externalId},h_:t.r_.cursorStyle}}function t1(t,e,s,i){for(const n of t){const r=n.Tt(i);if(r!==null&&r.jn){const o=r.jn(e,s);if(o!==null)return{a_:n,e_:o}}}return null}function s1(t){return t.Fs!==void 0}function Gm(t,e,s){const i=[t,...t.Dt()],n=function(r,o,l){var f;let a,h;for(const p of r){const g=((f=p.sa)==null?void 0:f.call(p,o,l))??[];for(const x of g)c=x.zOrder,d=a==null?void 0:a.zOrder,(!d||c==="top"&&d!=="top"||c==="normal"&&d==="bottom")&&(a=x,h=p)}var c,d;return a&&h?{r_:a,n_:h}:null}(i,e,s);if((n==null?void 0:n.r_.zOrder)==="top")return xr(n);for(const r of i){if(n&&n.n_===r&&n.r_.zOrder!=="bottom"&&!n.r_.isBackground)return xr(n);if(s1(r)){const o=t1(r.Fs(t),e,s,t);if(o!==null)return{n_:r,a_:o.a_,e_:o.e_}}if(n&&n.n_===r&&n.r_.zOrder!=="bottom"&&n.r_.isBackground)return xr(n)}return n!=null&&n.r_?xr(n):null}class i1{constructor(e,s,i=50){this.yn=0,this.kn=1,this.Tn=1,this.Dn=new Map,this.Rn=new Map,this.l_=e,this.o_=s,this.Vn=i}__(e){const s=e.time,i=this.o_.cacheKey(s),n=this.Dn.get(i);if(n!==void 0)return n.u_;if(this.yn===this.Vn){const o=this.Rn.get(this.Tn);this.Rn.delete(this.Tn),this.Dn.delete($e(o)),this.Tn++,this.yn--}const r=this.l_(e);return this.Dn.set(i,{u_:r,An:this.kn}),this.Rn.set(this.kn,i),this.yn++,this.kn++,r}}class gn{constructor(e,s){ge(e<=s,"right should be >= left"),this.c_=e,this.d_=s}Uh(){return this.c_}bi(){return this.d_}f_(){return this.d_-this.c_+1}Te(e){return this.c_<=e&&e<=this.d_}He(e){return this.c_===e.Uh()&&this.d_===e.bi()}}function ad(t,e){return t===null||e===null?t===e:t.He(e)}class n1{constructor(){this.p_=new Map,this.Dn=null,this.v_=!1}m_(e){this.v_=e,this.Dn=null}w_(e,s){this.g_(s),this.Dn=null;for(let i=s;i<e.length;++i){const n=e[i];let r=this.p_.get(n.timeWeight);r===void 0&&(r=[],this.p_.set(n.timeWeight,r)),r.push({index:i,time:n.time,weight:n.timeWeight,originalTime:n.originalTime})}}M_(e,s,i,n,r){const o=Math.ceil(s/e);return this.Dn!==null&&this.Dn.b_===o&&r===this.Dn.S_&&i===this.Dn.x_||(this.Dn={S_:r,x_:i,Da:this.C_(o,i,n),b_:o}),this.Dn.Da}g_(e){if(e===0)return void this.p_.clear();const s=[];this.p_.forEach((i,n)=>{e<=i[0].index?s.push(n):i.splice(Ei(i,e,r=>r.index<e),1/0)});for(const i of s)this.p_.delete(i)}C_(e,s,i){let n=[];const r=o=>!s||i.has(o.index);for(const o of Array.from(this.p_.keys()).sort((l,a)=>a-l)){if(!this.p_.get(o))continue;const l=n;n=[];const a=l.length;let h=0;const c=$e(this.p_.get(o)),d=c.length;let f=1/0,p=-1/0;for(let g=0;g<d;g++){const x=c[g],w=x.index;for(;h<a;){const v=l[h],y=v.index;if(!(y<w&&r(v))){f=y;break}h++,n.push(v),p=y,f=1/0}if(f-w>=e&&w-p>=e&&r(x))n.push(x),p=w;else if(this.v_)return l}for(;h<a;h++)r(l[h])&&n.push(l[h])}return n}}class vi{constructor(e){this.P_=e}y_(){return this.P_===null?null:new gn(Math.floor(this.P_.Uh()),Math.ceil(this.P_.bi()))}k_(){return this.P_}static T_(){return new vi(null)}}function r1(t,e){return t.weight>e.weight?t:e}class o1{constructor(e,s,i,n){this.Mo=0,this.R_=null,this.D_=[],this.ml=null,this.vl=null,this.V_=new n1,this.B_=new Map,this.I_=vi.T_(),this.E_=!0,this.A_=new ne,this.z_=new ne,this.L_=new ne,this.O_=null,this.N_=null,this.F_=new Map,this.W_=-1,this.H_=[],this.Ps=s,this.bl=i,this.U_=s.rightOffset,this.q_=s.barSpacing,this.ts=e,this.Y_(s),this.o_=n,this.j_(),this.V_.m_(s.uniformDistribution),this.K_()}N(){return this.Ps}X_(e){De(this.bl,e),this.Z_(),this.j_()}hr(e,s){De(this.Ps,e),this.Ps.fixLeftEdge&&this.G_(),this.Ps.fixRightEdge&&this.J_(),e.barSpacing!==void 0&&this.ts.dn(e.barSpacing),e.rightOffset!==void 0&&this.ts.fn(e.rightOffset),this.Y_(e),e.minBarSpacing===void 0&&e.maxBarSpacing===void 0||this.ts.dn(e.barSpacing??this.q_),e.ignoreWhitespaceIndices!==void 0&&e.ignoreWhitespaceIndices!==this.Ps.ignoreWhitespaceIndices&&this.K_(),this.Z_(),this.j_(),this.L_.p()}Rs(e){var s;return((s=this.D_[e])==null?void 0:s.time)??null}ss(e){return this.D_[e]??null}Q_(e,s){if(this.D_.length<1)return null;if(this.o_.key(e)>this.o_.key(this.D_[this.D_.length-1].time))return s?this.D_.length-1:null;const i=Ei(this.D_,this.o_.key(e),(n,r)=>this.o_.key(n.time)<r);return this.o_.key(e)<this.o_.key(this.D_[i].time)?s?i:null:i}Ki(){return this.Mo===0||this.D_.length===0||this.R_===null}tu(){return this.D_.length>0}Pe(){return this.iu(),this.I_.y_()}su(){return this.iu(),this.I_.k_()}nu(){const e=this.Pe();if(e===null)return null;const s={from:e.Uh(),to:e.bi()};return this.eu(s)}eu(e){const s=Math.round(e.from),i=Math.round(e.to),n=E(this.ru()),r=E(this.hu());return{from:E(this.ss(Math.max(n,s))),to:E(this.ss(Math.min(r,i)))}}au(e){return{from:E(this.Q_(e.from,!0)),to:E(this.Q_(e.to,!0))}}Qi(){return this.Mo}Eo(e){if(!isFinite(e)||e<=0||this.Mo===e)return;const s=this.su(),i=this.Mo;if(this.Mo=e,this.E_=!0,this.Ps.lockVisibleTimeRangeOnResize&&i!==0){const n=this.q_*e/i;this.q_=n}if(this.Ps.fixLeftEdge&&s!==null&&s.Uh()<=0){const n=i-e;this.U_-=Math.round(n/this.q_)+1,this.E_=!0}this.lu(),this.ou()}qt(e){if(this.Ki()||!Fn(e))return 0;const s=this._u()+this.U_-e;return this.Mo-(s+.5)*this.q_-1}uu(e,s){const i=this._u(),n=s===void 0?0:s.from,r=s===void 0?e.length:s.to;for(let o=n;o<r;o++){const l=e[o].wt,a=i+this.U_-l,h=this.Mo-(a+.5)*this.q_-1;e[o]._t=h}}cu(e,s){const i=Math.ceil(this.du(e));return s&&this.Ps.ignoreWhitespaceIndices&&!this.fu(i)?this.pu(i):i}fn(e){this.E_=!0,this.U_=e,this.ou(),this.ts.vu(),this.ts.ar()}mu(){return this.q_}dn(e){const s=this.q_;if(this.wu(e),this.Ps.rightOffsetPixels!==void 0&&s!==0){const i=this.U_*s/this.q_;this.U_=i}this.ou(),this.ts.vu(),this.ts.ar()}gu(){return this.U_}Da(){if(this.Ki())return null;if(this.N_!==null)return this.N_;const e=this.q_,s=5*(this.ts.N().layout.fontSize+4)/8*(this.Ps.tickMarkMaxCharacterLength||8),i=Math.round(s/e),n=E(this.Pe()),r=Math.max(n.Uh(),n.Uh()-i),o=Math.max(n.bi(),n.bi()-i),l=this.V_.M_(e,s,this.Ps.ignoreWhitespaceIndices,this.F_,this.W_),a=this.ru()+i,h=this.hu()-i,c=this.Mu(),d=this.Ps.fixLeftEdge||c,f=this.Ps.fixRightEdge||c;let p=0;for(const g of l){if(!(r<=g.index&&g.index<=o))continue;let x;p<this.H_.length?(x=this.H_[p],x.coord=this.qt(g.index),x.label=this.bu(g),x.weight=g.weight):(x={needAlignCoordinate:!1,coord:this.qt(g.index),label:this.bu(g),weight:g.weight},this.H_.push(x)),this.q_>s/2&&!c?x.needAlignCoordinate=!1:x.needAlignCoordinate=d&&g.index<=a||f&&g.index>=h,p++}return this.H_.length=p,this.N_=this.H_,this.H_}Su(){let e;this.E_=!0,this.dn(this.Ps.barSpacing),e=this.Ps.rightOffsetPixels!==void 0?this.Ps.rightOffsetPixels/this.mu():this.Ps.rightOffset,this.fn(e)}xu(e){this.E_=!0,this.R_=e,this.ou(),this.G_()}Cu(e,s){const i=this.du(e),n=this.mu(),r=n+s*(n/10);this.dn(r),this.Ps.rightBarStaysOnScroll||this.fn(this.gu()+(i-this.du(e)))}no(e){this.ml&&this.lo(),this.vl===null&&this.O_===null&&(this.Ki()||(this.vl=e,this.Pu()))}eo(e){if(this.O_===null)return;const s=fn(this.Mo-e,0,this.Mo),i=fn(this.Mo-E(this.vl),0,this.Mo);s!==0&&i!==0&&this.dn(this.O_.mu*s/i)}ro(){this.vl!==null&&(this.vl=null,this.yu())}ho(e){this.ml===null&&this.O_===null&&(this.Ki()||(this.ml=e,this.Pu()))}ao(e){if(this.ml===null)return;const s=(this.ml-e)/this.mu();this.U_=E(this.O_).gu+s,this.E_=!0,this.ou()}lo(){this.ml!==null&&(this.ml=null,this.yu())}ku(){this.Tu(this.Ps.rightOffset)}Tu(e,s=400){if(!isFinite(e))throw new RangeError("offset is required and must be finite number");if(!isFinite(s)||s<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const i=this.U_,n=performance.now();this.ts._n({Ru:r=>(r-n)/s>=1,Du:r=>{const o=(r-n)/s;return o>=1?e:i+(e-i)*o}})}yt(e,s){this.E_=!0,this.D_=e,this.V_.w_(e,s),this.ou()}Vu(){return this.A_}Bu(){return this.z_}Iu(){return this.L_}_u(){return this.R_||0}Eu(e,s){const i=e.f_(),n=s&&this.Ps.rightOffsetPixels||0;this.wu((this.Mo-n)/i),this.U_=e.bi()-this._u(),s&&(this.U_=n?n/this.mu():this.Ps.rightOffset),this.ou(),this.E_=!0,this.ts.vu(),this.ts.ar()}Au(){const e=this.ru(),s=this.hu();e!==null&&s!==null&&this.Eu(new gn(e,s),!0)}zu(e){const s=new gn(e.from,e.to);this.Eu(s)}ns(e){return this.bl.timeFormatter!==void 0?this.bl.timeFormatter(e.originalTime):this.o_.formatHorzItem(e.time)}K_(){if(!this.Ps.ignoreWhitespaceIndices)return;this.F_.clear();const e=this.ts.js();for(const s of e)for(const i of s.va())this.F_.set(i,!0);this.W_++}Mu(){const e=this.ts.N().handleScroll,s=this.ts.N().handleScale;return!(e.horzTouchDrag||e.mouseWheel||e.pressedMouseMove||e.vertTouchDrag||s.axisDoubleClickReset.time||s.axisPressedMouseMove.time||s.mouseWheel||s.pinch)}ru(){return this.D_.length===0?null:0}hu(){return this.D_.length===0?null:this.D_.length-1}Lu(e){return(this.Mo-1-e)/this.q_}du(e){const s=this.Lu(e),i=this._u()+this.U_-s;return Math.round(1e6*i)/1e6}wu(e){const s=this.q_;this.q_=e,this.lu(),s!==this.q_&&(this.E_=!0,this.Ou())}iu(){if(!this.E_)return;if(this.E_=!1,this.Ki())return void this.Nu(vi.T_());const e=this._u(),s=this.Mo/this.q_,i=this.U_+e,n=new gn(i-s+1,i);this.Nu(new vi(n))}lu(){const e=fn(this.q_,this.Fu(),this.Wu());this.q_!==e&&(this.q_=e,this.E_=!0)}Wu(){return this.Ps.maxBarSpacing>0?this.Ps.maxBarSpacing:.5*this.Mo}Fu(){return this.Ps.fixLeftEdge&&this.Ps.fixRightEdge&&this.D_.length!==0?this.Mo/this.D_.length:this.Ps.minBarSpacing}ou(){const e=this.Hu();e!==null&&this.U_<e&&(this.U_=e,this.E_=!0);const s=this.Uu();this.U_>s&&(this.U_=s,this.E_=!0)}Hu(){const e=this.ru(),s=this.R_;return e===null||s===null?null:e-s-1+(this.Ps.fixLeftEdge?this.Mo/this.q_:Math.min(2,this.D_.length))}Uu(){return this.Ps.fixRightEdge?0:this.Mo/this.q_-Math.min(2,this.D_.length)}Pu(){this.O_={mu:this.mu(),gu:this.gu()}}yu(){this.O_=null}bu(e){let s=this.B_.get(e.weight);return s===void 0&&(s=new i1(i=>this.$u(i),this.o_),this.B_.set(e.weight,s)),s.__(e)}$u(e){return this.o_.formatTickmark(e,this.bl)}Nu(e){const s=this.I_;this.I_=e,ad(s.y_(),this.I_.y_())||this.A_.p(),ad(s.k_(),this.I_.k_())||this.z_.p(),this.Ou()}Ou(){this.N_=null}Z_(){this.Ou(),this.B_.clear()}j_(){this.o_.updateFormatter(this.bl)}G_(){if(!this.Ps.fixLeftEdge)return;const e=this.ru();if(e===null)return;const s=this.Pe();if(s===null)return;const i=s.Uh()-e;if(i<0){const n=this.U_-i-1;this.fn(n)}this.lu()}J_(){this.ou(),this.lu()}fu(e){return!this.Ps.ignoreWhitespaceIndices||this.F_.get(e)||!1}pu(e){const s=function*(n){const r=Math.round(n),o=r<n;let l=1;for(;;)o?(yield r+l,yield r-l):(yield r-l,yield r+l),l++}(e),i=this.hu();for(;i;){const n=s.next().value;if(this.F_.get(n))return n;if(n<0||n>i)break}return e}Y_(e){if(e.rightOffsetPixels!==void 0){const s=e.rightOffsetPixels/(e.barSpacing||this.q_);this.ts.fn(s)}}}var ud,hd,cd,Xa,dd;(function(t){t[t.OnTouchEnd=0]="OnTouchEnd",t[t.OnNextTap=1]="OnNextTap"})(ud||(ud={}));class l1{constructor(e,s,i){this.qu=[],this.Yu=[],this.Mo=0,this.ju=null,this.Ku=new ne,this.Xu=new ne,this.Zu=null,this.Gu=e,this.Ps=s,this.o_=i,this.Sl=new ow(this.Ps.layout.colorParsers),this.Ju=new rw(this),this.uh=new o1(this,s.timeScale,this.Ps.localization,i),this.Ct=new yw(this,s.crosshair),this.Qu=new Jw(s.crosshair),s.addDefaultPane&&(this.tc(0),this.qu[0].Io(2)),this.sc=this.nc(0),this.ec=this.nc(1)}Ih(){this.rc(me.gn())}ar(){this.rc(me.wn())}Zh(){this.rc(new me(1))}Eh(e){const s=this.hc(e);this.rc(s)}ac(){return this.ju}lc(e){var i,n,r,o;if(((i=this.ju)==null?void 0:i.n_)===(e==null?void 0:e.n_)&&((r=(n=this.ju)==null?void 0:n.e_)==null?void 0:r.Kn)===((o=e==null?void 0:e.e_)==null?void 0:o.Kn))return;const s=this.ju;this.ju=e,s!==null&&this.Eh(s.n_),e!==null&&e.n_!==(s==null?void 0:s.n_)&&this.Eh(e.n_)}N(){return this.Ps}hr(e){De(this.Ps,e),this.qu.forEach(s=>s.Ro(e)),e.timeScale!==void 0&&this.uh.hr(e.timeScale),e.localization!==void 0&&this.uh.X_(e.localization),(e.leftPriceScale||e.rightPriceScale)&&this.Ku.p(),this.sc=this.nc(0),this.ec=this.nc(1),this.Ih()}oc(e,s,i=0){const n=this.qu[i];if(n===void 0)return;if(e==="left")return De(this.Ps,{leftPriceScale:s}),n.Ro({leftPriceScale:s}),this.Ku.p(),void this.Ih();if(e==="right")return De(this.Ps,{rightPriceScale:s}),n.Ro({rightPriceScale:s}),this.Ku.p(),void this.Ih();const r=this._c(e,i);r!==null&&(r.Ft.hr(s),this.Ku.p())}_c(e,s){const i=this.qu[s];if(i===void 0)return null;const n=i.Do(e);return n!==null?{Us:i,Ft:n}:null}Et(){return this.uh}$s(){return this.qu}uc(){return this.Ct}cc(){return this.Xu}dc(e,s){e.Al(s),this.vu()}Eo(e){this.Mo=e,this.uh.Eo(this.Mo),this.qu.forEach(s=>s.Eo(e)),this.vu()}fc(e){this.qu.length!==1&&(ge(e>=0&&e<this.qu.length,"Invalid pane index"),this.qu.splice(e,1),this.Ih())}vc(e,s){if(this.qu.length<2)return;ge(e>=0&&e<this.qu.length,"Invalid pane index");const i=this.qu[e],n=this.qu.reduce((d,f)=>d+f.Bo(),0),r=this.qu.reduce((d,f)=>d+f.$t(),0),o=r-30*(this.qu.length-1);s=Math.min(o,Math.max(30,s));const l=n/r,a=i.$t();i.Io(s*l);let h=s-a,c=this.qu.length-1;for(const d of this.qu)if(d!==i){const f=Math.min(o,Math.max(30,d.$t()-h/c));h-=d.$t()-f,c-=1;const p=f*l;d.Io(p)}this.Ih()}mc(e,s){ge(e>=0&&e<this.qu.length&&s>=0&&s<this.qu.length,"Invalid pane index");const i=this.qu[e],n=this.qu[s];this.qu[e]=n,this.qu[s]=i,this.Ih()}wc(e,s){if(ge(e>=0&&e<this.qu.length&&s>=0&&s<this.qu.length,"Invalid pane index"),e===s)return;const[i]=this.qu.splice(e,1);this.qu.splice(s,0,i),this.Ih()}Uo(e,s,i){e.Uo(s,i)}$o(e,s,i){e.$o(s,i),this.Ah(),this.rc(this.gc(e,2))}qo(e,s){e.qo(s),this.rc(this.gc(e,2))}Yo(e,s,i){s.Tl()||e.Yo(s,i)}jo(e,s,i){s.Tl()||(e.jo(s,i),this.Ah(),this.rc(this.gc(e,2)))}Ko(e,s){s.Tl()||(e.Ko(s),this.rc(this.gc(e,2)))}Zo(e,s){e.Zo(s),this.rc(this.gc(e,2))}Mc(e){this.uh.no(e)}bc(e,s){const i=this.Et();if(i.Ki()||s===0)return;const n=i.Qi();e=Math.max(1,Math.min(e,n)),i.Cu(e,s),this.vu()}Sc(e){this.xc(0),this.Cc(e),this.Pc()}yc(e){this.uh.eo(e),this.vu()}kc(){this.uh.ro(),this.ar()}xc(e){this.uh.ho(e)}Cc(e){this.uh.ao(e),this.vu()}Pc(){this.uh.lo(),this.ar()}js(){return this.Yu}Tc(e,s,i,n,r){this.Ct.Vs(e,s);let o=NaN,l=this.uh.cu(e,!0);const a=this.uh.Pe();a!==null&&(l=Math.min(Math.max(a.Uh(),l),a.bi()));const h=n.ks(),c=h.zt();if(c!==null&&(o=h.Ts(s,c)),o=this.Qu.ga(o,l,n),this.Ct.As(l,o,n),this.Zh(),!r){const d=Gm(n,e,s);this.lc(d&&{n_:d.n_,e_:d.e_,h_:d.h_||null}),this.Xu.p(this.Ct.It(),{x:e,y:s},i)}}Rc(e,s,i){const n=i.ks(),r=n.zt(),o=n.Nt(e,E(r)),l=this.uh.Q_(s,!0),a=this.uh.qt(E(l));this.Tc(a,o,null,i,!0)}Dc(e){this.uc().Ls(),this.Zh(),e||this.Xu.p(null,null,null)}Ah(){const e=this.Ct.Us();if(e!==null){const s=this.Ct.Is(),i=this.Ct.Es();this.Tc(s,i,null,e)}this.Ct.Ns()}Vc(e,s,i){const n=this.uh.Rs(0);s!==void 0&&i!==void 0&&this.uh.yt(s,i);const r=this.uh.Rs(0),o=this.uh._u(),l=this.uh.Pe();if(l!==null&&n!==null&&r!==null){const a=l.Te(o),h=this.o_.key(n)>this.o_.key(r),c=e!==null&&e>o&&!h,d=this.uh.N().allowShiftVisibleRangeOnWhitespaceReplacement,f=a&&(i!==void 0||d)&&this.uh.N().shiftVisibleRangeOnNewBar;if(c&&!f){const p=e-o;this.uh.fn(this.uh.gu()-p)}}this.uh.xu(e)}Lh(e){e!==null&&e.Jo()}Hn(e){if(function(i){return i instanceof ld}(e))return e;const s=this.qu.find(i=>i.Dt().includes(e));return s===void 0?null:s}vu(){this.qu.forEach(e=>e.Jo()),this.Ah()}m(){this.qu.forEach(e=>e.m()),this.qu.length=0,this.Ps.localization.priceFormatter=void 0,this.Ps.localization.percentageFormatter=void 0,this.Ps.localization.timeFormatter=void 0}Bc(){return this.Ju}Yn(){return this.Ju.N()}Vo(){return this.Ku}Ic(e,s){const i=this.tc(s);this.Ec(e,i),this.Yu.push(e),this.Yu.length===1?this.Ih():this.ar()}Ac(e){const s=this.Hn(e),i=this.Yu.indexOf(e);ge(i!==-1,"Series not found");const n=E(s);this.Yu.splice(i,1),n.Ql(e),e.m&&e.m(),this.uh.K_(),this.zc(n)}Bh(e,s){const i=E(this.Hn(e));i.Ql(e,!0),i.Gl(e,s,!0)}Au(){const e=me.wn();e.rn(),this.rc(e)}Lc(e){const s=me.wn();s.ln(e),this.rc(s)}cn(){const e=me.wn();e.cn(),this.rc(e)}dn(e){const s=me.wn();s.dn(e),this.rc(s)}fn(e){const s=me.wn();s.fn(e),this.rc(s)}_n(e){const s=me.wn();s._n(e),this.rc(s)}hn(){const e=me.wn();e.hn(),this.rc(e)}Oc(){return this.Ps.rightPriceScale.visible?"right":"left"}Nc(e,s){if(ge(s>=0,"Index should be greater or equal to 0"),s===this.Fc(e))return;const i=E(this.Hn(e));i.Ql(e);const n=this.tc(s);this.Ec(e,n),i.Ma().length===0&&this.zc(i),this.Ih()}Wc(){return this.ec}$(){return this.sc}Ut(e){const s=this.ec,i=this.sc;if(s===i)return s;if(e=Math.max(0,Math.min(100,Math.round(100*e))),this.Zu===null||this.Zu.mr!==i||this.Zu.wr!==s)this.Zu={mr:i,wr:s,Hc:new Map};else{const r=this.Zu.Hc.get(e);if(r!==void 0)return r}const n=this.Sl.tt(i,s,e/100);return this.Zu.Hc.set(e,n),n}Uc(e){return this.qu.indexOf(e)}Xi(){return this.Sl}$c(){return this.qc()}qc(e){const s=new ld(this.uh,this);this.qu.push(s);const i=e??this.qu.length-1,n=me.gn();return n.Qs(i,{tn:0,sn:!0}),this.rc(n),s}tc(e){return ge(e>=0,"Index should be greater or equal to 0"),(e=Math.min(this.qu.length,e))<this.qu.length?this.qu[e]:this.qc(e)}Fc(e){return this.qu.findIndex(s=>s.Oo().includes(e))}gc(e,s){const i=new me(s);if(e!==null){const n=this.qu.indexOf(e);i.Qs(n,{tn:s})}return i}hc(e,s){return s===void 0&&(s=2),this.gc(this.Hn(e),s)}rc(e){this.Gu&&this.Gu(e),this.qu.forEach(s=>s.i_().lr().yt())}Ec(e,s){const i=e.N().priceScaleId,n=i!==void 0?i:this.Oc();s.Gl(e,n),qo(n)||e.hr(e.N())}nc(e){const s=this.Ps.layout;return s.background.type==="gradient"?e===0?s.background.topColor:s.background.bottomColor:s.background.color}zc(e){!e.Lo()&&e.Ma().length===0&&this.qu.length>1&&this.qu.splice(this.Uc(e),1)}}function Qm(t){if(t>=1)return 0;let e=0;for(;e<8;e++){const s=Math.round(t);if(Math.abs(s-t)<1e-8)return e;t*=10}return e}function eu(t){return!Ni(t)&&!Jn(t)}function Km(t){return Ni(t)}(function(t){t[t.Disabled=0]="Disabled",t[t.Continuous=1]="Continuous",t[t.OnDataUpdate=2]="OnDataUpdate"})(hd||(hd={})),function(t){t[t.LastBar=0]="LastBar",t[t.LastVisible=1]="LastVisible"}(cd||(cd={})),function(t){t.Solid="solid",t.VerticalGradient="gradient"}(Xa||(Xa={})),function(t){t[t.Year=0]="Year",t[t.Month=1]="Month",t[t.DayOfMonth=2]="DayOfMonth",t[t.Time=3]="Time",t[t.TimeWithSeconds=4]="TimeWithSeconds"}(dd||(dd={}));const fd=t=>t.getUTCFullYear();function a1(t,e,s){return e.replace(/yyyy/g,(i=>Pt(fd(i),4))(t)).replace(/yy/g,(i=>Pt(fd(i)%100,2))(t)).replace(/MMMM/g,((i,n)=>new Date(i.getUTCFullYear(),i.getUTCMonth(),1).toLocaleString(n,{month:"long"}))(t,s)).replace(/MMM/g,((i,n)=>new Date(i.getUTCFullYear(),i.getUTCMonth(),1).toLocaleString(n,{month:"short"}))(t,s)).replace(/MM/g,(i=>Pt((n=>n.getUTCMonth()+1)(i),2))(t)).replace(/dd/g,(i=>Pt((n=>n.getUTCDate())(i),2))(t))}class Zm{constructor(e="yyyy-MM-dd",s="default"){this.Yc=e,this.jc=s}__(e){return a1(e,this.Yc,this.jc)}}class u1{constructor(e){this.Kc=e||"%h:%m:%s"}__(e){return this.Kc.replace("%h",Pt(e.getUTCHours(),2)).replace("%m",Pt(e.getUTCMinutes(),2)).replace("%s",Pt(e.getUTCSeconds(),2))}}const h1={Xc:"yyyy-MM-dd",Zc:"%h:%m:%s",Gc:" ",Jc:"default"};class c1{constructor(e={}){const s={...h1,...e};this.Qc=new Zm(s.Xc,s.Jc),this.td=new u1(s.Zc),this.sd=s.Gc}__(e){return`${this.Qc.__(e)}${this.sd}${this.td.__(e)}`}}function wr(t){return 60*t*60*1e3}function zl(t){return 60*t*1e3}const br=[{nd:(pd=1,1e3*pd),ed:10},{nd:zl(1),ed:20},{nd:zl(5),ed:21},{nd:zl(30),ed:22},{nd:wr(1),ed:30},{nd:wr(3),ed:31},{nd:wr(6),ed:32},{nd:wr(12),ed:33}];var pd;function md(t,e){if(t.getUTCFullYear()!==e.getUTCFullYear())return 70;if(t.getUTCMonth()!==e.getUTCMonth())return 60;if(t.getUTCDate()!==e.getUTCDate())return 50;for(let s=br.length-1;s>=0;--s)if(Math.floor(e.getTime()/br[s].nd)!==Math.floor(t.getTime()/br[s].nd))return br[s].ed;return 0}function Fl(t){let e=t;if(Jn(t)&&(e=yh(t)),!eu(e))throw new Error("time must be of type BusinessDay");const s=new Date(Date.UTC(e.year,e.month-1,e.day,0,0,0,0));return{rd:Math.round(s.getTime()/1e3),hd:e}}function gd(t){if(!Km(t))throw new Error("time must be of type isUTCTimestamp");return{rd:t}}function yh(t){const e=new Date(t);if(isNaN(e.getTime()))throw new Error(`Invalid date string=${t}, expected format=yyyy-mm-dd`);return{day:e.getUTCDate(),month:e.getUTCMonth()+1,year:e.getUTCFullYear()}}function vd(t){Jn(t.time)&&(t.time=yh(t.time))}class yd{options(){return this.Ps}setOptions(e){this.Ps=e,this.updateFormatter(e.localization)}preprocessData(e){Array.isArray(e)?function(s){s.forEach(vd)}(e):vd(e)}createConverterToInternalObj(e){return E(function(s){return s.length===0?null:eu(s[0].time)||Jn(s[0].time)?Fl:gd}(e))}key(e){return typeof e=="object"&&"rd"in e?e.rd:this.key(this.convertHorzItemToInternal(e))}cacheKey(e){const s=e;return s.hd===void 0?new Date(1e3*s.rd).getTime():new Date(Date.UTC(s.hd.year,s.hd.month-1,s.hd.day)).getTime()}convertHorzItemToInternal(e){return Km(s=e)?gd(s):eu(s)?Fl(s):Fl(yh(s));var s}updateFormatter(e){if(!this.Ps)return;const s=e.dateFormat;this.Ps.timeScale.timeVisible?this.ad=new c1({Xc:s,Zc:this.Ps.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",Gc:"   ",Jc:e.locale}):this.ad=new Zm(s,e.locale)}formatHorzItem(e){const s=e;return this.ad.__(new Date(1e3*s.rd))}formatTickmark(e,s){const i=function(r,o,l){switch(r){case 0:case 10:return o?l?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return o?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(e.weight,this.Ps.timeScale.timeVisible,this.Ps.timeScale.secondsVisible),n=this.Ps.timeScale;if(n.tickMarkFormatter!==void 0){const r=n.tickMarkFormatter(e.originalTime,i,s.locale);if(r!==null)return r}return function(r,o,l){const a={};switch(o){case 0:a.year="numeric";break;case 1:a.month="short";break;case 2:a.day="numeric";break;case 3:a.hour12=!1,a.hour="2-digit",a.minute="2-digit";break;case 4:a.hour12=!1,a.hour="2-digit",a.minute="2-digit",a.second="2-digit"}const h=r.hd===void 0?new Date(1e3*r.rd):new Date(Date.UTC(r.hd.year,r.hd.month-1,r.hd.day));return new Date(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate(),h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds(),h.getUTCMilliseconds()).toLocaleString(l,a)}(e.time,i,s.locale)}maxTickMarkWeight(e){let s=e.reduce(r1,e[0]).weight;return s>30&&s<50&&(s=30),s}fillWeightsForPoints(e,s){(function(i,n=0){if(i.length===0)return;let r=n===0?null:i[n-1].time.rd,o=r!==null?new Date(1e3*r):null,l=0;for(let a=n;a<i.length;++a){const h=i[a],c=new Date(1e3*h.time.rd);o!==null&&(h.timeWeight=md(c,o)),l+=h.time.rd-(r||h.time.rd),r=h.time.rd,o=c}if(n===0&&i.length>1){const a=Math.ceil(l/(i.length-1)),h=new Date(1e3*(i[0].time.rd-a));i[0].timeWeight=md(new Date(1e3*i[0].time.rd),h)}})(e,s)}static ld(e){return De({localization:{dateFormat:"dd MMM 'yy"}},e??{})}}const Ci=typeof window<"u";function xd(){return!!Ci&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function Dl(){return!!Ci&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function tu(t){return t+t%2}function d1(t){Ci&&window.chrome!==void 0&&t.addEventListener("mousedown",e=>{if(e.button===1)return e.preventDefault(),!1})}class Jo{constructor(e,s,i){this.od=0,this._d=null,this.ud={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.dd=0,this.fd=null,this.pd={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.vd=null,this.md=!1,this.wd=null,this.gd=null,this.Md=!1,this.bd=!1,this.Sd=!1,this.xd=null,this.Cd=null,this.Pd=null,this.yd=null,this.kd=null,this.Td=null,this.Rd=null,this.Dd=0,this.Vd=!1,this.Bd=!1,this.Id=!1,this.Ed=0,this.Ad=null,this.zd=!Dl(),this.Ld=n=>{this.Od(n)},this.Nd=n=>{if(this.Fd(n)){const r=this.Wd(n);if(++this.dd,this.fd&&this.dd>1){const{Hd:o}=this.Ud(pt(n),this.pd);o<30&&!this.Sd&&this.$d(r,this.Yd.qd),this.jd()}}else{const r=this.Wd(n);if(++this.od,this._d&&this.od>1){const{Hd:o}=this.Ud(pt(n),this.ud);o<5&&!this.bd&&this.Kd(r,this.Yd.Xd),this.Zd()}}},this.Gd=e,this.Yd=s,this.Ps=i,this.Jd()}m(){this.xd!==null&&(this.xd(),this.xd=null),this.Cd!==null&&(this.Cd(),this.Cd=null),this.yd!==null&&(this.yd(),this.yd=null),this.kd!==null&&(this.kd(),this.kd=null),this.Td!==null&&(this.Td(),this.Td=null),this.Pd!==null&&(this.Pd(),this.Pd=null),this.Qd(),this.Zd()}tf(e){this.yd&&this.yd();const s=this.if.bind(this);if(this.yd=()=>{this.Gd.removeEventListener("mousemove",s)},this.Gd.addEventListener("mousemove",s),this.Fd(e))return;const i=this.Wd(e);this.Kd(i,this.Yd.sf),this.zd=!0}Zd(){this._d!==null&&clearTimeout(this._d),this.od=0,this._d=null,this.ud={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}jd(){this.fd!==null&&clearTimeout(this.fd),this.dd=0,this.fd=null,this.pd={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}if(e){if(this.Id||this.gd!==null||this.Fd(e))return;const s=this.Wd(e);this.Kd(s,this.Yd.nf),this.zd=!0}ef(e){const s=Ul(e.changedTouches,E(this.Ad));if(s===null||(this.Ed=_r(e),this.Rd!==null)||this.Bd)return;this.Vd=!0;const i=this.Ud(pt(s),E(this.gd)),{rf:n,hf:r,Hd:o}=i;if(this.Md||!(o<5)){if(!this.Md){const l=.5*n,a=r>=l&&!this.Ps.af(),h=l>r&&!this.Ps.lf();a||h||(this.Bd=!0),this.Md=!0,this.Sd=!0,this.Qd(),this.jd()}if(!this.Bd){const l=this.Wd(e,s);this.$d(l,this.Yd._f),Bs(e)}}}uf(e){if(e.button!==0)return;const s=this.Ud(pt(e),E(this.wd)),{Hd:i}=s;if(i>=5&&(this.bd=!0,this.Zd()),this.bd){const n=this.Wd(e);this.Kd(n,this.Yd.cf)}}Ud(e,s){const i=Math.abs(s._t-e._t),n=Math.abs(s.ut-e.ut);return{rf:i,hf:n,Hd:i+n}}df(e){let s=Ul(e.changedTouches,E(this.Ad));if(s===null&&e.touches.length===0&&(s=e.changedTouches[0]),s===null)return;this.Ad=null,this.Ed=_r(e),this.Qd(),this.gd=null,this.Td&&(this.Td(),this.Td=null);const i=this.Wd(e,s);if(this.$d(i,this.Yd.ff),++this.dd,this.fd&&this.dd>1){const{Hd:n}=this.Ud(pt(s),this.pd);n<30&&!this.Sd&&this.$d(i,this.Yd.qd),this.jd()}else this.Sd||(this.$d(i,this.Yd.pf),this.Yd.pf&&Bs(e));this.dd===0&&Bs(e),e.touches.length===0&&this.md&&(this.md=!1,Bs(e))}Od(e){if(e.button!==0)return;const s=this.Wd(e);if(this.wd=null,this.Id=!1,this.kd&&(this.kd(),this.kd=null),xd()&&this.Gd.ownerDocument.documentElement.removeEventListener("mouseleave",this.Ld),!this.Fd(e))if(this.Kd(s,this.Yd.vf),++this.od,this._d&&this.od>1){const{Hd:i}=this.Ud(pt(e),this.ud);i<5&&!this.bd&&this.Kd(s,this.Yd.Xd),this.Zd()}else this.bd||this.Kd(s,this.Yd.mf)}Qd(){this.vd!==null&&(clearTimeout(this.vd),this.vd=null)}wf(e){if(this.Ad!==null)return;const s=e.changedTouches[0];this.Ad=s.identifier,this.Ed=_r(e);const i=this.Gd.ownerDocument.documentElement;this.Sd=!1,this.Md=!1,this.Bd=!1,this.gd=pt(s),this.Td&&(this.Td(),this.Td=null);{const r=this.ef.bind(this),o=this.df.bind(this);this.Td=()=>{i.removeEventListener("touchmove",r),i.removeEventListener("touchend",o)},i.addEventListener("touchmove",r,{passive:!1}),i.addEventListener("touchend",o,{passive:!1}),this.Qd(),this.vd=setTimeout(this.gf.bind(this,e),240)}const n=this.Wd(e,s);this.$d(n,this.Yd.Mf),this.fd||(this.dd=0,this.fd=setTimeout(this.jd.bind(this),500),this.pd=pt(s))}bf(e){if(e.button!==0)return;const s=this.Gd.ownerDocument.documentElement;xd()&&s.addEventListener("mouseleave",this.Ld),this.bd=!1,this.wd=pt(e),this.kd&&(this.kd(),this.kd=null);{const n=this.uf.bind(this),r=this.Od.bind(this);this.kd=()=>{s.removeEventListener("mousemove",n),s.removeEventListener("mouseup",r)},s.addEventListener("mousemove",n),s.addEventListener("mouseup",r)}if(this.Id=!0,this.Fd(e))return;const i=this.Wd(e);this.Kd(i,this.Yd.Sf),this._d||(this.od=0,this._d=setTimeout(this.Zd.bind(this),500),this.ud=pt(e))}Jd(){this.Gd.addEventListener("mouseenter",this.tf.bind(this)),this.Gd.addEventListener("touchcancel",this.Qd.bind(this));{const e=this.Gd.ownerDocument,s=i=>{this.Yd.xf&&(i.composed&&this.Gd.contains(i.composedPath()[0])||i.target&&this.Gd.contains(i.target)||this.Yd.xf())};this.Cd=()=>{e.removeEventListener("touchstart",s)},this.xd=()=>{e.removeEventListener("mousedown",s)},e.addEventListener("mousedown",s),e.addEventListener("touchstart",s,{passive:!0})}Dl()&&(this.Pd=()=>{this.Gd.removeEventListener("dblclick",this.Nd)},this.Gd.addEventListener("dblclick",this.Nd)),this.Gd.addEventListener("mouseleave",this.Cf.bind(this)),this.Gd.addEventListener("touchstart",this.wf.bind(this),{passive:!0}),d1(this.Gd),this.Gd.addEventListener("mousedown",this.bf.bind(this)),this.Pf(),this.Gd.addEventListener("touchmove",()=>{},{passive:!1})}Pf(){this.Yd.yf===void 0&&this.Yd.kf===void 0&&this.Yd.Tf===void 0||(this.Gd.addEventListener("touchstart",e=>this.Rf(e.touches),{passive:!0}),this.Gd.addEventListener("touchmove",e=>{if(e.touches.length===2&&this.Rd!==null&&this.Yd.kf!==void 0){const s=wd(e.touches[0],e.touches[1])/this.Dd;this.Yd.kf(this.Rd,s),Bs(e)}},{passive:!1}),this.Gd.addEventListener("touchend",e=>{this.Rf(e.touches)}))}Rf(e){e.length===1&&(this.Vd=!1),e.length!==2||this.Vd||this.md?this.Df():this.Vf(e)}Vf(e){const s=this.Gd.getBoundingClientRect()||{left:0,top:0};this.Rd={_t:(e[0].clientX-s.left+(e[1].clientX-s.left))/2,ut:(e[0].clientY-s.top+(e[1].clientY-s.top))/2},this.Dd=wd(e[0],e[1]),this.Yd.yf!==void 0&&this.Yd.yf(),this.Qd()}Df(){this.Rd!==null&&(this.Rd=null,this.Yd.Tf!==void 0&&this.Yd.Tf())}Cf(e){if(this.yd&&this.yd(),this.Fd(e)||!this.zd)return;const s=this.Wd(e);this.Kd(s,this.Yd.Bf),this.zd=!Dl()}gf(e){const s=Ul(e.touches,E(this.Ad));if(s===null)return;const i=this.Wd(e,s);this.$d(i,this.Yd.If),this.Sd=!0,this.md=!0}Fd(e){return e.sourceCapabilities&&e.sourceCapabilities.firesTouchEvents!==void 0?e.sourceCapabilities.firesTouchEvents:_r(e)<this.Ed+500}$d(e,s){s&&s.call(this.Yd,e)}Kd(e,s){s&&s.call(this.Yd,e)}Wd(e,s){const i=s||e,n=this.Gd.getBoundingClientRect()||{left:0,top:0};return{clientX:i.clientX,clientY:i.clientY,pageX:i.pageX,pageY:i.pageY,screenX:i.screenX,screenY:i.screenY,localX:i.clientX-n.left,localY:i.clientY-n.top,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey,Ef:!e.type.startsWith("mouse")&&e.type!=="contextmenu"&&e.type!=="click",Af:e.type,zf:i.target,a_:e.view,Lf:()=>{e.type!=="touchstart"&&Bs(e)}}}}function wd(t,e){const s=t.clientX-e.clientX,i=t.clientY-e.clientY;return Math.sqrt(s*s+i*i)}function Bs(t){t.cancelable&&t.preventDefault()}function pt(t){return{_t:t.pageX,ut:t.pageY}}function _r(t){return t.timeStamp||performance.now()}function Ul(t,e){for(let s=0;s<t.length;++s)if(t[s].identifier===e)return t[s];return null}class f1{constructor(e,s,i){this.Of=null,this.Nf=null,this.Ff=!0,this.Wf=null,this.Hf=e,this.Uf=e.$f()[s],this.qf=e.$f()[i],this.Yf=document.createElement("tr"),this.Yf.style.height="1px",this.jf=document.createElement("td"),this.jf.style.position="relative",this.jf.style.padding="0",this.jf.style.margin="0",this.jf.setAttribute("colspan","3"),this.Kf(),this.Yf.appendChild(this.jf),this.Ff=this.Hf.N().layout.panes.enableResize,this.Ff?this.Xf():(this.Of=null,this.Nf=null)}m(){this.Nf!==null&&this.Nf.m()}Zf(){return this.Yf}Gf(){return W({width:this.Uf.Gf().width,height:1})}Jf(){return W({width:this.Uf.Jf().width,height:1*window.devicePixelRatio})}Qf(e,s,i){const n=this.Jf();e.fillStyle=this.Hf.N().layout.panes.separatorColor,e.fillRect(s,i,n.width,n.height)}yt(){this.Kf(),this.Hf.N().layout.panes.enableResize!==this.Ff&&(this.Ff=this.Hf.N().layout.panes.enableResize,this.Ff?this.Xf():(this.Of!==null&&(this.jf.removeChild(this.Of.tp),this.jf.removeChild(this.Of.ip),this.Of=null),this.Nf!==null&&(this.Nf.m(),this.Nf=null)))}Xf(){const e=document.createElement("div"),s=e.style;s.position="fixed",s.display="none",s.zIndex="49",s.top="0",s.left="0",s.width="100%",s.height="100%",s.cursor="row-resize",this.jf.appendChild(e);const i=document.createElement("div"),n=i.style;n.position="absolute",n.zIndex="50",n.top="-4px",n.height="9px",n.width="100%",n.backgroundColor="",n.cursor="row-resize",this.jf.appendChild(i);const r={sf:this.sp.bind(this),Bf:this.np.bind(this),Sf:this.ep.bind(this),Mf:this.ep.bind(this),cf:this.rp.bind(this),_f:this.rp.bind(this),vf:this.hp.bind(this),ff:this.hp.bind(this)};this.Nf=new Jo(i,r,{af:()=>!1,lf:()=>!0}),this.Of={ip:i,tp:e}}Kf(){this.jf.style.background=this.Hf.N().layout.panes.separatorColor}sp(e){this.Of!==null&&(this.Of.ip.style.backgroundColor=this.Hf.N().layout.panes.separatorHoverColor)}np(e){this.Of!==null&&this.Wf===null&&(this.Of.ip.style.backgroundColor="")}ep(e){if(this.Of===null)return;const s=this.Uf.ap().Bo()+this.qf.ap().Bo(),i=s/(this.Uf.Gf().height+this.qf.Gf().height),n=30*i;s<=2*n||(this.Wf={lp:e.pageY,op:this.Uf.ap().Bo(),_p:s-n,up:s,cp:i,dp:n},this.Of.tp.style.display="block")}rp(e){const s=this.Wf;if(s===null)return;const i=(e.pageY-s.lp)*s.cp,n=fn(s.op+i,s.dp,s._p);this.Uf.ap().Io(n),this.qf.ap().Io(s.up-n),this.Hf.Qt().Ih()}hp(e){this.Wf!==null&&this.Of!==null&&(this.Wf=null,this.Of.tp.style.display="none")}}function Bl(t,e){return t.fp-e.fp}function Vl(t,e,s){const i=(t.fp-e.fp)/(t.wt-e.wt);return Math.sign(i)*Math.min(Math.abs(i),s)}class p1{constructor(e,s,i,n){this.pp=null,this.vp=null,this.mp=null,this.wp=null,this.gp=null,this.Mp=0,this.bp=0,this.Sp=e,this.xp=s,this.Cp=i,this.Mn=n}Pp(e,s){if(this.pp!==null){if(this.pp.wt===s)return void(this.pp.fp=e);if(Math.abs(this.pp.fp-e)<this.Mn)return}this.wp=this.mp,this.mp=this.vp,this.vp=this.pp,this.pp={wt:s,fp:e}}le(e,s){if(this.pp===null||this.vp===null||s-this.pp.wt>50)return;let i=0;const n=Vl(this.pp,this.vp,this.xp),r=Bl(this.pp,this.vp),o=[n],l=[r];if(i+=r,this.mp!==null){const h=Vl(this.vp,this.mp,this.xp);if(Math.sign(h)===Math.sign(n)){const c=Bl(this.vp,this.mp);if(o.push(h),l.push(c),i+=c,this.wp!==null){const d=Vl(this.mp,this.wp,this.xp);if(Math.sign(d)===Math.sign(n)){const f=Bl(this.mp,this.wp);o.push(d),l.push(f),i+=f}}}}let a=0;for(let h=0;h<o.length;++h)a+=l[h]/i*o[h];Math.abs(a)<this.Sp||(this.gp={fp:e,wt:s},this.bp=a,this.Mp=function(h,c){const d=Math.log(c);return Math.log(1*d/-h)/d}(Math.abs(a),this.Cp))}Du(e){const s=E(this.gp),i=e-s.wt;return s.fp+this.bp*(Math.pow(this.Cp,i)-1)/Math.log(this.Cp)}Ru(e){return this.gp===null||this.yp(e)===this.Mp}yp(e){const s=e-E(this.gp).wt;return Math.min(s,this.Mp)}}class m1{constructor(e,s){this.kp=void 0,this.Tp=void 0,this.Rp=void 0,this.ps=!1,this.Dp=e,this.Vp=s,this.Bp()}yt(){this.Bp()}Ip(){this.kp&&this.Dp.removeChild(this.kp),this.Tp&&this.Dp.removeChild(this.Tp),this.kp=void 0,this.Tp=void 0}Ep(){return this.ps!==this.Ap()||this.Rp!==this.zp()}zp(){return this.Vp.Qt().Xi().J(this.Vp.N().layout.textColor)>160?"dark":"light"}Ap(){return this.Vp.N().layout.attributionLogo}Lp(){const e=new URL(location.href);return e.hostname?"&utm_source="+e.hostname+e.pathname:""}Bp(){this.Ep()&&(this.Ip(),this.ps=this.Ap(),this.ps&&(this.Rp=this.zp(),this.Tp=document.createElement("style"),this.Tp.innerText="a#tv-attr-logo{--fill:#131722;--stroke:#fff;position:absolute;left:10px;bottom:10px;height:19px;width:35px;margin:0;padding:0;border:0;z-index:3;}a#tv-attr-logo[data-dark]{--fill:#D1D4DC;--stroke:#131722;}",this.kp=document.createElement("a"),this.kp.href=`https://www.tradingview.com/?utm_medium=lwc-link&utm_campaign=lwc-chart${this.Lp()}`,this.kp.title="Charting by TradingView",this.kp.id="tv-attr-logo",this.kp.target="_blank",this.kp.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="35" height="19" fill="none"><g fill-rule="evenodd" clip-path="url(#a)" clip-rule="evenodd"><path fill="var(--stroke)" d="M2 0H0v10h6v9h21.4l.5-1.3 6-15 1-2.7H23.7l-.5 1.3-.2.6a5 5 0 0 0-7-.9V0H2Zm20 17h4l5.2-13 .8-2h-7l-1 2.5-.2.5-1.5 3.8-.3.7V17Zm-.8-10a3 3 0 0 0 .7-2.7A3 3 0 1 0 16.8 7h4.4ZM14 7V2H2v6h6v9h4V7h2Z"/><path fill="var(--fill)" d="M14 2H2v6h6v9h6V2Zm12 15h-7l6-15h7l-6 15Zm-7-9a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></g><defs><clipPath id="a"><path fill="var(--stroke)" d="M0 0h35v19H0z"/></clipPath></defs></svg>',this.kp.toggleAttribute("data-dark",this.Rp==="dark"),this.Dp.appendChild(this.Tp),this.Dp.appendChild(this.kp)))}}function Is(t,e){const s=E(t.ownerDocument).createElement("canvas");t.appendChild(s);const i=ew(s,{type:"device-pixel-content-box",options:{allowResizeObserver:!0},transform:(n,r)=>({width:Math.max(n.width,r.width),height:Math.max(n.height,r.height)})});return i.resizeCanvasElement(e),i}function $s(t){var e;t.width=1,t.height=1,(e=t.getContext("2d"))==null||e.clearRect(0,0,1,1)}function su(t,e,s,i){t.ih&&t.ih(e,s,i)}function Br(t,e,s,i){t.nt(e,s,i)}function iu(t,e,s,i){const n=t(s,i);for(const r of n){const o=r.Tt(i);o!==null&&e(o)}}function Wl(t,e){return s=>{var i,n;return function(r){return r.Ft!==void 0}(s)?(((i=s.Ft())==null?void 0:i.ma())??"")!==e?[]:((n=s.ta)==null?void 0:n.call(s,t))??[]:[]}}function bd(t,e,s,i){if(!t.length)return;let n=0;const r=t[0].$t(i,!0);let o=e===1?s/2-(t[0].Fi()-r/2):t[0].Fi()-r/2-s/2;o=Math.max(0,o);for(let l=1;l<t.length;l++){const a=t[l],h=t[l-1],c=h.$t(i,!1),d=a.Fi(),f=h.Fi();if(e===1?d>f-c:d<f+c){const p=f-c*e;a.Wi(p);const g=p-e*c/2;if((e===1?g<0:g>s)&&o>0){const x=e===1?-1-g:g-s,w=Math.min(x,o);for(let v=n;v<t.length;v++)t[v].Wi(t[v].Fi()+e*w);o-=w}}else n=l,o=e===1?f-c-d:d-(f+c)}}class _d{constructor(e,s,i,n){this.Yi=null,this.Op=null,this.Np=!1,this.Fp=new yo(200),this.Wp=null,this.Hp=0,this.Up=!1,this.$p=()=>{this.Up||this.Pt.qp().Qt().ar()},this.Yp=()=>{this.Up||this.Pt.qp().Qt().ar()},this.Pt=e,this.Ps=s,this.Ml=s.layout,this.Ju=i,this.jp=n==="left",this.Kp=Wl("normal",n),this.Xp=Wl("top",n),this.Zp=Wl("bottom",n),this.jf=document.createElement("div"),this.jf.style.height="100%",this.jf.style.overflow="hidden",this.jf.style.width="25px",this.jf.style.left="0",this.jf.style.position="relative",this.Gp=Is(this.jf,W({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.$p);const r=this.Gp.canvasElement;r.style.position="absolute",r.style.zIndex="1",r.style.left="0",r.style.top="0",this.Jp=Is(this.jf,W({width:16,height:16})),this.Jp.subscribeSuggestedBitmapSizeChanged(this.Yp);const o=this.Jp.canvasElement;o.style.position="absolute",o.style.zIndex="2",o.style.left="0",o.style.top="0";const l={Sf:this.ep.bind(this),Mf:this.ep.bind(this),cf:this.rp.bind(this),_f:this.rp.bind(this),xf:this.Qp.bind(this),vf:this.hp.bind(this),ff:this.hp.bind(this),Xd:this.tv.bind(this),qd:this.tv.bind(this),sf:this.iv.bind(this),Bf:this.np.bind(this)};this.Nf=new Jo(this.Jp.canvasElement,l,{af:()=>!this.Ps.handleScroll.vertTouchDrag,lf:()=>!0})}m(){this.Nf.m(),this.Jp.unsubscribeSuggestedBitmapSizeChanged(this.Yp),$s(this.Jp.canvasElement),this.Jp.dispose(),this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.$p),$s(this.Gp.canvasElement),this.Gp.dispose(),this.Yi!==null&&this.Yi.so().u(this),this.Yi=null}Zf(){return this.jf}P(){return this.Ml.fontSize}sv(){const e=this.Ju.N();return this.Wp!==e.k&&(this.Fp.Bn(),this.Wp=e.k),e}nv(){if(this.Yi===null)return 0;let e=0;const s=this.sv(),i=E(this.Gp.canvasElement.getContext("2d",{colorSpace:this.Pt.qp().N().layout.colorSpace}));i.save();const n=this.Yi.Da();i.font=this.ev(),n.length>0&&(e=Math.max(this.Fp.Vi(i,n[0].Za),this.Fp.Vi(i,n[n.length-1].Za)));const r=this.rv();for(let h=r.length;h--;){const c=this.Fp.Vi(i,r[h].ri());c>e&&(e=c)}const o=this.Yi.zt();if(o!==null&&this.Op!==null&&(l=this.Ps.crosshair).mode!==2&&l.horzLine.visible&&l.horzLine.labelVisible){const h=this.Yi.Ts(1,o),c=this.Yi.Ts(this.Op.height-2,o);e=Math.max(e,this.Fp.Vi(i,this.Yi.Zi(Math.floor(Math.min(h,c))+.11111111111111,o)),this.Fp.Vi(i,this.Yi.Zi(Math.ceil(Math.max(h,c))-.11111111111111,o)))}var l;i.restore();const a=e||34;return tu(Math.ceil(s.S+s.C+s.B+s.I+5+a))}hv(e){this.Op!==null&&Cs(this.Op,e)||(this.Op=e,this.Up=!0,this.Gp.resizeCanvasElement(e),this.Jp.resizeCanvasElement(e),this.Up=!1,this.jf.style.width=`${e.width}px`,this.jf.style.height=`${e.height}px`)}av(){return E(this.Op).width}_s(e){this.Yi!==e&&(this.Yi!==null&&this.Yi.so().u(this),this.Yi=e,e.so().i(this._l.bind(this),this))}Ft(){return this.Yi}Bn(){const e=this.Pt.ap();this.Pt.qp().Qt().Zo(e,E(this.Ft()))}lv(e){if(this.Op===null)return;const s={colorSpace:this.Pt.qp().N().layout.colorSpace};if(e!==1){this.ov(),this.Gp.applySuggestedBitmapSize();const n=Ls(this.Gp,s);n!==null&&(n.useBitmapCoordinateSpace(r=>{this._v(r),this.uv(r)}),this.Pt.cv(n,this.Zp),this.dv(n),this.Pt.cv(n,this.Kp),this.fv(n))}this.Jp.applySuggestedBitmapSize();const i=Ls(this.Jp,s);i!==null&&(i.useBitmapCoordinateSpace(({context:n,bitmapSize:r})=>{n.clearRect(0,0,r.width,r.height)}),this.pv(i),this.Pt.cv(i,this.Xp))}Jf(){return this.Gp.bitmapSize}Qf(e,s,i,n){const r=this.Jf();if(r.width>0&&r.height>0&&(e.drawImage(this.Gp.canvasElement,s,i),n)){const o=this.Jp.canvasElement;e.drawImage(o,s,i)}}yt(){var e;(e=this.Yi)==null||e.Da()}ep(e){if(this.Yi===null||this.Yi.Ki()||!this.Ps.handleScale.axisPressedMouseMove.price)return;const s=this.Pt.qp().Qt(),i=this.Pt.ap();this.Np=!0,s.Uo(i,this.Yi,e.localY)}rp(e){if(this.Yi===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const s=this.Pt.qp().Qt(),i=this.Pt.ap(),n=this.Yi;s.$o(i,n,e.localY)}Qp(){if(this.Yi===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const e=this.Pt.qp().Qt(),s=this.Pt.ap(),i=this.Yi;this.Np&&(this.Np=!1,e.qo(s,i))}hp(e){if(this.Yi===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const s=this.Pt.qp().Qt(),i=this.Pt.ap();this.Np=!1,s.qo(i,this.Yi)}tv(e){this.Ps.handleScale.axisDoubleClickReset.price&&this.Bn()}iv(e){this.Yi!==null&&(!this.Pt.qp().Qt().N().handleScale.axisPressedMouseMove.price||this.Yi.Le()||this.Yi.Dl()||this.vv(1))}np(e){this.vv(0)}rv(){const e=[],s=this.Yi===null?void 0:this.Yi;return(i=>{for(let n=0;n<i.length;++n){const r=i[n].Ws(this.Pt.ap(),s);for(let o=0;o<r.length;o++)e.push(r[o])}})(this.Pt.ap().Dt()),e}_v({context:e,bitmapSize:s}){const{width:i,height:n}=s,r=this.Pt.ap().Qt(),o=r.$(),l=r.Wc();o===l?Vo(e,0,0,i,n,o):zm(e,0,0,i,n,o,l)}uv({context:e,bitmapSize:s,horizontalPixelRatio:i}){if(this.Op===null||this.Yi===null||!this.Yi.N().borderVisible)return;e.fillStyle=this.Yi.N().borderColor;const n=Math.max(1,Math.floor(this.sv().S*i));let r;r=this.jp?s.width-n:0,e.fillRect(r,0,n,s.height)}dv(e){if(this.Op===null||this.Yi===null)return;const s=this.Yi.Da(),i=this.Yi.N(),n=this.sv(),r=this.jp?this.Op.width-n.C:0;i.borderVisible&&i.ticksVisible&&e.useBitmapCoordinateSpace(({context:o,horizontalPixelRatio:l,verticalPixelRatio:a})=>{o.fillStyle=i.borderColor;const h=Math.max(1,Math.floor(a)),c=Math.floor(.5*a),d=Math.round(n.C*l);o.beginPath();for(const f of s)o.rect(Math.floor(r*l),Math.round(f.Pa*a)-c,d,h);o.fill()}),e.useMediaCoordinateSpace(({context:o})=>{o.font=this.ev(),o.fillStyle=i.textColor??this.Ml.textColor,o.textAlign=this.jp?"right":"left",o.textBaseline="middle";const l=this.jp?Math.round(r-n.B):Math.round(r+n.C+n.B),a=s.map(h=>this.Fp.Di(o,h.Za));for(let h=s.length;h--;){const c=s[h];o.fillText(c.Za,l,c.Pa+a[h])}})}ov(){if(this.Op===null||this.Yi===null)return;let e=this.Op.height/2;const s=[],i=this.Yi.Dt().slice(),n=this.Pt.ap(),r=this.sv();this.Yi===n.$n()&&this.Pt.ap().Dt().forEach(a=>{n.Un(a)&&i.push(a)});const o=this.Yi.Ma()[0],l=this.Yi;i.forEach(a=>{const h=a.Ws(n,l);h.forEach(c=>{c.Wi(null),c.Hi()&&s.push(c)}),o===a&&h.length>0&&(e=h[0].Ii())}),s.forEach(a=>a.Wi(a.Ii())),this.Yi.N().alignLabels&&this.mv(s,r,e)}mv(e,s,i){if(this.Op===null)return;const n=e.filter(o=>o.Ii()<=i),r=e.filter(o=>o.Ii()>i);n.sort((o,l)=>l.Ii()-o.Ii()),n.length&&r.length&&r.push(n[0]),r.sort((o,l)=>o.Ii()-l.Ii());for(const o of e){const l=Math.floor(o.$t(s)/2),a=o.Ii();a>-l&&a<l&&o.Wi(l),a>this.Op.height-l&&a<this.Op.height+l&&o.Wi(this.Op.height-l)}bd(n,1,this.Op.height,s),bd(r,-1,this.Op.height,s)}fv(e){if(this.Op===null)return;const s=this.rv(),i=this.sv(),n=this.jp?"right":"left";s.forEach(r=>{r.Ui()&&r.Tt(E(this.Yi)).nt(e,i,this.Fp,n)})}pv(e){if(this.Op===null||this.Yi===null)return;const s=this.Pt.qp().Qt(),i=[],n=this.Pt.ap(),r=s.uc().Ws(n,this.Yi);r.length&&i.push(r);const o=this.sv(),l=this.jp?"right":"left";i.forEach(a=>{a.forEach(h=>{h.Tt(E(this.Yi)).nt(e,o,this.Fp,l)})})}vv(e){this.jf.style.cursor=e===1?"ns-resize":"default"}_l(){const e=this.nv();this.Hp<e&&this.Pt.qp().Qt().Ih(),this.Hp=e}ev(){return vo(this.Ml.fontSize,this.Ml.fontFamily)}}function g1(t,e){var s;return((s=t.Jh)==null?void 0:s.call(t,e))??[]}function Sd(t,e){var s;return((s=t.Fs)==null?void 0:s.call(t,e))??[]}function kd(t,e){var s;return((s=t.us)==null?void 0:s.call(t,e))??[]}function v1(t,e){var s;return((s=t.Xh)==null?void 0:s.call(t,e))??[]}class xh{constructor(e,s){this.Op=W({width:0,height:0}),this.wv=null,this.gv=null,this.Mv=null,this.bv=null,this.Sv=!1,this.xv=new ne,this.Cv=new ne,this.Pv=0,this.yv=!1,this.kv=null,this.Tv=!1,this.Rv=null,this.Dv=null,this.Up=!1,this.$p=()=>{this.Up||this.Vv===null||this.ts().ar()},this.Yp=()=>{this.Up||this.Vv===null||this.ts().ar()},this.Vp=e,this.Vv=s,this.Vv.t_().i(this.Bv.bind(this),this,!0),this.Iv=document.createElement("td"),this.Iv.style.padding="0",this.Iv.style.position="relative";const i=document.createElement("div");i.style.width="100%",i.style.height="100%",i.style.position="relative",i.style.overflow="hidden",this.Ev=document.createElement("td"),this.Ev.style.padding="0",this.Av=document.createElement("td"),this.Av.style.padding="0",this.Iv.appendChild(i),this.Gp=Is(i,W({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.$p);const n=this.Gp.canvasElement;n.style.position="absolute",n.style.zIndex="1",n.style.left="0",n.style.top="0",this.Jp=Is(i,W({width:16,height:16})),this.Jp.subscribeSuggestedBitmapSizeChanged(this.Yp);const r=this.Jp.canvasElement;r.style.position="absolute",r.style.zIndex="2",r.style.left="0",r.style.top="0",this.Yf=document.createElement("tr"),this.Yf.appendChild(this.Ev),this.Yf.appendChild(this.Iv),this.Yf.appendChild(this.Av),this.zv(),this.Nf=new Jo(this.Jp.canvasElement,this,{af:()=>this.kv===null&&!this.Vp.N().handleScroll.vertTouchDrag,lf:()=>this.kv===null&&!this.Vp.N().handleScroll.horzTouchDrag})}m(){this.wv!==null&&this.wv.m(),this.gv!==null&&this.gv.m(),this.Mv=null,this.Jp.unsubscribeSuggestedBitmapSizeChanged(this.Yp),$s(this.Jp.canvasElement),this.Jp.dispose(),this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.$p),$s(this.Gp.canvasElement),this.Gp.dispose(),this.Vv!==null&&(this.Vv.t_().u(this),this.Vv.m()),this.Nf.m()}ap(){return E(this.Vv)}Lv(e){var s;this.Vv!==null&&this.Vv.t_().u(this),this.Vv=e,this.Vv!==null&&this.Vv.t_().i(xh.prototype.Bv.bind(this),this,!0),this.zv(),this.Vp.$f().indexOf(this)===this.Vp.$f().length-1?(this.Mv=this.Mv??new m1(this.Iv,this.Vp),this.Mv.yt()):((s=this.Mv)==null||s.Ip(),this.Mv=null)}qp(){return this.Vp}Zf(){return this.Yf}zv(){if(this.Vv!==null&&(this.Ov(),this.ts().js().length!==0)){if(this.wv!==null){const e=this.Vv.Wo();this.wv._s(E(e))}if(this.gv!==null){const e=this.Vv.Ho();this.gv._s(E(e))}}}Nv(){this.wv!==null&&this.wv.yt(),this.gv!==null&&this.gv.yt()}Bo(){return this.Vv!==null?this.Vv.Bo():0}Io(e){this.Vv&&this.Vv.Io(e)}sf(e){if(!this.Vv)return;this.Fv();const s=e.localX,i=e.localY;this.Wv(s,i,e)}Sf(e){this.Fv(),this.Hv(),this.Wv(e.localX,e.localY,e)}nf(e){if(!this.Vv)return;this.Fv();const s=e.localX,i=e.localY;this.Wv(s,i,e)}mf(e){this.Vv!==null&&(this.Fv(),this.Uv(e))}Xd(e){this.Vv!==null&&this.$v(this.Cv,e)}qd(e){this.Xd(e)}cf(e){this.Fv(),this.qv(e),this.Wv(e.localX,e.localY,e)}vf(e){this.Vv!==null&&(this.Fv(),this.yv=!1,this.Yv(e))}pf(e){this.Vv!==null&&this.Uv(e)}If(e){if(this.yv=!0,this.kv===null){const s={x:e.localX,y:e.localY};this.jv(s,s,e)}}Bf(e){this.Vv!==null&&(this.Fv(),this.Vv.Qt().lc(null),this.Kv())}Xv(){return this.xv}Zv(){return this.Cv}yf(){this.Pv=1,this.ts().hn()}kf(e,s){if(!this.Vp.N().handleScale.pinch)return;const i=5*(s-this.Pv);this.Pv=s,this.ts().bc(e._t,i)}Mf(e){this.yv=!1,this.Tv=this.kv!==null,this.Hv();const s=this.ts().uc();this.kv!==null&&s.Vt()&&(this.Rv={x:s.si(),y:s.ni()},this.kv={x:e.localX,y:e.localY})}_f(e){if(this.Vv===null)return;const s=e.localX,i=e.localY;if(this.kv===null)this.qv(e);else{this.Tv=!1;const n=E(this.Rv),r=n.x+(s-this.kv.x),o=n.y+(i-this.kv.y);this.Wv(r,o,e)}}ff(e){this.qp().N().trackingMode.exitMode===0&&(this.Tv=!0),this.Gv(),this.Yv(e)}jn(e,s){const i=this.Vv;return i===null?null:Gm(i,e,s)}Jv(e,s){E(s==="left"?this.wv:this.gv).hv(W({width:e,height:this.Op.height}))}Gf(){return this.Op}hv(e){Cs(this.Op,e)||(this.Op=e,this.Up=!0,this.Gp.resizeCanvasElement(e),this.Jp.resizeCanvasElement(e),this.Up=!1,this.Iv.style.width=e.width+"px",this.Iv.style.height=e.height+"px")}Qv(){const e=E(this.Vv);e.Fo(e.Wo()),e.Fo(e.Ho());for(const s of e.Ma())if(e.Un(s)){const i=s.Ft();i!==null&&e.Fo(i),s.Ns()}for(const s of e.s_())s.Ns()}Jf(){return this.Gp.bitmapSize}Qf(e,s,i,n){const r=this.Jf();if(r.width>0&&r.height>0&&(e.drawImage(this.Gp.canvasElement,s,i),n)){const o=this.Jp.canvasElement;e!==null&&e.drawImage(o,s,i)}}lv(e){if(e===0||this.Vv===null)return;e>1&&this.Qv(),this.wv!==null&&this.wv.lv(e),this.gv!==null&&this.gv.lv(e);const s={colorSpace:this.Vp.N().layout.colorSpace};if(e!==1){this.Gp.applySuggestedBitmapSize();const n=Ls(this.Gp,s);n!==null&&(n.useBitmapCoordinateSpace(r=>{this._v(r)}),this.Vv&&(this.tm(n,g1),this.im(n),this.tm(n,Sd),this.tm(n,kd)))}this.Jp.applySuggestedBitmapSize();const i=Ls(this.Jp,s);i!==null&&(i.useBitmapCoordinateSpace(({context:n,bitmapSize:r})=>{n.clearRect(0,0,r.width,r.height)}),this.sm(i),this.tm(i,v1),this.tm(i,kd))}nm(){return this.wv}rm(){return this.gv}cv(e,s){this.tm(e,s)}Bv(){this.Vv!==null&&this.Vv.t_().u(this),this.Vv=null}Uv(e){this.$v(this.xv,e)}$v(e,s){const i=s.localX,n=s.localY;e.v()&&e.p(this.ts().Et().cu(i),{x:i,y:n},s)}_v({context:e,bitmapSize:s}){const{width:i,height:n}=s,r=this.ts(),o=r.$(),l=r.Wc();o===l?Vo(e,0,0,i,n,l):zm(e,0,0,i,n,o,l)}im(e){const s=E(this.Vv),i=s.i_().lr().Tt(s);i!==null&&i.nt(e,!1)}sm(e){this.hm(e,Sd,Br,this.ts().uc())}tm(e,s){const i=E(this.Vv),n=i.Dt(),r=i.s_();for(const o of r)this.hm(e,s,su,o);for(const o of n)this.hm(e,s,su,o);for(const o of r)this.hm(e,s,Br,o);for(const o of n)this.hm(e,s,Br,o)}hm(e,s,i,n){const r=E(this.Vv),o=r.Qt().ac(),l=o!==null&&o.n_===n,a=o!==null&&l&&o.e_!==void 0?o.e_.Xn:void 0;iu(s,h=>i(h,e,l,a),n,r)}Ov(){if(this.Vv===null)return;const e=this.Vp,s=this.Vv.Wo().N().visible,i=this.Vv.Ho().N().visible;s||this.wv===null||(this.Ev.removeChild(this.wv.Zf()),this.wv.m(),this.wv=null),i||this.gv===null||(this.Av.removeChild(this.gv.Zf()),this.gv.m(),this.gv=null);const n=e.Qt().Bc();s&&this.wv===null&&(this.wv=new _d(this,e.N(),n,"left"),this.Ev.appendChild(this.wv.Zf())),i&&this.gv===null&&(this.gv=new _d(this,e.N(),n,"right"),this.Av.appendChild(this.gv.Zf()))}am(e){return e.Ef&&this.yv||this.kv!==null}lm(e){return Math.max(0,Math.min(e,this.Op.width-1))}om(e){return Math.max(0,Math.min(e,this.Op.height-1))}Wv(e,s,i){this.ts().Tc(this.lm(e),this.om(s),i,E(this.Vv))}Kv(){this.ts().Dc()}Gv(){this.Tv&&(this.kv=null,this.Kv())}jv(e,s,i){this.kv=e,this.Tv=!1,this.Wv(s.x,s.y,i);const n=this.ts().uc();this.Rv={x:n.si(),y:n.ni()}}ts(){return this.Vp.Qt()}Yv(e){if(!this.Sv)return;const s=this.ts(),i=this.ap();if(s.Ko(i,i.ks()),this.bv=null,this.Sv=!1,s.Pc(),this.Dv!==null){const n=performance.now(),r=s.Et();this.Dv.le(r.gu(),n),this.Dv.Ru(n)||s._n(this.Dv)}}Fv(){this.kv=null}Hv(){if(this.Vv){if(this.ts().hn(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)E(document.activeElement).blur();else{const e=document.getSelection();e!==null&&e.removeAllRanges()}!this.Vv.ks().Ki()&&this.ts().Et().Ki()}}qv(e){if(this.Vv===null)return;const s=this.ts(),i=s.Et();if(i.Ki())return;const n=this.Vp.N(),r=n.handleScroll,o=n.kineticScroll;if((!r.pressedMouseMove||e.Ef)&&(!r.horzTouchDrag&&!r.vertTouchDrag||!e.Ef))return;const l=this.Vv.ks(),a=performance.now();if(this.bv!==null||this.am(e)||(this.bv={x:e.clientX,y:e.clientY,rd:a,_m:e.localX,um:e.localY}),this.bv!==null&&!this.Sv&&(this.bv.x!==e.clientX||this.bv.y!==e.clientY)){if(e.Ef&&o.touch||!e.Ef&&o.mouse){const h=i.mu();this.Dv=new p1(.2/h,7/h,.997,15/h),this.Dv.Pp(i.gu(),this.bv.rd)}else this.Dv=null;l.Ki()||s.Yo(this.Vv,l,e.localY),s.xc(e.localX),this.Sv=!0}this.Sv&&(l.Ki()||s.jo(this.Vv,l,e.localY),s.Cc(e.localX),this.Dv!==null&&this.Dv.Pp(i.gu(),a))}}class jd{constructor(e,s,i,n,r){this.xt=!0,this.Op=W({width:0,height:0}),this.$p=()=>this.lv(3),this.jp=e==="left",this.Ju=i.Bc,this.Ps=s,this.dm=n,this.fm=r,this.jf=document.createElement("div"),this.jf.style.width="25px",this.jf.style.height="100%",this.jf.style.overflow="hidden",this.Gp=Is(this.jf,W({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.$p)}m(){this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.$p),$s(this.Gp.canvasElement),this.Gp.dispose()}Zf(){return this.jf}Gf(){return this.Op}hv(e){Cs(this.Op,e)||(this.Op=e,this.Gp.resizeCanvasElement(e),this.jf.style.width=`${e.width}px`,this.jf.style.height=`${e.height}px`,this.xt=!0)}lv(e){if(e<3&&!this.xt||this.Op.width===0||this.Op.height===0)return;this.xt=!1,this.Gp.applySuggestedBitmapSize();const s=Ls(this.Gp,{colorSpace:this.Ps.layout.colorSpace});s!==null&&s.useBitmapCoordinateSpace(i=>{this._v(i),this.uv(i)})}Jf(){return this.Gp.bitmapSize}Qf(e,s,i){const n=this.Jf();n.width>0&&n.height>0&&e.drawImage(this.Gp.canvasElement,s,i)}uv({context:e,bitmapSize:s,horizontalPixelRatio:i,verticalPixelRatio:n}){if(!this.dm())return;e.fillStyle=this.Ps.timeScale.borderColor;const r=Math.floor(this.Ju.N().S*i),o=Math.floor(this.Ju.N().S*n),l=this.jp?s.width-r:0;e.fillRect(l,0,r,o)}_v({context:e,bitmapSize:s}){Vo(e,0,0,s.width,s.height,this.fm())}}function wh(t){return e=>{var s;return((s=e.ia)==null?void 0:s.call(e,t))??[]}}const y1=wh("normal"),x1=wh("top"),w1=wh("bottom");class b1{constructor(e,s){this.pm=null,this.vm=null,this.M=null,this.wm=!1,this.Op=W({width:0,height:0}),this.gm=new ne,this.Fp=new yo(5),this.Up=!1,this.$p=()=>{this.Up||this.Vp.Qt().ar()},this.Yp=()=>{this.Up||this.Vp.Qt().ar()},this.Vp=e,this.o_=s,this.Ps=e.N().layout,this.kp=document.createElement("tr"),this.Mm=document.createElement("td"),this.Mm.style.padding="0",this.bm=document.createElement("td"),this.bm.style.padding="0",this.jf=document.createElement("td"),this.jf.style.height="25px",this.jf.style.padding="0",this.Sm=document.createElement("div"),this.Sm.style.width="100%",this.Sm.style.height="100%",this.Sm.style.position="relative",this.Sm.style.overflow="hidden",this.jf.appendChild(this.Sm),this.Gp=Is(this.Sm,W({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.$p);const i=this.Gp.canvasElement;i.style.position="absolute",i.style.zIndex="1",i.style.left="0",i.style.top="0",this.Jp=Is(this.Sm,W({width:16,height:16})),this.Jp.subscribeSuggestedBitmapSizeChanged(this.Yp);const n=this.Jp.canvasElement;n.style.position="absolute",n.style.zIndex="2",n.style.left="0",n.style.top="0",this.kp.appendChild(this.Mm),this.kp.appendChild(this.jf),this.kp.appendChild(this.bm),this.xm(),this.Vp.Qt().Vo().i(this.xm.bind(this),this),this.Nf=new Jo(this.Jp.canvasElement,this,{af:()=>!0,lf:()=>!this.Vp.N().handleScroll.horzTouchDrag})}m(){this.Nf.m(),this.pm!==null&&this.pm.m(),this.vm!==null&&this.vm.m(),this.Jp.unsubscribeSuggestedBitmapSizeChanged(this.Yp),$s(this.Jp.canvasElement),this.Jp.dispose(),this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.$p),$s(this.Gp.canvasElement),this.Gp.dispose()}Zf(){return this.kp}Cm(){return this.pm}Pm(){return this.vm}Sf(e){if(this.wm)return;this.wm=!0;const s=this.Vp.Qt();!s.Et().Ki()&&this.Vp.N().handleScale.axisPressedMouseMove.time&&s.Mc(e.localX)}Mf(e){this.Sf(e)}xf(){const e=this.Vp.Qt();!e.Et().Ki()&&this.wm&&(this.wm=!1,this.Vp.N().handleScale.axisPressedMouseMove.time&&e.kc())}cf(e){const s=this.Vp.Qt();!s.Et().Ki()&&this.Vp.N().handleScale.axisPressedMouseMove.time&&s.yc(e.localX)}_f(e){this.cf(e)}vf(){this.wm=!1;const e=this.Vp.Qt();e.Et().Ki()&&!this.Vp.N().handleScale.axisPressedMouseMove.time||e.kc()}ff(){this.vf()}Xd(){this.Vp.N().handleScale.axisDoubleClickReset.time&&this.Vp.Qt().cn()}qd(){this.Xd()}sf(){this.Vp.Qt().N().handleScale.axisPressedMouseMove.time&&this.vv(1)}Bf(){this.vv(0)}Gf(){return this.Op}ym(){return this.gm}km(e,s,i){Cs(this.Op,e)||(this.Op=e,this.Up=!0,this.Gp.resizeCanvasElement(e),this.Jp.resizeCanvasElement(e),this.Up=!1,this.jf.style.width=`${e.width}px`,this.jf.style.height=`${e.height}px`,this.gm.p(e)),this.pm!==null&&this.pm.hv(W({width:s,height:e.height})),this.vm!==null&&this.vm.hv(W({width:i,height:e.height}))}Tm(){const e=this.Rm();return Math.ceil(e.S+e.C+e.P+e.A+e.V+e.Dm)}yt(){this.Vp.Qt().Et().Da()}Jf(){return this.Gp.bitmapSize}Qf(e,s,i,n){const r=this.Jf();if(r.width>0&&r.height>0&&(e.drawImage(this.Gp.canvasElement,s,i),n)){const o=this.Jp.canvasElement;e.drawImage(o,s,i)}}lv(e){if(e===0)return;const s={colorSpace:this.Ps.colorSpace};if(e!==1){this.Gp.applySuggestedBitmapSize();const n=Ls(this.Gp,s);n!==null&&(n.useBitmapCoordinateSpace(r=>{this._v(r),this.uv(r),this.Vm(n,w1)}),this.dv(n),this.Vm(n,y1)),this.pm!==null&&this.pm.lv(e),this.vm!==null&&this.vm.lv(e)}this.Jp.applySuggestedBitmapSize();const i=Ls(this.Jp,s);i!==null&&(i.useBitmapCoordinateSpace(({context:n,bitmapSize:r})=>{n.clearRect(0,0,r.width,r.height)}),this.Bm([...this.Vp.Qt().js(),this.Vp.Qt().uc()],i),this.Vm(i,x1))}Vm(e,s){const i=this.Vp.Qt().js();for(const n of i)iu(s,r=>su(r,e,!1,void 0),n,void 0);for(const n of i)iu(s,r=>Br(r,e,!1,void 0),n,void 0)}_v({context:e,bitmapSize:s}){Vo(e,0,0,s.width,s.height,this.Vp.Qt().Wc())}uv({context:e,bitmapSize:s,verticalPixelRatio:i}){if(this.Vp.N().timeScale.borderVisible){e.fillStyle=this.Im();const n=Math.max(1,Math.floor(this.Rm().S*i));e.fillRect(0,0,s.width,n)}}dv(e){const s=this.Vp.Qt().Et(),i=s.Da();if(!i||i.length===0)return;const n=this.o_.maxTickMarkWeight(i),r=this.Rm(),o=s.N();o.borderVisible&&o.ticksVisible&&e.useBitmapCoordinateSpace(({context:l,horizontalPixelRatio:a,verticalPixelRatio:h})=>{l.strokeStyle=this.Im(),l.fillStyle=this.Im();const c=Math.max(1,Math.floor(a)),d=Math.floor(.5*a);l.beginPath();const f=Math.round(r.C*h);for(let p=i.length;p--;){const g=Math.round(i[p].coord*a);l.rect(g-d,0,c,f)}l.fill()}),e.useMediaCoordinateSpace(({context:l})=>{const a=r.S+r.C+r.A+r.P/2;l.textAlign="center",l.textBaseline="middle",l.fillStyle=this.H(),l.font=this.ev();for(const h of i)if(h.weight<n){const c=h.needAlignCoordinate?this.Em(l,h.coord,h.label):h.coord;l.fillText(h.label,c,a)}this.Vp.N().timeScale.allowBoldLabels&&(l.font=this.Am());for(const h of i)if(h.weight>=n){const c=h.needAlignCoordinate?this.Em(l,h.coord,h.label):h.coord;l.fillText(h.label,c,a)}})}Em(e,s,i){const n=this.Fp.Vi(e,i),r=n/2,o=Math.floor(s-r)+.5;return o<0?s+=Math.abs(0-o):o+n>this.Op.width&&(s-=Math.abs(this.Op.width-(o+n))),s}Bm(e,s){const i=this.Rm();for(const n of e)for(const r of n.cs())r.Tt().nt(s,i)}Im(){return this.Vp.N().timeScale.borderColor}H(){return this.Ps.textColor}F(){return this.Ps.fontSize}ev(){return vo(this.F(),this.Ps.fontFamily)}Am(){return vo(this.F(),this.Ps.fontFamily,"bold")}Rm(){this.M===null&&(this.M={S:1,L:NaN,A:NaN,V:NaN,Ji:NaN,C:5,P:NaN,k:"",Gi:new yo,Dm:0});const e=this.M,s=this.ev();if(e.k!==s){const i=this.F();e.P=i,e.k=s,e.A=3*i/12,e.V=3*i/12,e.Ji=9*i/12,e.L=0,e.Dm=4*i/12,e.Gi.Bn()}return this.M}vv(e){this.jf.style.cursor=e===1?"ew-resize":"default"}xm(){const e=this.Vp.Qt(),s=e.N();s.leftPriceScale.visible||this.pm===null||(this.Mm.removeChild(this.pm.Zf()),this.pm.m(),this.pm=null),s.rightPriceScale.visible||this.vm===null||(this.bm.removeChild(this.vm.Zf()),this.vm.m(),this.vm=null);const i={Bc:this.Vp.Qt().Bc()},n=()=>s.leftPriceScale.borderVisible&&e.Et().N().borderVisible,r=()=>e.Wc();s.leftPriceScale.visible&&this.pm===null&&(this.pm=new jd("left",s,i,n,r),this.Mm.appendChild(this.pm.Zf())),s.rightPriceScale.visible&&this.vm===null&&(this.vm=new jd("right",s,i,n,r),this.bm.appendChild(this.vm.Zf()))}}var tf;const _1=!!Ci&&!!navigator.userAgentData&&navigator.userAgentData.brands.some(t=>t.brand.includes("Chromium"))&&!!Ci&&((tf=navigator==null?void 0:navigator.userAgentData)!=null&&tf.platform?navigator.userAgentData.platform==="Windows":navigator.userAgent.toLowerCase().indexOf("win")>=0);class S1{constructor(e,s,i){var n;this.zm=[],this.Lm=[],this.Om=0,this.il=0,this.Mo=0,this.Nm=0,this.Fm=0,this.Wm=null,this.Hm=!1,this.xv=new ne,this.Cv=new ne,this.Xu=new ne,this.Um=null,this.$m=null,this.Dp=e,this.Ps=s,this.o_=i,this.kp=document.createElement("div"),this.kp.classList.add("tv-lightweight-charts"),this.kp.style.overflow="hidden",this.kp.style.direction="ltr",this.kp.style.width="100%",this.kp.style.height="100%",(n=this.kp).style.userSelect="none",n.style.webkitUserSelect="none",n.style.msUserSelect="none",n.style.MozUserSelect="none",n.style.webkitTapHighlightColor="transparent",this.qm=document.createElement("table"),this.qm.setAttribute("cellspacing","0"),this.kp.appendChild(this.qm),this.Ym=this.jm.bind(this),ql(this.Ps)&&this.Km(!0),this.ts=new l1(this.Gu.bind(this),this.Ps,i),this.Qt().cc().i(this.Xm.bind(this),this),this.Zm=new b1(this,this.o_),this.qm.appendChild(this.Zm.Zf());const r=s.autoSize&&this.Gm();let o=this.Ps.width,l=this.Ps.height;if(r||o===0||l===0){const a=e.getBoundingClientRect();o=o||a.width,l=l||a.height}this.Jm(o,l),this.Qm(),e.appendChild(this.kp),this.tw(),this.ts.Et().Iu().i(this.ts.Ih.bind(this.ts),this),this.ts.Vo().i(this.ts.Ih.bind(this.ts),this)}Qt(){return this.ts}N(){return this.Ps}$f(){return this.zm}iw(){return this.Zm}m(){this.Km(!1),this.Om!==0&&window.cancelAnimationFrame(this.Om),this.ts.cc().u(this),this.ts.Et().Iu().u(this),this.ts.Vo().u(this),this.ts.m();for(const e of this.zm)this.qm.removeChild(e.Zf()),e.Xv().u(this),e.Zv().u(this),e.m();this.zm=[];for(const e of this.Lm)this.sw(e);this.Lm=[],E(this.Zm).m(),this.kp.parentElement!==null&&this.kp.parentElement.removeChild(this.kp),this.Xu.m(),this.xv.m(),this.Cv.m(),this.nw()}Jm(e,s,i=!1){if(this.il===s&&this.Mo===e)return;const n=function(l){const a=Math.floor(l.width),h=Math.floor(l.height);return W({width:a-a%2,height:h-h%2})}(W({width:e,height:s}));this.il=n.height,this.Mo=n.width;const r=this.il+"px",o=this.Mo+"px";E(this.kp).style.height=r,E(this.kp).style.width=o,this.qm.style.height=r,this.qm.style.width=o,i?this.ew(me.gn(),performance.now()):this.ts.Ih()}lv(e){e===void 0&&(e=me.gn());for(let s=0;s<this.zm.length;s++)this.zm[s].lv(e.en(s).tn);this.Ps.timeScale.visible&&this.Zm.lv(e.nn())}hr(e){var n;const s=ql(this.Ps);this.ts.hr(e);const i=ql(this.Ps);i!==s&&this.Km(i),(n=e.layout)!=null&&n.panes&&this.rw(),this.tw(),this.hw(e)}Xv(){return this.xv}Zv(){return this.Cv}cc(){return this.Xu}aw(e=!1){this.Wm!==null&&(this.ew(this.Wm,performance.now()),this.Wm=null);const s=this.lw(null),i=document.createElement("canvas");i.width=s.width,i.height=s.height;const n=E(i.getContext("2d"));return this.lw(n,e),i}ow(e){return e==="left"&&!this._w()||e==="right"&&!this.uw()||this.zm.length===0?0:E(e==="left"?this.zm[0].nm():this.zm[0].rm()).av()}cw(){return this.Ps.autoSize&&this.Um!==null}ip(){return this.kp}dw(e){this.$m=e,this.$m?this.ip().style.setProperty("cursor",e):this.ip().style.removeProperty("cursor")}fw(){return this.$m}pw(e){return $e(this.zm[e]).Gf()}rw(){this.Lm.forEach(e=>{e.yt()})}hw(e){(e.autoSize!==void 0||!this.Um||e.width===void 0&&e.height===void 0)&&(e.autoSize&&!this.Um&&this.Gm(),e.autoSize===!1&&this.Um!==null&&this.nw(),e.autoSize||e.width===void 0&&e.height===void 0||this.Jm(e.width||this.Mo,e.height||this.il))}lw(e,s){let i=0,n=0;const r=this.zm[0],o=(a,h)=>{let c=0;for(let d=0;d<this.zm.length;d++){const f=this.zm[d],p=E(a==="left"?f.nm():f.rm()),g=p.Jf();if(e!==null&&p.Qf(e,h,c,s),c+=g.height,d<this.zm.length-1){const x=this.Lm[d],w=x.Jf();e!==null&&x.Qf(e,h,c),c+=w.height}}};this._w()&&(o("left",0),i+=E(r.nm()).Jf().width);for(let a=0;a<this.zm.length;a++){const h=this.zm[a],c=h.Jf();if(e!==null&&h.Qf(e,i,n,s),n+=c.height,a<this.zm.length-1){const d=this.Lm[a],f=d.Jf();e!==null&&d.Qf(e,i,n),n+=f.height}}i+=r.Jf().width,this.uw()&&(o("right",i),i+=E(r.rm()).Jf().width);const l=(a,h,c)=>{E(a==="left"?this.Zm.Cm():this.Zm.Pm()).Qf(E(e),h,c)};if(this.Ps.timeScale.visible){const a=this.Zm.Jf();if(e!==null){let h=0;this._w()&&(l("left",h,n),h=E(r.nm()).Jf().width),this.Zm.Qf(e,h,n,s),h+=a.width,this.uw()&&l("right",h,n)}n+=a.height}return W({width:i,height:n})}mw(){let e=0,s=0,i=0;for(const w of this.zm)this._w()&&(s=Math.max(s,E(w.nm()).nv(),this.Ps.leftPriceScale.minimumWidth)),this.uw()&&(i=Math.max(i,E(w.rm()).nv(),this.Ps.rightPriceScale.minimumWidth)),e+=w.Bo();s=tu(s),i=tu(i);const n=this.Mo,r=this.il,o=Math.max(n-s-i,0),l=1*this.Lm.length,a=this.Ps.timeScale.visible;let h=a?Math.max(this.Zm.Tm(),this.Ps.timeScale.minimumHeight):0;var c;h=(c=h)+c%2;const d=l+h,f=r<d?0:r-d,p=f/e;let g=0;const x=window.devicePixelRatio||1;for(let w=0;w<this.zm.length;++w){const v=this.zm[w];v.Lv(this.ts.$s()[w]);let y=0,m=0;m=w===this.zm.length-1?Math.ceil((f-g)*x)/x:Math.round(v.Bo()*p*x)/x,y=Math.max(m,2),g+=y,v.hv(W({width:o,height:y})),this._w()&&v.Jv(s,"left"),this.uw()&&v.Jv(i,"right"),v.ap()&&this.ts.dc(v.ap(),y)}this.Zm.km(W({width:a?o:0,height:h}),a?s:0,a?i:0),this.ts.Eo(o),this.Nm!==s&&(this.Nm=s),this.Fm!==i&&(this.Fm=i)}Km(e){e?this.kp.addEventListener("wheel",this.Ym,{passive:!1}):this.kp.removeEventListener("wheel",this.Ym)}ww(e){switch(e.deltaMode){case e.DOM_DELTA_PAGE:return 120;case e.DOM_DELTA_LINE:return 32}return _1?1/window.devicePixelRatio:1}jm(e){if(!(e.deltaX!==0&&this.Ps.handleScroll.mouseWheel||e.deltaY!==0&&this.Ps.handleScale.mouseWheel))return;const s=this.ww(e),i=s*e.deltaX/100,n=-s*e.deltaY/100;if(e.cancelable&&e.preventDefault(),n!==0&&this.Ps.handleScale.mouseWheel){const r=Math.sign(n)*Math.min(1,Math.abs(n)),o=e.clientX-this.kp.getBoundingClientRect().left;this.Qt().bc(o,r)}i!==0&&this.Ps.handleScroll.mouseWheel&&this.Qt().Sc(-80*i)}ew(e,s){var n;const i=e.nn();i===3&&this.gw(),i!==3&&i!==2||(this.Mw(e),this.bw(e,s),this.Zm.yt(),this.zm.forEach(r=>{r.Nv()}),((n=this.Wm)==null?void 0:n.nn())===3&&(this.Wm.vn(e),this.gw(),this.Mw(this.Wm),this.bw(this.Wm,s),e=this.Wm,this.Wm=null)),this.lv(e)}bw(e,s){for(const i of e.pn())this.mn(i,s)}Mw(e){const s=this.ts.$s();for(let i=0;i<s.length;i++)e.en(i).sn&&s[i].Go()}mn(e,s){const i=this.ts.Et();switch(e.an){case 0:i.Au();break;case 1:i.zu(e.Wt);break;case 2:i.dn(e.Wt);break;case 3:i.fn(e.Wt);break;case 4:i.Su();break;case 5:e.Wt.Ru(s)||i.fn(e.Wt.Du(s))}}Gu(e){this.Wm!==null?this.Wm.vn(e):this.Wm=e,this.Hm||(this.Hm=!0,this.Om=window.requestAnimationFrame(s=>{if(this.Hm=!1,this.Om=0,this.Wm!==null){const i=this.Wm;this.Wm=null,this.ew(i,s);for(const n of i.pn())if(n.an===5&&!n.Wt.Ru(s)){this.Qt()._n(n.Wt);break}}}))}gw(){this.Qm()}sw(e){this.qm.removeChild(e.Zf()),e.m()}Qm(){const e=this.ts.$s(),s=e.length,i=this.zm.length;for(let n=s;n<i;n++){const r=$e(this.zm.pop());this.qm.removeChild(r.Zf()),r.Xv().u(this),r.Zv().u(this),r.m();const o=this.Lm.pop();o!==void 0&&this.sw(o)}for(let n=i;n<s;n++){const r=new xh(this,e[n]);if(r.Xv().i(this.Sw.bind(this,r),this),r.Zv().i(this.xw.bind(this,r),this),this.zm.push(r),n>0){const o=new f1(this,n-1,n);this.Lm.push(o),this.qm.insertBefore(o.Zf(),this.Zm.Zf())}this.qm.insertBefore(r.Zf(),this.Zm.Zf())}for(let n=0;n<s;n++){const r=e[n],o=this.zm[n];o.ap()!==r?o.Lv(r):o.zv()}this.tw(),this.mw()}Cw(e,s,i,n){var d;const r=new Map;e!==null&&this.ts.js().forEach(f=>{const p=f.Xs().Fr(e);p!==null&&r.set(f,p)});let o;if(e!==null){const f=(d=this.ts.Et().ss(e))==null?void 0:d.originalTime;f!==void 0&&(o=f)}const l=this.Qt().ac(),a=l!==null&&l.n_ instanceof Yo?l.n_:void 0,h=l!==null&&l.e_!==void 0?l.e_.Kn:void 0,c=this.Pw(n);return{yw:o,Re:e??void 0,kw:s??void 0,Tw:c!==-1?c:void 0,Rw:a,Dw:r,Vw:h,Bw:i??void 0}}Pw(e){let s=-1;if(e)s=this.zm.indexOf(e);else{const i=this.Qt().uc().Us();i!==null&&(s=this.Qt().$s().indexOf(i))}return s}Sw(e,s,i,n){this.xv.p(()=>this.Cw(s,i,n,e))}xw(e,s,i,n){this.Cv.p(()=>this.Cw(s,i,n,e))}Xm(e,s,i){var n;this.dw(((n=this.Qt().ac())==null?void 0:n.h_)??null),this.Xu.p(()=>this.Cw(e,s,i))}tw(){const e=this.Ps.timeScale.visible?"":"none";this.Zm.Zf().style.display=e}_w(){return this.zm[0].ap().Wo().N().visible}uw(){return this.zm[0].ap().Ho().N().visible}Gm(){return"ResizeObserver"in window&&(this.Um=new ResizeObserver(e=>{const s=e[e.length-1];s&&this.Jm(s.contentRect.width,s.contentRect.height)}),this.Um.observe(this.Dp,{box:"border-box"}),!0)}nw(){this.Um!==null&&this.Um.disconnect(),this.Um=null}}function ql(t){return!!(t.handleScroll.mouseWheel||t.handleScale.mouseWheel)}function k1(t){return t.open===void 0&&t.value===void 0}function j1(t){return function(e){return e.open!==void 0}(t)||function(e){return e.value!==void 0}(t)}function Nd(t,e,s,i){const n=s.value,r={Re:e,wt:t,Wt:[n,n,n,n],yw:i};return s.color!==void 0&&(r.R=s.color),r}function N1(t,e,s,i){const n=s.value,r={Re:e,wt:t,Wt:[n,n,n,n],yw:i};return s.lineColor!==void 0&&(r.vt=s.lineColor),s.topColor!==void 0&&(r.mr=s.topColor),s.bottomColor!==void 0&&(r.wr=s.bottomColor),r}function E1(t,e,s,i){const n=s.value,r={Re:e,wt:t,Wt:[n,n,n,n],yw:i};return s.topLineColor!==void 0&&(r.gr=s.topLineColor),s.bottomLineColor!==void 0&&(r.Mr=s.bottomLineColor),s.topFillColor1!==void 0&&(r.br=s.topFillColor1),s.topFillColor2!==void 0&&(r.Sr=s.topFillColor2),s.bottomFillColor1!==void 0&&(r.Cr=s.bottomFillColor1),s.bottomFillColor2!==void 0&&(r.Pr=s.bottomFillColor2),r}function C1(t,e,s,i){const n={Re:e,wt:t,Wt:[s.open,s.high,s.low,s.close],yw:i};return s.color!==void 0&&(n.R=s.color),n}function P1(t,e,s,i){const n={Re:e,wt:t,Wt:[s.open,s.high,s.low,s.close],yw:i};return s.color!==void 0&&(n.R=s.color),s.borderColor!==void 0&&(n.Ht=s.borderColor),s.wickColor!==void 0&&(n.vr=s.wickColor),n}function T1(t,e,s,i,n){const r=$e(n)(s),o=Math.max(...r),l=Math.min(...r),a=r[r.length-1],h=[a,o,l,a],{time:c,color:d,...f}=s;return{Re:e,wt:t,Wt:h,yw:i,se:f,R:d}}function Qi(t){return t.Wt!==void 0}function Ed(t,e){return e.customValues!==void 0&&(t.Iw=e.customValues),t}function gs(t){return(e,s,i,n,r,o)=>function(l,a){return a?a(l):k1(l)}(i,o)?Ed({wt:e,Re:s,yw:n},i):Ed(t(e,s,i,n,r),i)}function Cd(t){return{Candlestick:gs(P1),Bar:gs(C1),Area:gs(N1),Baseline:gs(E1),Histogram:gs(Nd),Line:gs(Nd),Custom:gs(T1)}[t]}function Pd(t){return{Re:0,Ew:new Map,Hh:t}}function Td(t,e){if(t!==void 0&&t.length!==0)return{Aw:e.key(t[0].wt),zw:e.key(t[t.length-1].wt)}}function Rd(t){let e;return t.forEach(s=>{e===void 0&&(e=s.yw)}),$e(e)}class R1{constructor(e){this.Lw=new Map,this.Ow=new Map,this.Nw=new Map,this.Fw=[],this.o_=e}m(){this.Lw.clear(),this.Ow.clear(),this.Nw.clear(),this.Fw=[]}Ww(e,s){let i=this.Lw.size!==0,n=!1;const r=this.Ow.get(e);if(r!==void 0)if(this.Ow.size===1)i=!1,n=!0,this.Lw.clear();else for(const a of this.Fw)a.pointData.Ew.delete(e)&&(n=!0);let o=[];if(s.length!==0){const a=s.map(p=>p.time),h=this.o_.createConverterToInternalObj(s),c=Cd(e.Rr()),d=e.ca(),f=e.fa();o=s.map((p,g)=>{const x=h(p.time),w=this.o_.key(x);let v=this.Lw.get(w);v===void 0&&(v=Pd(x),this.Lw.set(w,v),n=!0);const y=c(x,v.Re,p,a[g],d,f);return v.Ew.set(e,y),y})}i&&this.Hw(),this.Uw(e,o);let l=-1;if(n){const a=[];this.Lw.forEach(h=>{a.push({timeWeight:0,time:h.Hh,pointData:h,originalTime:Rd(h.Ew)})}),a.sort((h,c)=>this.o_.key(h.time)-this.o_.key(c.time)),l=this.$w(a)}return this.qw(e,l,function(a,h,c){const d=Td(a,c),f=Td(h,c);if(d!==void 0&&f!==void 0)return{Yw:!1,zh:d.zw>=f.zw&&d.Aw>=f.Aw}}(this.Ow.get(e),r,this.o_))}Ac(e){return this.Ww(e,[])}jw(e,s,i){const n=s;(function(w){w.yw===void 0&&(w.yw=w.time)})(n),this.o_.preprocessData(s);const r=this.o_.createConverterToInternalObj([s])(s.time),o=this.Nw.get(e);if(!i&&o!==void 0&&this.o_.key(r)<this.o_.key(o))throw new Error(`Cannot update oldest data, last time=${o}, new time=${r}`);let l=this.Lw.get(this.o_.key(r));if(i&&l===void 0)throw new Error("Cannot update non-existing data point when historicalUpdate is true");const a=l===void 0;l===void 0&&(l=Pd(r),this.Lw.set(this.o_.key(r),l));const h=Cd(e.Rr()),c=e.ca(),d=e.fa(),f=h(r,l.Re,s,n.yw,c,d);l.Ew.set(e,f),i?this.Kw(e,f,l.Re):this.Xw(e,f);const p={zh:Qi(f),Yw:i};if(!a)return this.qw(e,-1,p);const g={timeWeight:0,time:l.Hh,pointData:l,originalTime:Rd(l.Ew)},x=Ei(this.Fw,this.o_.key(g.time),(w,v)=>this.o_.key(w.time)<v);this.Fw.splice(x,0,g);for(let w=x;w<this.Fw.length;++w)Sr(this.Fw[w].pointData,w);return this.o_.fillWeightsForPoints(this.Fw,x),this.qw(e,x,p)}Zw(e,s){const i=this.Ow.get(e);if(i===void 0||s<=0)return[[],this.Gw()];s=Math.min(s,i.length);const n=i.splice(-s).reverse();i.length===0?this.Nw.delete(e):this.Nw.set(e,i[i.length-1].wt);for(const r of n){const o=this.Lw.get(this.o_.key(r.wt));if(o&&(o.Ew.delete(e),o.Ew.size===0)){this.Lw.delete(this.o_.key(o.Hh)),this.Fw.splice(o.Re,1);for(let l=o.Re;l<this.Fw.length;++l)Sr(this.Fw[l].pointData,l)}}return[n,this.qw(e,this.Fw.length-1,{Yw:!1,zh:!1})]}Xw(e,s){let i=this.Ow.get(e);i===void 0&&(i=[],this.Ow.set(e,i));const n=i.length!==0?i[i.length-1]:null;n===null||this.o_.key(s.wt)>this.o_.key(n.wt)?Qi(s)&&i.push(s):Qi(s)?i[i.length-1]=s:i.splice(-1,1),this.Nw.set(e,s.wt)}Kw(e,s,i){const n=this.Ow.get(e);if(n===void 0)return;const r=Ei(n,i,(o,l)=>o.Re<l);Qi(s)?n[r]=s:n.splice(r,1)}Uw(e,s){s.length!==0?(this.Ow.set(e,s.filter(Qi)),this.Nw.set(e,s[s.length-1].wt)):(this.Ow.delete(e),this.Nw.delete(e))}Hw(){for(const e of this.Fw)e.pointData.Ew.size===0&&this.Lw.delete(this.o_.key(e.time))}$w(e){let s=-1;for(let i=0;i<this.Fw.length&&i<e.length;++i){const n=this.Fw[i],r=e[i];if(this.o_.key(n.time)!==this.o_.key(r.time)){s=i;break}r.timeWeight=n.timeWeight,Sr(r.pointData,i)}if(s===-1&&this.Fw.length!==e.length&&(s=Math.min(this.Fw.length,e.length)),s===-1)return-1;for(let i=s;i<e.length;++i)Sr(e[i].pointData,i);return this.o_.fillWeightsForPoints(e,s),this.Fw=e,s}Jw(){if(this.Ow.size===0)return null;let e=0;return this.Ow.forEach(s=>{s.length!==0&&(e=Math.max(e,s[s.length-1].Re))}),e}qw(e,s,i){const n=this.Gw();if(s!==-1)this.Ow.forEach((r,o)=>{n.Oo.set(o,{se:r,Qw:o===e?i:void 0})}),this.Ow.has(e)||n.Oo.set(e,{se:[],Qw:i}),n.Et.tg=this.Fw,n.Et.ig=s;else{const r=this.Ow.get(e);n.Oo.set(e,{se:r||[],Qw:i})}return n}Gw(){return{Oo:new Map,Et:{_u:this.Jw()}}}}function Sr(t,e){t.Re=e,t.Ew.forEach(s=>{s.Re=e})}function M1(t,e){return t.wt<e}function O1(t,e){return e<t.wt}function L1(t,e,s){const i=e.Uh(),n=e.bi(),r=Ei(t,i,M1),o=qm(t,n,O1);if(!s)return{from:r,to:o};let l=r,a=o;return r>0&&r<t.length&&t[r].wt>=i&&(l=r-1),o>0&&o<t.length&&t[o-1].wt<=n&&(a=o+1),{from:l,to:a}}class Xm{constructor(e,s,i){this.sg=!0,this.ng=!0,this.eg=!0,this.rg=[],this.hg=null,this.Jn=e,this.Qn=s,this.ag=i}yt(e){this.sg=!0,e==="data"&&(this.ng=!0),e==="options"&&(this.eg=!0)}Tt(){return this.Jn.Vt()?(this.lg(),this.hg===null?null:this.og):null}_g(){this.rg=this.rg.map(e=>({...e,...this.Jn.Rh().Dr(e.wt)}))}ug(){this.hg=null}lg(){this.ng&&(this.cg(),this.ng=!1),this.eg&&(this._g(),this.eg=!1),this.sg&&(this.dg(),this.sg=!1)}dg(){const e=this.Jn.Ft(),s=this.Qn.Et();if(this.ug(),s.Ki()||e.Ki())return;const i=s.Pe();if(i===null||this.Jn.Xs().zr()===0)return;const n=this.Jn.zt();n!==null&&(this.hg=L1(this.rg,i,this.ag),this.fg(e,s,n.Wt),this.pg())}}class I1{constructor(e,s){this.vg=e,this.Yi=s}nt(e,s,i){this.vg.draw(e,this.Yi,s,i)}}class $1 extends Xm{constructor(e,s,i){super(e,s,!1),this.sh=i,this.og=new I1(this.sh.renderer(),n=>{const r=e.zt();return r===null?null:e.Ft().Nt(n,r.Wt)})}da(e){return this.sh.priceValueBuilder(e)}pa(e){return this.sh.isWhitespace(e)}cg(){const e=this.Jn.Rh();this.rg=this.Jn.Xs().Hr().map(s=>({wt:s.Re,_t:NaN,...e.Dr(s.Re),mg:s.se}))}fg(e,s){s.uu(this.rg,Za(this.hg))}pg(){this.sh.update({bars:this.rg.map(A1),barSpacing:this.Qn.Et().mu(),visibleRange:this.hg},this.Jn.N())}}function A1(t){return{x:t._t,time:t.wt,originalData:t.mg,barColor:t.cr}}const z1={color:"#2196f3"},F1=(t,e,s)=>{const i=Zt(s);return new $1(t,e,i)};function bh(t){const e={value:t.Wt[3],time:t.yw};return t.Iw!==void 0&&(e.customValues=t.Iw),e}function Md(t){const e=bh(t);return t.R!==void 0&&(e.color=t.R),e}function D1(t){const e=bh(t);return t.vt!==void 0&&(e.lineColor=t.vt),t.mr!==void 0&&(e.topColor=t.mr),t.wr!==void 0&&(e.bottomColor=t.wr),e}function U1(t){const e=bh(t);return t.gr!==void 0&&(e.topLineColor=t.gr),t.Mr!==void 0&&(e.bottomLineColor=t.Mr),t.br!==void 0&&(e.topFillColor1=t.br),t.Sr!==void 0&&(e.topFillColor2=t.Sr),t.Cr!==void 0&&(e.bottomFillColor1=t.Cr),t.Pr!==void 0&&(e.bottomFillColor2=t.Pr),e}function eg(t){const e={open:t.Wt[0],high:t.Wt[1],low:t.Wt[2],close:t.Wt[3],time:t.yw};return t.Iw!==void 0&&(e.customValues=t.Iw),e}function B1(t){const e=eg(t);return t.R!==void 0&&(e.color=t.R),e}function V1(t){const e=eg(t),{R:s,Ht:i,vr:n}=t;return s!==void 0&&(e.color=s),i!==void 0&&(e.borderColor=i),n!==void 0&&(e.wickColor=n),e}function Vr(t){return{Area:D1,Line:Md,Baseline:U1,Histogram:Md,Bar:B1,Candlestick:V1,Custom:W1}[t]}function W1(t){const e=t.yw;return{...t.se,time:e}}const q1={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1},H1={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},Y1={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:Am,panes:{enableResize:!0,separatorColor:"#E0E3EB",separatorHoverColor:"rgba(178, 181, 189, 0.2)"},attributionLogo:!0,colorSpace:"srgb",colorParsers:[]},Hl={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0,ensureEdgeTickMarksVisible:!1},J1={rightOffset:0,barSpacing:6,minBarSpacing:.5,maxBarSpacing:0,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0,ignoreWhitespaceIndices:!1};function Od(){return{addDefaultPane:!0,width:0,height:0,autoSize:!1,layout:Y1,crosshair:q1,grid:H1,overlayPriceScales:{...Hl},leftPriceScale:{...Hl,visible:!1},rightPriceScale:{...Hl,visible:!0},timeScale:J1,localization:{locale:Ci?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class tg{constructor(e,s,i){this.Hf=e,this.wg=s,this.gg=i??0}applyOptions(e){this.Hf.Qt().oc(this.wg,e,this.gg)}options(){return this.Yi().N()}width(){return qo(this.wg)?this.Hf.ow(this.wg):0}setVisibleRange(e){this.setAutoScale(!1),this.Yi().Fl(new Ee(e.from,e.to))}getVisibleRange(){let e,s,i=this.Yi().Qe();if(i===null)return null;if(this.Yi().Ja()){const n=this.Yi().fo(),r=Qm(n);i=hi(i,this.Yi().tl()),e=Number((Math.round(i.$e()/n)*n).toFixed(r)),s=Number((Math.round(i.qe()/n)*n).toFixed(r))}else e=i.$e(),s=i.qe();return{from:e,to:s}}setAutoScale(e){this.applyOptions({autoScale:e})}Yi(){return E(this.Hf.Qt()._c(this.wg,this.gg)).Ft}}class G1{constructor(e,s,i,n){this.Hf=e,this.Pt=i,this.Mg=s,this.bg=n}getHeight(){return this.Pt.$t()}setHeight(e){const s=this.Hf.Qt(),i=s.Uc(this.Pt);s.vc(i,e)}getStretchFactor(){return this.Pt.Bo()}setStretchFactor(e){this.Pt.Io(e),this.Hf.Qt().Ih()}paneIndex(){return this.Hf.Qt().Uc(this.Pt)}moveTo(e){const s=this.paneIndex();s!==e&&(ge(e>=0&&e<this.Hf.$f().length,"Invalid pane index"),this.Hf.Qt().wc(s,e))}getSeries(){return this.Pt.Oo().map(e=>this.Mg(e))??[]}getHTMLElement(){const e=this.Hf.$f();return e&&e.length!==0&&e[this.paneIndex()]?e[this.paneIndex()].Zf():null}attachPrimitive(e){this.Pt._a(e),e.attached&&e.attached({chart:this.bg,requestUpdate:()=>this.Pt.Qt().Ih()})}detachPrimitive(e){this.Pt.ua(e)}priceScale(e){if(this.Pt.Do(e)===null)throw new Error(`Cannot find price scale with id: ${e}`);return new tg(this.Hf,e,this.paneIndex())}setPreserveEmptyPane(e){this.Pt.zo(e)}preserveEmptyPane(){return this.Pt.Lo()}addCustomSeries(e,s={},i=0){return this.bg.addCustomSeries(e,s,i)}addSeries(e,s={}){return this.bg.addSeries(e,s,this.paneIndex())}}const Q1={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class Ld{constructor(e){this.ir=e}applyOptions(e){this.ir.hr(e)}options(){return this.ir.N()}Sg(){return this.ir}}class K1{constructor(e,s,i,n,r,o){this.xg=new ne,this.Jn=e,this.Cg=s,this.Pg=i,this.o_=r,this.bg=n,this.yg=o}m(){this.xg.m()}priceFormatter(){return this.Jn.ea()}priceToCoordinate(e){const s=this.Jn.zt();return s===null?null:this.Jn.Ft().Nt(e,s.Wt)}coordinateToPrice(e){const s=this.Jn.zt();return s===null?null:this.Jn.Ft().Ts(e,s.Wt)}barsInLogicalRange(e){if(e===null)return null;const s=new vi(new gn(e.from,e.to)).y_(),i=this.Jn.Xs();if(i.Ki())return null;const n=i.Fr(s.Uh(),1),r=i.Fr(s.bi(),-1),o=E(i.Lr()),l=E(i.Ks());if(n!==null&&r!==null&&n.Re>r.Re)return{barsBefore:e.from-o,barsAfter:l-e.to};const a={barsBefore:n===null||n.Re===o?e.from-o:n.Re-o,barsAfter:r===null||r.Re===l?l-e.to:l-r.Re};return n!==null&&r!==null&&(a.from=n.yw,a.to=r.yw),a}setData(e){this.o_,this.Jn.Rr(),this.Cg.kg(this.Jn,e),this.Tg("full")}update(e,s=!1){this.Jn.Rr(),this.Cg.Rg(this.Jn,e,s),this.Tg("update")}pop(e=1){const s=this.Cg.Dg(this.Jn,e);s.length!==0&&this.Tg("update");const i=Vr(this.seriesType());return s.map(n=>i(n))}dataByIndex(e,s){const i=this.Jn.Xs().Fr(e,s);return i===null?null:Vr(this.seriesType())(i)}data(){const e=Vr(this.seriesType());return this.Jn.Xs().Hr().map(s=>e(s))}subscribeDataChanged(e){this.xg.i(e)}unsubscribeDataChanged(e){this.xg._(e)}applyOptions(e){this.Jn.hr(e)}options(){return Ct(this.Jn.N())}priceScale(){return this.Pg.priceScale(this.Jn.Ft().ma(),this.getPane().paneIndex())}createPriceLine(e){const s=De(Ct(Q1),e),i=this.Jn.Oh(s);return new Ld(i)}removePriceLine(e){this.Jn.Nh(e.Sg())}priceLines(){return this.Jn.Fh().map(e=>new Ld(e))}seriesType(){return this.Jn.Rr()}lastValueData(e){const s=this.Jn.ye(e);return s.ke?{noData:!0}:{noData:!1,price:s.gt,color:s.R}}attachPrimitive(e){this.Jn._a(e),e.attached&&e.attached({chart:this.bg,series:this,requestUpdate:()=>this.Jn.Qt().Ih(),horzScaleBehavior:this.o_})}detachPrimitive(e){this.Jn.ua(e),e.detached&&e.detached(),this.Jn.Qt().Ih()}getPane(){const e=this.Jn,s=E(this.Jn.Qt().Hn(e));return this.yg(s)}moveToPane(e){this.Jn.Qt().Nc(this.Jn,e)}seriesOrder(){const e=this.Jn.Qt().Hn(this.Jn);return e===null?-1:e.Oo().indexOf(this.Jn)}setSeriesOrder(e){const s=this.Jn.Qt().Hn(this.Jn);s!==null&&s.Qo(this.Jn,e)}Tg(e){this.xg.v()&&this.xg.p(e)}}class Z1{constructor(e,s,i){this.Vg=new ne,this.z_=new ne,this.gm=new ne,this.ts=e,this.uh=e.Et(),this.Zm=s,this.uh.Vu().i(this.Bg.bind(this)),this.uh.Bu().i(this.Ig.bind(this)),this.Zm.ym().i(this.Eg.bind(this)),this.o_=i}m(){this.uh.Vu().u(this),this.uh.Bu().u(this),this.Zm.ym().u(this),this.Vg.m(),this.z_.m(),this.gm.m()}scrollPosition(){return this.uh.gu()}scrollToPosition(e,s){s?this.uh.Tu(e,1e3):this.ts.fn(e)}scrollToRealTime(){this.uh.ku()}getVisibleRange(){const e=this.uh.nu();return e===null?null:{from:e.from.originalTime,to:e.to.originalTime}}setVisibleRange(e){const s={from:this.o_.convertHorzItemToInternal(e.from),to:this.o_.convertHorzItemToInternal(e.to)},i=this.uh.au(s);this.ts.Lc(i)}getVisibleLogicalRange(){const e=this.uh.su();return e===null?null:{from:e.Uh(),to:e.bi()}}setVisibleLogicalRange(e){ge(e.from<=e.to,"The from index cannot be after the to index."),this.ts.Lc(e)}resetTimeScale(){this.ts.cn()}fitContent(){this.ts.Au()}logicalToCoordinate(e){const s=this.ts.Et();return s.Ki()?null:s.qt(e)}coordinateToLogical(e){return this.uh.Ki()?null:this.uh.cu(e)}timeToIndex(e,s){const i=this.o_.convertHorzItemToInternal(e);return this.uh.Q_(i,s)}timeToCoordinate(e){const s=this.timeToIndex(e,!1);return s===null?null:this.uh.qt(s)}coordinateToTime(e){const s=this.ts.Et(),i=s.cu(e),n=s.ss(i);return n===null?null:n.originalTime}width(){return this.Zm.Gf().width}height(){return this.Zm.Gf().height}subscribeVisibleTimeRangeChange(e){this.Vg.i(e)}unsubscribeVisibleTimeRangeChange(e){this.Vg._(e)}subscribeVisibleLogicalRangeChange(e){this.z_.i(e)}unsubscribeVisibleLogicalRangeChange(e){this.z_._(e)}subscribeSizeChange(e){this.gm.i(e)}unsubscribeSizeChange(e){this.gm._(e)}applyOptions(e){this.uh.hr(e)}options(){return{...Ct(this.uh.N()),barSpacing:this.uh.mu()}}Bg(){this.Vg.v()&&this.Vg.p(this.getVisibleRange())}Ig(){this.z_.v()&&this.z_.p(this.getVisibleLogicalRange())}Eg(e){this.gm.p(e.width,e.height)}}function Id(t){return function(e){if(gr(e.handleScale)){const i=e.handleScale;e.handleScale={axisDoubleClickReset:{time:i,price:i},axisPressedMouseMove:{time:i,price:i},mouseWheel:i,pinch:i}}else if(e.handleScale!==void 0){const{axisPressedMouseMove:i,axisDoubleClickReset:n}=e.handleScale;gr(i)&&(e.handleScale.axisPressedMouseMove={time:i,price:i}),gr(n)&&(e.handleScale.axisDoubleClickReset={time:n,price:n})}const s=e.handleScroll;gr(s)&&(e.handleScroll={horzTouchDrag:s,vertTouchDrag:s,mouseWheel:s,pressedMouseMove:s})}(t),t}class X1{constructor(e,s,i){this.Ag=new Map,this.zg=new Map,this.Lg=new ne,this.Og=new ne,this.Ng=new ne,this.qu=new WeakMap,this.Fg=new R1(s);const n=i===void 0?Ct(Od()):De(Ct(Od()),Id(i));this.Wg=s,this.Hf=new S1(e,n,s),this.Hf.Xv().i(o=>{this.Lg.v()&&this.Lg.p(this.Hg(o()))},this),this.Hf.Zv().i(o=>{this.Og.v()&&this.Og.p(this.Hg(o()))},this),this.Hf.cc().i(o=>{this.Ng.v()&&this.Ng.p(this.Hg(o()))},this);const r=this.Hf.Qt();this.Ug=new Z1(r,this.Hf.iw(),this.Wg)}remove(){this.Hf.Xv().u(this),this.Hf.Zv().u(this),this.Hf.cc().u(this),this.Ug.m(),this.Hf.m(),this.Ag.clear(),this.zg.clear(),this.Lg.m(),this.Og.m(),this.Ng.m(),this.Fg.m()}resize(e,s,i){this.autoSizeActive()||this.Hf.Jm(e,s,i)}addCustomSeries(e,s={},i=0){const n=(r=>({type:"Custom",isBuiltIn:!1,defaultOptions:{...z1,...r.defaultOptions()},$g:F1,qg:r}))(Zt(e));return this.Yg(n,s,i)}addSeries(e,s={},i=0){return this.Yg(e,s,i)}removeSeries(e){const s=$e(this.Ag.get(e)),i=this.Fg.Ac(s);this.Hf.Qt().Ac(s),this.jg(i),this.Ag.delete(e),this.zg.delete(s)}kg(e,s){this.jg(this.Fg.Ww(e,s))}Rg(e,s,i){this.jg(this.Fg.jw(e,s,i))}Dg(e,s){const[i,n]=this.Fg.Zw(e,s);return i.length!==0&&this.jg(n),i}subscribeClick(e){this.Lg.i(e)}unsubscribeClick(e){this.Lg._(e)}subscribeCrosshairMove(e){this.Ng.i(e)}unsubscribeCrosshairMove(e){this.Ng._(e)}subscribeDblClick(e){this.Og.i(e)}unsubscribeDblClick(e){this.Og._(e)}priceScale(e,s=0){return new tg(this.Hf,e,s)}timeScale(){return this.Ug}applyOptions(e){this.Hf.hr(Id(e))}options(){return this.Hf.N()}takeScreenshot(e=!1,s=!1){let i,n;try{s||(i=this.Hf.Qt().N().crosshair.mode,this.Hf.hr({crosshair:{mode:2}})),n=this.Hf.aw(e)}finally{s||i===void 0||this.Hf.Qt().hr({crosshair:{mode:i}})}return n}addPane(e=!1){const s=this.Hf.Qt().$c();return s.zo(e),this.Kg(s)}removePane(e){this.Hf.Qt().fc(e)}swapPanes(e,s){this.Hf.Qt().mc(e,s)}autoSizeActive(){return this.Hf.cw()}chartElement(){return this.Hf.ip()}panes(){return this.Hf.Qt().$s().map(e=>this.Kg(e))}paneSize(e=0){const s=this.Hf.pw(e);return{height:s.height,width:s.width}}setCrosshairPosition(e,s,i){const n=this.Ag.get(i);if(n===void 0)return;const r=this.Hf.Qt().Hn(n);r!==null&&this.Hf.Qt().Rc(e,s,r)}clearCrosshairPosition(){this.Hf.Qt().Dc(!0)}horzBehaviour(){return this.Wg}Yg(e,s={},i=0){ge(e.$g!==void 0),function(a){if(a===void 0||a.type==="custom")return;const h=a;h.minMove!==void 0&&h.precision===void 0&&(h.precision=Qm(h.minMove))}(s.priceFormat),e.type==="Candlestick"&&function(a){a.borderColor!==void 0&&(a.borderUpColor=a.borderColor,a.borderDownColor=a.borderColor),a.wickColor!==void 0&&(a.wickUpColor=a.wickColor,a.wickDownColor=a.wickColor)}(s);const n=De(Ct(Im),Ct(e.defaultOptions),s),r=e.$g,o=new Yo(this.Hf.Qt(),e.type,n,r,e.qg);this.Hf.Qt().Ic(o,i);const l=new K1(o,this,this,this,this.Wg,a=>this.Kg(a));return this.Ag.set(l,o),this.zg.set(o,l),l}jg(e){const s=this.Hf.Qt();s.Vc(e.Et._u,e.Et.tg,e.Et.ig),e.Oo.forEach((i,n)=>n.ht(i.se,i.Qw)),s.Et().K_(),s.vu()}Xg(e){return $e(this.zg.get(e))}Hg(e){const s=new Map;e.Dw.forEach((n,r)=>{const o=r.Rr(),l=Vr(o)(n);if(o!=="Custom")ge(j1(l));else{const a=r.fa();ge(!a||a(l)===!1)}s.set(this.Xg(r),l)});const i=e.Rw!==void 0&&this.zg.has(e.Rw)?this.Xg(e.Rw):void 0;return{time:e.yw,logical:e.Re,point:e.kw,paneIndex:e.Tw,hoveredSeries:i,hoveredObjectId:e.Vw,seriesData:s,sourceEvent:e.Bw}}Kg(e){let s=this.qu.get(e);return s||(s=new G1(this.Hf,i=>this.Xg(i),e,this),this.qu.set(e,s)),s}}function eb(t){if(Jn(t)){const e=document.getElementById(t);return ge(e!==null,`Cannot find element in DOM with id=${t}`),e}return t}function tb(t,e,s){const i=eb(t),n=new X1(i,e,s);return e.setOptions(n.options()),n}function sb(t,e){return tb(t,new yd,yd.ld(e))}class ib extends Xm{constructor(e,s){super(e,s,!1)}fg(e,s,i){s.uu(this.rg,Za(this.hg)),e.ql(this.rg,i,Za(this.hg))}VM(e,s,i){return{wt:e,qh:s.Wt[0],Yh:s.Wt[1],jh:s.Wt[2],Kh:s.Wt[3],_t:NaN,Yl:NaN,jl:NaN,Kl:NaN,Xl:NaN}}cg(){const e=this.Jn.Rh();this.rg=this.Jn.Xs().Hr().map(s=>this.Gg(s.Re,s,e))}}class nb extends $i{constructor(){super(...arguments),this.Yt=null,this.yM=0}ht(e){this.Yt=e}et(e){if(this.Yt===null||this.Yt.Xs.length===0||this.Yt.lt===null)return;const{horizontalPixelRatio:s}=e;this.yM=function(r,o){if(r>=2.5&&r<=4)return Math.floor(3*o);const l=1-.2*Math.atan(Math.max(4,r)-4)/(.5*Math.PI),a=Math.floor(r*l*o),h=Math.floor(r*o),c=Math.min(a,h);return Math.max(Math.floor(o),c)}(this.Yt.mu,s),this.yM>=2&&Math.floor(s)%2!=this.yM%2&&this.yM--;const i=this.Yt.Xs;this.Yt.BM&&this.IM(e,i,this.Yt.lt),this.Yt.Mi&&this.uv(e,i,this.Yt.lt);const n=this.EM(s);(!this.Yt.Mi||this.yM>2*n)&&this.AM(e,i,this.Yt.lt)}IM(e,s,i){if(this.Yt===null)return;const{context:n,horizontalPixelRatio:r,verticalPixelRatio:o}=e;let l="",a=Math.min(Math.floor(r),Math.floor(this.Yt.mu*r));a=Math.max(Math.floor(r),Math.min(a,this.yM));const h=Math.floor(.5*a);let c=null;for(let d=i.from;d<i.to;d++){const f=s[d];f.pr!==l&&(n.fillStyle=f.pr,l=f.pr);const p=Math.round(Math.min(f.Yl,f.Xl)*o),g=Math.round(Math.max(f.Yl,f.Xl)*o),x=Math.round(f.jl*o),w=Math.round(f.Kl*o);let v=Math.round(r*f._t)-h;const y=v+a-1;c!==null&&(v=Math.max(c+1,v),v=Math.min(v,y));const m=y-v+1;n.fillRect(v,x,m,p-x),n.fillRect(v,g+1,m,w-g),c=y}}EM(e){let s=Math.floor(1*e);this.yM<=2*s&&(s=Math.floor(.5*(this.yM-1)));const i=Math.max(Math.floor(e),s);return this.yM<=2*i?Math.max(Math.floor(e),Math.floor(1*e)):i}uv(e,s,i){if(this.Yt===null)return;const{context:n,horizontalPixelRatio:r,verticalPixelRatio:o}=e;let l="";const a=this.EM(r);let h=null;for(let c=i.from;c<i.to;c++){const d=s[c];d.dr!==l&&(n.fillStyle=d.dr,l=d.dr);let f=Math.round(d._t*r)-Math.floor(.5*this.yM);const p=f+this.yM-1,g=Math.round(Math.min(d.Yl,d.Xl)*o),x=Math.round(Math.max(d.Yl,d.Xl)*o);if(h!==null&&(f=Math.max(h+1,f),f=Math.min(f,p)),this.Yt.mu*r>2*a)pw(n,f,g,p-f+1,x-g+1,a);else{const w=p-f+1;n.fillRect(f,g,w,x-g+1)}h=p}}AM(e,s,i){if(this.Yt===null)return;const{context:n,horizontalPixelRatio:r,verticalPixelRatio:o}=e;let l="";const a=this.EM(r);for(let h=i.from;h<i.to;h++){const c=s[h];let d=Math.round(Math.min(c.Yl,c.Xl)*o),f=Math.round(Math.max(c.Yl,c.Xl)*o),p=Math.round(c._t*r)-Math.floor(.5*this.yM),g=p+this.yM-1;if(c.cr!==l){const x=c.cr;n.fillStyle=x,l=x}this.Yt.Mi&&(p+=a,d+=a,g-=a,f-=a),d>f||n.fillRect(p,d,g-p+1,f-d+1)}}}class rb extends ib{constructor(){super(...arguments),this.og=new nb}Gg(e,s,i){return{...this.VM(e,s,i),...i.Dr(e)}}pg(){const e=this.Jn.N();this.og.ht({Xs:this.rg,mu:this.Qn.Et().mu(),BM:e.wickVisible,Mi:e.borderVisible,lt:this.hg})}}const ob={type:"Candlestick",isBuiltIn:!0,defaultOptions:{upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},$g:(t,e)=>new rb(t,e)};({...Im});function _h(t){const e=[],s=[];for(let n=2;n<t.length-2;n++){const r=t[n],o=t[n-1],l=t[n-2],a=t[n+1],h=t[n+2];r.low<o.low&&r.low<l.low&&r.low<a.low&&r.low<h.low&&e.push({price:r.low,strength:"Moyen",date:r.time}),r.high>o.high&&r.high>l.high&&r.high>a.high&&r.high>h.high&&s.push({price:r.high,strength:"Moyen",date:r.time})}const i=t[t.length-1].close;return{supports:e.sort((n,r)=>Math.abs(n.price-i)-Math.abs(r.price-i)).slice(0,3),resistances:s.sort((n,r)=>Math.abs(n.price-i)-Math.abs(r.price-i)).slice(0,3)}}function lb(t,e=14){if(t.length<e+1)return 50;let s=0,i=0;for(let a=1;a<=e;a++){const h=t[t.length-a].close-t[t.length-a-1].close;h>0?s+=h:i+=Math.abs(h)}const n=s/e,r=i/e;if(r===0)return 100;const l=100-100/(1+n/r);return parseFloat(l.toFixed(2))}function ab(t,e,s){const i=[],n=t[t.length-1].close,r=e.supports.find(l=>Math.abs(n-l.price)/n<.005);if(r&&s<45){const l=r.price*.995,a=n*1.015,h=n*1.025,c=n*1.035;i.push({id:"opp_buy_"+Date.now(),type:"ACHAT",status:"ACTIF",confidence:75,entry:{zone:`${(r.price*.998).toFixed(2)} - ${(r.price*1.002).toFixed(2)}`,ideal:r.price.toFixed(2)},stopLoss:l.toFixed(2),takeProfits:[a.toFixed(2),h.toFixed(2),c.toFixed(2)],ratio:"1:2.5",reason:`Support majeur  $${r.price.toFixed(2)} + RSI survendu (${s})`,duration:"3-7 jours"})}const o=e.resistances.find(l=>Math.abs(n-l.price)/n<.005);if(o&&s>55){const l=o.price*1.005,a=n*.985,h=n*.975;i.push({id:"opp_sell_"+Date.now(),type:"VENTE",status:"EN ATTENTE",confidence:65,entry:{zone:`${(o.price*.998).toFixed(2)} - ${(o.price*1.002).toFixed(2)}`,ideal:o.price.toFixed(2)},stopLoss:l.toFixed(2),takeProfits:[a.toFixed(2),h.toFixed(2)],ratio:"1:2",reason:`Rsistance  $${o.price.toFixed(2)} + RSI surachet (${s})`,duration:"3-5 jours"})}return i}function ub(){const t=_.useRef(null),e=_.useRef(null),[s,i]=_.useState("4H"),[n,r]=_.useState(window.innerWidth<768),[o,l]=_.useState([]),[a,h]=_.useState([]),[c,d]=_.useState(!0),[f,p]=_.useState({supports:[],resistances:[]}),{priceData:g}=Bo();return _.useEffect(()=>{const x=async()=>{d(!0);try{const v=Date.now(),y=`https://mwefvldbevucdvosfhop.supabase.co/functions/v1/get-gold-history?timeframe=${s}&t=${v}`,b=await fetch(y,{headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im13ZWZ2bGRiZXZ1Y2R2b3NmaG9wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU1MTgxOTUsImV4cCI6MjA4MTA5NDE5NX0.PXhCk_Na2NNqWEje1PJ3f8OB9eCTa79CxjqYPjtnWzw","Content-Type":"application/json"},cache:"no-store"});if(!b.ok)throw new Error("Failed to fetch historical data");const S=await b.json();if(S.success&&S.data&&(h(S.data),l(S.data),S.data.length>5)){const k=_h(S.data);p(k)}}catch(v){console.error("Error fetching historical data:",v)}finally{d(!1)}};x();const w=setInterval(()=>{x()},18e4);return()=>clearInterval(w)},[s]),_.useEffect(()=>{if(a.length>0&&g.price>0){const x=[...a],w=x[x.length-1];if(w){const v=new Date().toISOString().split("T")[0];w.time===v?(w.close=g.price,w.high=Math.max(w.high,g.price),w.low=Math.min(w.low,g.price)):x.push({time:v,open:g.open||g.price,high:g.high||g.price,low:g.low||g.price,close:g.price}),l(x)}}},[g.price,g.open,g.high,g.low,a]),_.useEffect(()=>{const x=()=>{const w=window.innerWidth<768;r(w),e.current&&t.current&&e.current.applyOptions({width:t.current.clientWidth,height:w?350:500})};return window.addEventListener("resize",x),()=>window.removeEventListener("resize",x)},[]),_.useEffect(()=>{if(!t.current||o.length===0)return;const x=t.current,w=n?350:500;try{const v=sb(x,{layout:{background:{type:Xa.Solid,color:"#FFFFFF"},textColor:"#333333"},width:x.clientWidth,height:w,grid:{vertLines:{color:"#f0f0f0"},horzLines:{color:"#f0f0f0"}},crosshair:{mode:1},rightPriceScale:{borderColor:"#cccccc",scaleMargins:{top:.1,bottom:.2},autoScale:!0},timeScale:{borderColor:"#cccccc",timeVisible:!0,secondsVisible:!1,rightOffset:12,barSpacing:6,minBarSpacing:3}}),y=v.addSeries(ob,{upColor:"#10B981",downColor:"#EF4444",borderUpColor:"#10B981",borderDownColor:"#EF4444",wickUpColor:"#10B981",wickDownColor:"#EF4444",priceFormat:{type:"price",precision:2,minMove:.01}});y.setData(o),g.price>0&&y.createPriceLine({price:g.price,color:"#F59E0B",lineWidth:2,lineStyle:0,axisLabelVisible:!0,title:"Prix Actuel"}),f.supports.forEach((b,S)=>{y.createPriceLine({price:b.price,color:"#10B981",lineWidth:2,lineStyle:2,axisLabelVisible:!0,title:`S${S+1}`})}),f.resistances.forEach((b,S)=>{y.createPriceLine({price:b.price,color:"#EF4444",lineWidth:2,lineStyle:2,axisLabelVisible:!0,title:`R${S+1}`})}),v.timeScale().fitContent();const m=document.createElement("div");return m.style.position="absolute",m.style.display="none",m.style.backgroundColor="rgba(0, 0, 0, 0.9)",m.style.color="#FFFFFF",m.style.padding="8px 12px",m.style.borderRadius="6px",m.style.fontSize="12px",m.style.fontFamily="monospace",m.style.zIndex="1000",m.style.pointerEvents="none",x.appendChild(m),v.subscribeCrosshairMove(b=>{if(!b.point||!b.time){m.style.display="none";return}const S=b.seriesData.get(y);if(!S){m.style.display="none";return}m.innerHTML=`
          <div>O: $${S.open.toFixed(2)}</div>
          <div>H: $${S.high.toFixed(2)}</div>
          <div>L: $${S.low.toFixed(2)}</div>
          <div>C: $${S.close.toFixed(2)}</div>
        `,m.style.display="block",m.style.left=b.point.x+10+"px",m.style.top=b.point.y+10+"px"}),e.current=v,()=>{v.remove(),m.parentNode&&m.parentNode.removeChild(m)}}catch(v){console.error("Chart error:",v)}},[n,o,g.price,f]),u.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[u.jsxs("div",{className:"p-6 border-b border-gray-200",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Graphique de Prix"}),u.jsx("div",{className:"flex gap-2",children:["1H","4H","Daily","Weekly"].map(x=>u.jsx("button",{onClick:()=>i(x),className:`
                  px-3 py-1 rounded-lg font-medium text-sm transition-all duration-200
                  ${s===x?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}
                `,children:x},x))})]}),u.jsxs("p",{className:"text-xs text-gray-500",children:["Timeframe actuel: ",s," ",c&&"(Chargement...)"]})]}),c?u.jsx("div",{className:"flex items-center justify-center bg-white",style:{minHeight:n?"350px":"500px"},children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600",children:"Chargement du graphique..."})]})}):u.jsx("div",{ref:t,className:"w-full bg-white",style:{position:"relative",minHeight:n?"350px":"500px"}})]})}function hb(){return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-2",children:"Dashboard de Trading"}),u.jsx("p",{className:"text-gray-600",children:"Suivez le cours de l'or en temps rel et grez vos positions"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsx("div",{className:"lg:col-span-2",children:u.jsx(Qx,{})}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:u.jsx(Ge,{className:"w-5 h-5 text-green-600"})}),u.jsx("h3",{className:"font-semibold text-gray-900",children:"Signal Actuel"})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Tendance"}),u.jsx("span",{className:"font-semibold text-green-600",children:"Haussire"})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Force"}),u.jsx("span",{className:"font-semibold text-green-600",children:"Forte"})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Volatilit"}),u.jsx("span",{className:"font-semibold text-red-600",children:"leve"})]})]})]}),u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:u.jsx(ls,{className:"w-5 h-5 text-blue-600"})}),u.jsx("h3",{className:"font-semibold text-gray-900",children:"Niveaux Cls"})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Rsistance"}),u.jsx("p",{className:"font-bold text-red-600",children:"$4,313.00"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Support"}),u.jsx("p",{className:"font-bold text-green-600",children:"$4,200.00"})]})]})]}),u.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(Ga,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-semibold text-amber-900 mb-1",children:"Alerte Active"}),u.jsx("p",{className:"text-xs text-amber-700",children:"Le prix approche d'un niveau de rsistance majeur"})]})]})})]})]}),u.jsx(ub,{}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("p",{className:"text-sm text-gray-600",children:"Positions Ouvertes"}),u.jsx(go,{className:"w-5 h-5 text-gray-400"})]}),u.jsx("p",{className:"text-3xl font-bold text-gray-900",children:"3"}),u.jsx("p",{className:"text-xs text-green-600 mt-1",children:"+1 cette semaine"})]}),u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("p",{className:"text-sm text-gray-600",children:"P&L Journalier"}),u.jsx(Ge,{className:"w-5 h-5 text-green-500"})]}),u.jsx("p",{className:"text-3xl font-bold text-green-600",children:"+$847"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"+2.3% du capital"})]}),u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("p",{className:"text-sm text-gray-600",children:"Taux de Russite"}),u.jsx(ls,{className:"w-5 h-5 text-blue-500"})]}),u.jsx("p",{className:"text-3xl font-bold text-gray-900",children:"68%"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Sur 30 jours"})]}),u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("p",{className:"text-sm text-gray-600",children:"Risque Actuel"}),u.jsx(Ga,{className:"w-5 h-5 text-orange-500"})]}),u.jsx("p",{className:"text-3xl font-bold text-orange-600",children:"Moyen"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"1.8% exposition"})]})]})]})}function $d({opportunity:t,onAddToJournal:e}){var n,r,o,l,a;const s=t.type==="ACHAT"||t.type==="LONG",i=t.type==="LONG"?"ACHAT":t.type==="SHORT"?"VENTE":t.type;return u.jsxs("div",{className:`rounded-xl p-6 border-l-4 shadow-lg ${s?"border-green-500 bg-green-50":"border-red-500 bg-red-50"}`,children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-bold text-gray-800",children:t.title||`${i} - ${s?"Support Majeur":"Rsistance"}`}),u.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t.reason})]}),u.jsx("span",{className:`px-4 py-2 rounded-lg font-bold text-white ${s?"bg-green-600":"bg-red-600"}`,children:i})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mb-4",children:[u.jsxs("div",{className:"bg-white rounded-lg p-3 border border-blue-200",children:[u.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Entre Idale"}),u.jsxs("p",{className:"font-bold text-blue-600",children:["$",t.entry.ideal]}),u.jsx("p",{className:"text-xs text-gray-500",children:t.entry.range||t.entry.zone||""})]}),u.jsxs("div",{className:"bg-white rounded-lg p-3 border border-red-200",children:[u.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Stop Loss"}),u.jsxs("p",{className:"font-bold text-red-600",children:["$",t.stopLoss]})]}),u.jsxs("div",{className:"bg-white rounded-lg p-3 border border-green-200",children:[u.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"TP1 / TP2 / TP3"}),u.jsxs("p",{className:"font-bold text-green-600 text-sm",children:["$",t.takeProfits[0]]}),t.takeProfits.length>1&&u.jsxs("p",{className:"text-xs text-gray-500",children:["$",t.takeProfits[1]," ",t.takeProfits[2]?`/ $${t.takeProfits[2]}`:""]})]})]}),t.signals&&t.signals.length>0&&u.jsxs("div",{className:"mb-4 bg-white rounded-lg p-4 border border-purple-200",children:[u.jsx("h4",{className:"font-bold text-sm text-purple-700 mb-3",children:"Signaux SMC Dtects"}),u.jsx("div",{className:"space-y-2",children:t.signals.map((h,c)=>u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-purple-600 font-bold text-xs mt-0.5",children:""}),u.jsxs("div",{children:[u.jsxs("span",{className:"font-semibold text-xs text-purple-800",children:[h.type,":"]}),u.jsx("span",{className:"text-xs text-gray-700 ml-1",children:h.description})]})]},c))})]}),t.smcConcepts&&u.jsxs("div",{className:"mb-4 bg-gradient-to-r from-purple-100 to-blue-100 rounded-lg p-4 border border-purple-300",children:[u.jsx("h4",{className:"font-bold text-sm text-purple-800 mb-3",children:"Analyse Institutionnelle (Footprint)"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-xs",children:[u.jsxs("div",{children:[u.jsx("span",{className:"font-semibold text-purple-700",children:"Order Block:"}),u.jsx("span",{className:"text-gray-800 ml-1",children:(n=t.smcConcepts.orderBlock)==null?void 0:n.zone}),u.jsxs("span",{className:"ml-2 text-purple-600",children:["(",(r=t.smcConcepts.orderBlock)==null?void 0:r.strength,")"]})]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-semibold text-purple-700",children:"FVG:"}),u.jsxs("span",{className:"text-gray-800 ml-1",children:[(o=t.smcConcepts.fvg)==null?void 0:o.lower," - ",(l=t.smcConcepts.fvg)==null?void 0:l.upper]}),u.jsxs("span",{className:"ml-2 text-orange-600",children:["(",(a=t.smcConcepts.fvg)==null?void 0:a.status,")"]})]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-semibold text-purple-700",children:"Structure:"}),u.jsx("span",{className:"text-gray-800 ml-1",children:t.smcConcepts.marketStructure})]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-semibold text-purple-700",children:"Flow Institutionnel:"}),u.jsx("span",{className:"text-green-700 font-bold ml-1",children:t.smcConcepts.institutionalFlow})]})]})]}),u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[u.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[u.jsxs("span",{children:[" ",u.jsxs("strong",{children:[t.confidence,"%"]})]}),u.jsxs("span",{children:[" ",u.jsx("strong",{children:t.riskReward||t.ratio||"N/A"})]}),t.timeframe&&u.jsxs("span",{children:[" ",u.jsx("strong",{children:t.timeframe})]}),t.duration&&u.jsxs("span",{children:[" ",u.jsx("strong",{children:t.duration})]}),t.status&&u.jsx("span",{className:`px-2 py-1 rounded ${t.status==="ACTIF"?"bg-green-200 text-green-800":"bg-orange-200 text-orange-800"}`,children:t.status})]}),u.jsx("button",{onClick:()=>e(t),className:"bg-indigo-600 text-white px-5 py-2 rounded-lg hover:bg-indigo-700 font-semibold transition whitespace-nowrap",children:" Ajouter au Journal"})]})]})}const cb="modulepreload",db=function(t){return"/"+t},Ad={},Gn=function(e,s,i){let n=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));n=Promise.allSettled(s.map(a=>{if(a=db(a),a in Ad)return;Ad[a]=!0;const h=a.endsWith(".css"),c=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${c}`))return;const d=document.createElement("link");if(d.rel=h?"stylesheet":cb,h||(d.as="script"),d.crossOrigin="",d.href=a,l&&d.setAttribute("nonce",l),document.head.appendChild(d),h)return new Promise((f,p)=>{d.addEventListener("load",f),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${a}`)))})}))}function r(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return n.then(o=>{for(const l of o||[])l.status==="rejected"&&r(l.reason);return e().catch(r)})},fb=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Gn(async()=>{const{default:i}=await Promise.resolve().then(()=>Ai);return{default:i}},[]).then(({default:i})=>i(...s)):e=fetch,(...s)=>e(...s)};class Sh extends Error{constructor(e,s="FunctionsError",i){super(e),this.name=s,this.context=i}}class pb extends Sh{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class zd extends Sh{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Fd extends Sh{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var nu;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(nu||(nu={}));var mb=function(t,e,s,i){function n(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function l(c){try{h(i.next(c))}catch(d){o(d)}}function a(c){try{h(i.throw(c))}catch(d){o(d)}}function h(c){c.done?r(c.value):n(c.value).then(l,a)}h((i=i.apply(t,e||[])).next())})};class gb{constructor(e,{headers:s={},customFetch:i,region:n=nu.Any}={}){this.url=e,this.headers=s,this.region=n,this.fetch=fb(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,s={}){var i;return mb(this,void 0,void 0,function*(){try{const{headers:n,method:r,body:o}=s;let l={},{region:a}=s;a||(a=this.region);const h=new URL(`${this.url}/${e}`);a&&a!=="any"&&(l["x-region"]=a,h.searchParams.set("forceFunctionRegion",a));let c;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(l["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(l["Content-Type"]="application/json",c=JSON.stringify(o)));const d=yield this.fetch(h.toString(),{method:r||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),n),body:c}).catch(x=>{throw new pb(x)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new zd(d);if(!d.ok)throw new Fd(d);let p=((i=d.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),g;return p==="application/json"?g=yield d.json():p==="application/octet-stream"?g=yield d.blob():p==="text/event-stream"?g=d:p==="multipart/form-data"?g=yield d.formData():g=yield d.text(),{data:g,error:null,response:d}}catch(n){return{data:null,error:n,response:n instanceof Fd||n instanceof zd?n.context:void 0}}})}}var Re={},kh={},Go={},Qn={},Qo={},Ko={},vb=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Pi=vb();const yb=Pi.fetch,sg=Pi.fetch.bind(Pi),ig=Pi.Headers,xb=Pi.Request,wb=Pi.Response,Ai=Object.freeze(Object.defineProperty({__proto__:null,Headers:ig,Request:xb,Response:wb,default:sg,fetch:yb},Symbol.toStringTag,{value:"Module"})),bb=Eg(Ai);var Zo={};Object.defineProperty(Zo,"__esModule",{value:!0});let _b=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Zo.default=_b;var ng=Ze&&Ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ko,"__esModule",{value:!0});const Sb=ng(bb),kb=ng(Zo);let jb=class{constructor(e){var s,i;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(s=e.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=e.signal,this.isMaybeSingle=(i=e.isMaybeSingle)!==null&&i!==void 0?i:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Sb.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,s){return this.headers=new Headers(this.headers),this.headers.set(e,s),this}then(e,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let n=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async r=>{var o,l,a,h;let c=null,d=null,f=null,p=r.status,g=r.statusText;if(r.ok){if(this.method!=="HEAD"){const y=await r.text();y===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?d=y:d=JSON.parse(y))}const w=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),v=(a=r.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");w&&v&&v.length>1&&(f=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,p=406,g="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const w=await r.text();try{c=JSON.parse(w),Array.isArray(c)&&r.status===404&&(d=[],c=null,p=200,g="OK")}catch{r.status===404&&w===""?(p=204,g="No Content"):c={message:w}}if(c&&this.isMaybeSingle&&(!((h=c==null?void 0:c.details)===null||h===void 0)&&h.includes("0 rows"))&&(c=null,p=200,g="OK"),c&&this.shouldThrowOnError)throw new kb.default(c)}return{error:c,data:d,count:f,status:p,statusText:g}});return this.shouldThrowOnError||(n=n.catch(r=>{var o,l,a;return{error:{message:`${(o=r==null?void 0:r.name)!==null&&o!==void 0?o:"FetchError"}: ${r==null?void 0:r.message}`,details:`${(l=r==null?void 0:r.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(a=r==null?void 0:r.code)!==null&&a!==void 0?a:""}`},data:null,count:null,status:0,statusText:""}})),n.then(e,s)}returns(){return this}overrideTypes(){return this}};Ko.default=jb;var Nb=Ze&&Ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qo,"__esModule",{value:!0});const Eb=Nb(Ko);let Cb=class extends Eb.default{select(e){let s=!1;const i=(e??"*").split("").map(n=>/\s/.test(n)&&!s?"":(n==='"'&&(s=!s),n)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:s=!0,nullsFirst:i,foreignTable:n,referencedTable:r=n}={}){const o=r?`${r}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${s?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:s,referencedTable:i=s}={}){const n=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,s,{foreignTable:i,referencedTable:n=i}={}){const r=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this.url.searchParams.set(o,`${s-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:s=!1,settings:i=!1,buffers:n=!1,wal:r=!1,format:o="text"}={}){var l;const a=[e?"analyze":null,s?"verbose":null,i?"settings":null,n?"buffers":null,r?"wal":null].filter(Boolean).join("|"),h=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${h}"; options=${a};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Qo.default=Cb;var Pb=Ze&&Ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qn,"__esModule",{value:!0});const Tb=Pb(Qo);let Rb=class extends Tb.default{eq(e,s){return this.url.searchParams.append(e,`eq.${s}`),this}neq(e,s){return this.url.searchParams.append(e,`neq.${s}`),this}gt(e,s){return this.url.searchParams.append(e,`gt.${s}`),this}gte(e,s){return this.url.searchParams.append(e,`gte.${s}`),this}lt(e,s){return this.url.searchParams.append(e,`lt.${s}`),this}lte(e,s){return this.url.searchParams.append(e,`lte.${s}`),this}like(e,s){return this.url.searchParams.append(e,`like.${s}`),this}likeAllOf(e,s){return this.url.searchParams.append(e,`like(all).{${s.join(",")}}`),this}likeAnyOf(e,s){return this.url.searchParams.append(e,`like(any).{${s.join(",")}}`),this}ilike(e,s){return this.url.searchParams.append(e,`ilike.${s}`),this}ilikeAllOf(e,s){return this.url.searchParams.append(e,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(e,s){return this.url.searchParams.append(e,`ilike(any).{${s.join(",")}}`),this}is(e,s){return this.url.searchParams.append(e,`is.${s}`),this}in(e,s){const i=Array.from(new Set(s)).map(n=>typeof n=="string"&&new RegExp("[,()]").test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${i})`),this}contains(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cs.{${s.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(s)}`),this}containedBy(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cd.{${s.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(s)}`),this}rangeGt(e,s){return this.url.searchParams.append(e,`sr.${s}`),this}rangeGte(e,s){return this.url.searchParams.append(e,`nxl.${s}`),this}rangeLt(e,s){return this.url.searchParams.append(e,`sl.${s}`),this}rangeLte(e,s){return this.url.searchParams.append(e,`nxr.${s}`),this}rangeAdjacent(e,s){return this.url.searchParams.append(e,`adj.${s}`),this}overlaps(e,s){return typeof s=="string"?this.url.searchParams.append(e,`ov.${s}`):this.url.searchParams.append(e,`ov.{${s.join(",")}}`),this}textSearch(e,s,{config:i,type:n}={}){let r="";n==="plain"?r="pl":n==="phrase"?r="ph":n==="websearch"&&(r="w");const o=i===void 0?"":`(${i})`;return this.url.searchParams.append(e,`${r}fts${o}.${s}`),this}match(e){return Object.entries(e).forEach(([s,i])=>{this.url.searchParams.append(s,`eq.${i}`)}),this}not(e,s,i){return this.url.searchParams.append(e,`not.${s}.${i}`),this}or(e,{foreignTable:s,referencedTable:i=s}={}){const n=i?`${i}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,s,i){return this.url.searchParams.append(e,`${s}.${i}`),this}};Qn.default=Rb;var Mb=Ze&&Ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Go,"__esModule",{value:!0});const Ki=Mb(Qn);let Ob=class{constructor(e,{headers:s={},schema:i,fetch:n}){this.url=e,this.headers=new Headers(s),this.schema=i,this.fetch=n}select(e,{head:s=!1,count:i}={}){const n=s?"HEAD":"GET";let r=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!r?"":(l==='"'&&(r=!r),l)).join("");return this.url.searchParams.set("select",o),i&&this.headers.append("Prefer",`count=${i}`),new Ki.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:s,defaultToNull:i=!0}={}){var n;const r="POST";if(s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((l,a)=>l.concat(Object.keys(a)),[]);if(o.length>0){const l=[...new Set(o)].map(a=>`"${a}"`);this.url.searchParams.set("columns",l.join(","))}}return new Ki.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:s,ignoreDuplicates:i=!1,count:n,defaultToNull:r=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((h,c)=>h.concat(Object.keys(c)),[]);if(a.length>0){const h=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",h.join(","))}}return new Ki.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:s}={}){var i;const n="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new Ki.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}delete({count:e}={}){var s;const i="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Ki.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};Go.default=Ob;var rg=Ze&&Ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(kh,"__esModule",{value:!0});const Lb=rg(Go),Ib=rg(Qn);let $b=class og{constructor(e,{headers:s={},schema:i,fetch:n}={}){this.url=e,this.headers=new Headers(s),this.schemaName=i,this.fetch=n}from(e){const s=new URL(`${this.url}/${e}`);return new Lb.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new og(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,s={},{head:i=!1,get:n=!1,count:r}={}){var o;let l;const a=new URL(`${this.url}/rpc/${e}`);let h;i||n?(l=i?"HEAD":"GET",Object.entries(s).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{a.searchParams.append(d,f)})):(l="POST",h=s);const c=new Headers(this.headers);return r&&c.set("Prefer",`count=${r}`),new Ib.default({method:l,url:a,headers:c,schema:this.schemaName,body:h,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};kh.default=$b;var zi=Ze&&Ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Re,"__esModule",{value:!0});Re.PostgrestError=Re.PostgrestBuilder=Re.PostgrestTransformBuilder=Re.PostgrestFilterBuilder=Re.PostgrestQueryBuilder=Re.PostgrestClient=void 0;const lg=zi(kh);Re.PostgrestClient=lg.default;const ag=zi(Go);Re.PostgrestQueryBuilder=ag.default;const ug=zi(Qn);Re.PostgrestFilterBuilder=ug.default;const hg=zi(Qo);Re.PostgrestTransformBuilder=hg.default;const cg=zi(Ko);Re.PostgrestBuilder=cg.default;const dg=zi(Zo);Re.PostgrestError=dg.default;var Ab=Re.default={PostgrestClient:lg.default,PostgrestQueryBuilder:ag.default,PostgrestFilterBuilder:ug.default,PostgrestTransformBuilder:hg.default,PostgrestBuilder:cg.default,PostgrestError:dg.default};const{PostgrestClient:zb,PostgrestQueryBuilder:BS,PostgrestFilterBuilder:VS,PostgrestTransformBuilder:WS,PostgrestBuilder:qS,PostgrestError:HS}=Ab;class Fb{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const i=s.node,n=parseInt(i.replace(/^v/,"").split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let s=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(s+=`

Suggested solution: ${e.workaround}`),new Error(s)}static createWebSocket(e,s){const i=this.getWebSocketConstructor();return new i(e,s)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Db="2.15.5",Ub=`realtime-js/${Db}`,Bb="1.0.0",ru=1e4,Vb=1e3,Wb=100;var vn;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(vn||(vn={}));var le;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(le||(le={}));var lt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(lt||(lt={}));var ou;(function(t){t.websocket="websocket"})(ou||(ou={}));var _s;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(_s||(_s={}));class qb{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,s,i)}_decodeBroadcast(e,s,i){const n=s.getUint8(1),r=s.getUint8(2);let o=this.HEADER_LENGTH+2;const l=i.decode(e.slice(o,o+n));o=o+n;const a=i.decode(e.slice(o,o+r));o=o+r;const h=JSON.parse(i.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:a,payload:h}}}class fg{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var q;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(q||(q={}));const Dd=(t,e,s={})=>{var i;const n=(i=s.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(e).reduce((r,o)=>(r[o]=Hb(o,t,e,n),r),{})},Hb=(t,e,s,i)=>{const n=e.find(l=>l.name===t),r=n==null?void 0:n.type,o=s[t];return r&&!i.includes(r)?pg(r,o):lu(o)},pg=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return Qb(e,s)}switch(t){case q.bool:return Yb(e);case q.float4:case q.float8:case q.int2:case q.int4:case q.int8:case q.numeric:case q.oid:return Jb(e);case q.json:case q.jsonb:return Gb(e);case q.timestamp:return Kb(e);case q.abstime:case q.date:case q.daterange:case q.int4range:case q.int8range:case q.money:case q.reltime:case q.text:case q.time:case q.timestamptz:case q.timetz:case q.tsrange:case q.tstzrange:return lu(e);default:return lu(e)}},lu=t=>t,Yb=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Jb=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Gb=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Qb=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,i=t[s];if(t[0]==="{"&&i==="}"){let r;const o=t.slice(1,s);try{r=JSON.parse("["+o+"]")}catch{r=o?o.split(","):[]}return r.map(l=>pg(e,l))}return t},Kb=t=>typeof t=="string"?t.replace(" ","T"):t,mg=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Yl{constructor(e,s,i={},n=ru){this.channel=e,this.event=s,this.payload=i,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var i;return this._hasReceived(e)&&s((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ud;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Ud||(Ud={}));class yn{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},n=>{const{onJoin:r,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=yn.syncState(this.state,n,r,o),this.pendingDiffs.forEach(a=>{this.state=yn.syncDiff(this.state,a,r,o)}),this.pendingDiffs=[],l()}),this.channel._on(i.diff,{},n=>{const{onJoin:r,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=yn.syncDiff(this.state,n,r,o),l())}),this.onJoin((n,r,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:r,newPresences:o})}),this.onLeave((n,r,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:r,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,i,n){const r=this.cloneDeep(e),o=this.transformState(s),l={},a={};return this.map(r,(h,c)=>{o[h]||(a[h]=c)}),this.map(o,(h,c)=>{const d=r[h];if(d){const f=c.map(w=>w.presence_ref),p=d.map(w=>w.presence_ref),g=c.filter(w=>p.indexOf(w.presence_ref)<0),x=d.filter(w=>f.indexOf(w.presence_ref)<0);g.length>0&&(l[h]=g),x.length>0&&(a[h]=x)}else l[h]=c}),this.syncDiff(r,{joins:l,leaves:a},i,n)}static syncDiff(e,s,i,n){const{joins:r,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return i||(i=()=>{}),n||(n=()=>{}),this.map(r,(l,a)=>{var h;const c=(h=e[l])!==null&&h!==void 0?h:[];if(e[l]=this.cloneDeep(a),c.length>0){const d=e[l].map(p=>p.presence_ref),f=c.filter(p=>d.indexOf(p.presence_ref)<0);e[l].unshift(...f)}i(l,c,a)}),this.map(o,(l,a)=>{let h=e[l];if(!h)return;const c=a.map(d=>d.presence_ref);h=h.filter(d=>c.indexOf(d.presence_ref)<0),e[l]=h,n(l,h,a),h.length===0&&delete e[l]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(i=>s(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,i)=>{const n=e[i];return"metas"in n?s[i]=n.metas.map(r=>(r.presence_ref=r.phx_ref,delete r.phx_ref,delete r.phx_ref_prev,r)):s[i]=n,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Bd;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Bd||(Bd={}));var xn;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(xn||(xn={}));var kt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(kt||(kt={}));class jh{constructor(e,s={config:{}},i){this.topic=e,this.params=s,this.socket=i,this.bindings={},this.state=le.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Yl(this,lt.join,this.params,this.timeout),this.rejoinTimer=new fg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=le.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=le.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=le.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=le.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=le.errored,this.rejoinTimer.scheduleTimeout())}),this._on(lt.reply,{},(n,r)=>{this._trigger(this._replyEventName(r),n)}),this.presence=new yn(this),this.broadcastEndpointURL=mg(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,s=this.timeout){var i,n,r;if(this.socket.isConnected()||this.socket.connect(),this.state==le.closed){const{config:{broadcast:o,presence:l,private:a}}=this.params,h=(n=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(p=>p.filter))!==null&&n!==void 0?n:[],c=!!this.bindings[xn.PRESENCE]&&this.bindings[xn.PRESENCE].length>0||((r=this.params.config.presence)===null||r===void 0?void 0:r.enabled)===!0,d={},f={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:c}),postgres_changes:h,private:a};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(p=>e==null?void 0:e(kt.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e(kt.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:p})=>{var g;if(this.socket.setAuth(),p===void 0){e==null||e(kt.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,w=(g=x==null?void 0:x.length)!==null&&g!==void 0?g:0,v=[];for(let y=0;y<w;y++){const m=x[y],{filter:{event:b,schema:S,table:k,filter:j}}=m,P=p&&p[y];if(P&&P.event===b&&P.schema===S&&P.table===k&&P.filter===j)v.push(Object.assign(Object.assign({},m),{id:P.id}));else{this.unsubscribe(),this.state=le.errored,e==null||e(kt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(kt.SUBSCRIBED);return}}).receive("error",p=>{this.state=le.errored,e==null||e(kt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(kt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,i){return this.state===le.joined&&e===xn.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,s,i)}async send(e,s={}){var i,n;if(!this._canPush()&&e.type==="broadcast"){const{event:r,payload:o}=e,a={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:o,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=s.timeout)!==null&&i!==void 0?i:this.timeout);return await((n=h.body)===null||n===void 0?void 0:n.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(r=>{var o,l,a;const h=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((a=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||a===void 0)&&a.ack)&&r("ok"),h.receive("ok",()=>r("ok")),h.receive("error",()=>r("error")),h.receive("timeout",()=>r("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=le.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(lt.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(n=>{i=new Yl(this,lt.leave,{},e),i.receive("ok",()=>{s(),n("ok")}).receive("timeout",()=>{s(),n("timed out")}).receive("error",()=>{n("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=le.closed,this.bindings={}}async _fetchWithTimeout(e,s,i){const n=new AbortController,r=setTimeout(()=>n.abort(),i),o=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:n.signal}));return clearTimeout(r),o}_push(e,s,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Yl(this,e,s,i);return this._canPush()?n.send():this._addToPushBuffer(n),n}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Wb){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(e,s,i){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,i){var n,r;const o=e.toLocaleLowerCase(),{close:l,error:a,leave:h,join:c}=lt;if(i&&[l,a,h,c].indexOf(o)>=0&&i!==this._joinRef())return;let f=this._onMessage(o,s,i);if(s&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(p=>{var g,x,w;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((w=(x=p.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(p=>p.callback(f,i)):(r=this.bindings[o])===null||r===void 0||r.filter(p=>{var g,x,w,v,y,m;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const b=p.id,S=(g=p.filter)===null||g===void 0?void 0:g.event;return b&&((x=s.ids)===null||x===void 0?void 0:x.includes(b))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((w=s.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const b=(y=(v=p==null?void 0:p.filter)===null||v===void 0?void 0:v.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return b==="*"||b===((m=s==null?void 0:s.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){const g=f.data,{schema:x,table:w,commit_timestamp:v,type:y,errors:m}=g;f=Object.assign(Object.assign({},{schema:x,table:w,commit_timestamp:v,eventType:y,new:{},old:{},errors:m}),this._getPayloadRecords(g))}p.callback(f,i)})}_isClosed(){return this.state===le.closed}_isJoined(){return this.state===le.joined}_isJoining(){return this.state===le.joining}_isLeaving(){return this.state===le.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,i){const n=e.toLocaleLowerCase(),r={type:n,filter:s,callback:i};return this.bindings[n]?this.bindings[n].push(r):this.bindings[n]=[r],this}_off(e,s){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(n=>{var r;return!(((r=n.type)===null||r===void 0?void 0:r.toLocaleLowerCase())===i&&jh.isEqual(n.filter,s))})),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const i in e)if(e[i]!==s[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(lt.close,{},e)}_onError(e){this._on(lt.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=le.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=Dd(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=Dd(e.columns,e.old_record)),s}}const Jl=()=>{},kr={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Zb=[1e3,2e3,5e3,1e4],Xb=1e4,e_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class t_{constructor(e,s){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ru,this.transport=null,this.heartbeatIntervalMs=kr.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Jl,this.ref=0,this.reconnectTimer=null,this.logger=Jl,this.conn=null,this.sendBuffer=[],this.serializer=new qb,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=n=>{let r;return n?r=n:typeof fetch>"u"?r=(...o)=>Gn(async()=>{const{default:l}=await Promise.resolve().then(()=>Ai);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):r=fetch,(...o)=>r(...o)},!(!((i=s==null?void 0:s.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${e}/${ou.websocket}`,this.httpEndpoint=mg(e),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Fb.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const s=e.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Bb}))}disconnect(e,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},e?this.conn.close(e,s??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,s,i){this.logger(e,s,i)}connectionState(){switch(this.conn&&this.conn.readyState){case vn.connecting:return _s.Connecting;case vn.open:return _s.Open;case vn.closing:return _s.Closing;default:return _s.Closed}}isConnected(){return this.connectionState()===_s.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,s={config:{}}){const i=`realtime:${e}`,n=this.getChannels().find(r=>r.topic===i);if(n)return n;{const r=new jh(`realtime:${e}`,s,this);return this.channels.push(r),r}}push(e){const{topic:s,event:i,payload:n,ref:r}=e,o=()=>{this.encode(e,l=>{var a;(a=this.conn)===null||a===void 0||a.send(l)})};this.log("push",`${s} ${i} (${r})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Vb,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},kr.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(h){this.log("error","error in heartbeat callback",h)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:n,payload:r,ref:o}=s,l=o?`(${o})`:"",a=r.status||"";this.log("receive",`${a} ${i} ${n} ${l}`.trim(),r),this.channels.filter(h=>h._isMember(i)).forEach(h=>h._trigger(n,r,o)),this._triggerStateCallbacks("message",s)})}_clearTimer(e){var s;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var s;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(lt.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const i=e.match(/\?/)?"&":"?",n=new URLSearchParams(s);return`${e}${i}${n}`}_workerObjectUrl(e){let s;if(e)s=e;else{const i=new Blob([e_],{type:"application/javascript"});s=URL.createObjectURL(i)}return s}_setConnectionState(e,s=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(e=null){let s;e?s=e:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(i=>{const n={access_token:s,version:Ub};s&&i.updateJoinPayload(n),i.joinedOnce&&i._isJoined()&&i._push(lt.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${e}`,s)})}_triggerStateCallbacks(e,s){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(s)}catch(n){this.log("error",`error in ${e} callback`,n)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new fg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},kr.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var s,i,n,r,o,l,a,h,c;if(this.transport=(s=e==null?void 0:e.transport)!==null&&s!==void 0?s:null,this.timeout=(i=e==null?void 0:e.timeout)!==null&&i!==void 0?i:ru,this.heartbeatIntervalMs=(n=e==null?void 0:e.heartbeatIntervalMs)!==null&&n!==void 0?n:kr.HEARTBEAT_INTERVAL,this.worker=(r=e==null?void 0:e.worker)!==null&&r!==void 0?r:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:Jl,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(a=e==null?void 0:e.reconnectAfterMs)!==null&&a!==void 0?a:d=>Zb[d-1]||Xb,this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:(d,f)=>f(JSON.stringify(d)),this.decode=(c=e==null?void 0:e.decode)!==null&&c!==void 0?c:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Nh extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ae(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class s_ extends Nh{constructor(e,s,i){super(e),this.name="StorageApiError",this.status=s,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class au extends Nh{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var i_=function(t,e,s,i){function n(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function l(c){try{h(i.next(c))}catch(d){o(d)}}function a(c){try{h(i.throw(c))}catch(d){o(d)}}function h(c){c.done?r(c.value):n(c.value).then(l,a)}h((i=i.apply(t,e||[])).next())})};const gg=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Gn(async()=>{const{default:i}=await Promise.resolve().then(()=>Ai);return{default:i}},void 0).then(({default:i})=>i(...s)):e=fetch,(...s)=>e(...s)},n_=()=>i_(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Gn(()=>Promise.resolve().then(()=>Ai),void 0)).Response:Response}),uu=t=>{if(Array.isArray(t))return t.map(s=>uu(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,i])=>{const n=s.replace(/([-_][a-z])/gi,r=>r.toUpperCase().replace(/[-_]/g,""));e[n]=uu(i)}),e},r_=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Fs=function(t,e,s,i){function n(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function l(c){try{h(i.next(c))}catch(d){o(d)}}function a(c){try{h(i.throw(c))}catch(d){o(d)}}function h(c){c.done?r(c.value):n(c.value).then(l,a)}h((i=i.apply(t,e||[])).next())})};const Gl=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),o_=(t,e,s)=>Fs(void 0,void 0,void 0,function*(){const i=yield n_();t instanceof i&&!(s!=null&&s.noResolveJson)?t.json().then(n=>{const r=t.status||500,o=(n==null?void 0:n.statusCode)||r+"";e(new s_(Gl(n),r,o))}).catch(n=>{e(new au(Gl(n),n))}):e(new au(Gl(t),t))}),l_=(t,e,s,i)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!i?n:(r_(i)?(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n.body=JSON.stringify(i)):n.body=i,e!=null&&e.duplex&&(n.duplex=e.duplex),Object.assign(Object.assign({},n),s))};function Kn(t,e,s,i,n,r){return Fs(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(s,l_(e,i,n,r)).then(a=>{if(!a.ok)throw a;return i!=null&&i.noResolveJson?a:a.json()}).then(a=>o(a)).catch(a=>o_(a,l,i))})})}function _o(t,e,s,i){return Fs(this,void 0,void 0,function*(){return Kn(t,"GET",e,s,i)})}function gt(t,e,s,i,n){return Fs(this,void 0,void 0,function*(){return Kn(t,"POST",e,i,n,s)})}function hu(t,e,s,i,n){return Fs(this,void 0,void 0,function*(){return Kn(t,"PUT",e,i,n,s)})}function a_(t,e,s,i){return Fs(this,void 0,void 0,function*(){return Kn(t,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),i)})}function vg(t,e,s,i,n){return Fs(this,void 0,void 0,function*(){return Kn(t,"DELETE",e,i,n,s)})}var ke=function(t,e,s,i){function n(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function l(c){try{h(i.next(c))}catch(d){o(d)}}function a(c){try{h(i.throw(c))}catch(d){o(d)}}function h(c){c.done?r(c.value):n(c.value).then(l,a)}h((i=i.apply(t,e||[])).next())})};const u_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Vd={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class h_{constructor(e,s={},i,n){this.shouldThrowOnError=!1,this.url=e,this.headers=s,this.bucketId=i,this.fetch=gg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,s,i,n){return ke(this,void 0,void 0,function*(){try{let r;const o=Object.assign(Object.assign({},Vd),n);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const a=o.metadata;typeof Blob<"u"&&i instanceof Blob?(r=new FormData,r.append("cacheControl",o.cacheControl),a&&r.append("metadata",this.encodeMetadata(a)),r.append("",i)):typeof FormData<"u"&&i instanceof FormData?(r=i,r.append("cacheControl",o.cacheControl),a&&r.append("metadata",this.encodeMetadata(a))):(r=i,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,a&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),n!=null&&n.headers&&(l=Object.assign(Object.assign({},l),n.headers));const h=this._removeEmptyFolders(s),c=this._getFinalPath(h),d=yield(e=="PUT"?hu:gt)(this.fetch,`${this.url}/object/${c}`,r,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:h,id:d.Id,fullPath:d.Key},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ae(r))return{data:null,error:r};throw r}})}upload(e,s,i){return ke(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,i)})}uploadToSignedUrl(e,s,i,n){return ke(this,void 0,void 0,function*(){const r=this._removeEmptyFolders(e),o=this._getFinalPath(r),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",s);try{let a;const h=Object.assign({upsert:Vd.upsert},n),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&i instanceof Blob?(a=new FormData,a.append("cacheControl",h.cacheControl),a.append("",i)):typeof FormData<"u"&&i instanceof FormData?(a=i,a.append("cacheControl",h.cacheControl)):(a=i,c["cache-control"]=`max-age=${h.cacheControl}`,c["content-type"]=h.contentType);const d=yield hu(this.fetch,l.toString(),a,{headers:c});return{data:{path:r,fullPath:d.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ae(a))return{data:null,error:a};throw a}})}createSignedUploadUrl(e,s){return ke(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const n=Object.assign({},this.headers);s!=null&&s.upsert&&(n["x-upsert"]="true");const r=yield gt(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:n}),o=new URL(this.url+r.url),l=o.searchParams.get("token");if(!l)throw new Nh("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ae(i))return{data:null,error:i};throw i}})}update(e,s,i){return ke(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,i)})}move(e,s,i){return ke(this,void 0,void 0,function*(){try{return{data:yield gt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ae(n))return{data:null,error:n};throw n}})}copy(e,s,i){return ke(this,void 0,void 0,function*(){try{return{data:{path:(yield gt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ae(n))return{data:null,error:n};throw n}})}createSignedUrl(e,s,i){return ke(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),r=yield gt(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:s},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const o=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return r={signedUrl:encodeURI(`${this.url}${r.signedURL}${o}`)},{data:r,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ae(n))return{data:null,error:n};throw n}})}createSignedUrls(e,s,i){return ke(this,void 0,void 0,function*(){try{const n=yield gt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),r=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${r}`):null})),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ae(n))return{data:null,error:n};throw n}})}download(e,s){return ke(this,void 0,void 0,function*(){const n=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=r?`?${r}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield _o(this.fetch,`${this.url}/${n}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ae(l))return{data:null,error:l};throw l}})}info(e){return ke(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const i=yield _o(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:uu(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ae(i))return{data:null,error:i};throw i}})}exists(e){return ke(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield a_(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ae(i)&&i instanceof au){const n=i.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,s){const i=this._getFinalPath(e),n=[],r=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";r!==""&&n.push(r);const l=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});a!==""&&n.push(a);let h=n.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${i}${h}`)}}}remove(e){return ke(this,void 0,void 0,function*(){try{return{data:yield vg(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ae(s))return{data:null,error:s};throw s}})}list(e,s,i){return ke(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},u_),s),{prefix:e||""});return{data:yield gt(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},i),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ae(n))return{data:null,error:n};throw n}})}listV2(e,s){return ke(this,void 0,void 0,function*(){try{const i=Object.assign({},e);return{data:yield gt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},s),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ae(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const c_="2.12.1",d_={"X-Client-Info":`storage-js/${c_}`};var Vs=function(t,e,s,i){function n(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function l(c){try{h(i.next(c))}catch(d){o(d)}}function a(c){try{h(i.throw(c))}catch(d){o(d)}}function h(c){c.done?r(c.value):n(c.value).then(l,a)}h((i=i.apply(t,e||[])).next())})};class f_{constructor(e,s={},i,n){this.shouldThrowOnError=!1;const r=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(r.hostname)&&!r.hostname.includes("storage.supabase.")&&(r.hostname=r.hostname.replace("supabase.","storage.supabase.")),this.url=r.href,this.headers=Object.assign(Object.assign({},d_),s),this.fetch=gg(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Vs(this,void 0,void 0,function*(){try{return{data:yield _o(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ae(e))return{data:null,error:e};throw e}})}getBucket(e){return Vs(this,void 0,void 0,function*(){try{return{data:yield _o(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ae(s))return{data:null,error:s};throw s}})}createBucket(e,s={public:!1}){return Vs(this,void 0,void 0,function*(){try{return{data:yield gt(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ae(i))return{data:null,error:i};throw i}})}updateBucket(e,s){return Vs(this,void 0,void 0,function*(){try{return{data:yield hu(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ae(i))return{data:null,error:i};throw i}})}emptyBucket(e){return Vs(this,void 0,void 0,function*(){try{return{data:yield gt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ae(s))return{data:null,error:s};throw s}})}deleteBucket(e){return Vs(this,void 0,void 0,function*(){try{return{data:yield vg(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ae(s))return{data:null,error:s};throw s}})}}class p_ extends f_{constructor(e,s={},i,n){super(e,s,i,n)}from(e){return new h_(this.url,this.headers,e,this.fetch)}}const m_="2.57.4";let sn="";typeof Deno<"u"?sn="deno":typeof document<"u"?sn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?sn="react-native":sn="node";const g_={"X-Client-Info":`supabase-js-${sn}/${m_}`},v_={headers:g_},y_={schema:"public"},x_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},w_={};var b_=function(t,e,s,i){function n(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function l(c){try{h(i.next(c))}catch(d){o(d)}}function a(c){try{h(i.throw(c))}catch(d){o(d)}}function h(c){c.done?r(c.value):n(c.value).then(l,a)}h((i=i.apply(t,e||[])).next())})};const __=t=>{let e;return t?e=t:typeof fetch>"u"?e=sg:e=fetch,(...s)=>e(...s)},S_=()=>typeof Headers>"u"?ig:Headers,k_=(t,e,s)=>{const i=__(s),n=S_();return(r,o)=>b_(void 0,void 0,void 0,function*(){var l;const a=(l=yield e())!==null&&l!==void 0?l:t;let h=new n(o==null?void 0:o.headers);return h.has("apikey")||h.set("apikey",t),h.has("Authorization")||h.set("Authorization",`Bearer ${a}`),i(r,Object.assign(Object.assign({},o),{headers:h}))})};var j_=function(t,e,s,i){function n(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function l(c){try{h(i.next(c))}catch(d){o(d)}}function a(c){try{h(i.throw(c))}catch(d){o(d)}}function h(c){c.done?r(c.value):n(c.value).then(l,a)}h((i=i.apply(t,e||[])).next())})};function N_(t){return t.endsWith("/")?t:t+"/"}function E_(t,e){var s,i;const{db:n,auth:r,realtime:o,global:l}=t,{db:a,auth:h,realtime:c,global:d}=e,f={db:Object.assign(Object.assign({},a),n),auth:Object.assign(Object.assign({},h),r),realtime:Object.assign(Object.assign({},c),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),l),{headers:Object.assign(Object.assign({},(s=d==null?void 0:d.headers)!==null&&s!==void 0?s:{}),(i=l==null?void 0:l.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>j_(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function C_(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(N_(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const yg="2.71.1",Gs=30*1e3,cu=3,Ql=cu*Gs,P_="http://localhost:9999",T_="supabase.auth.token",R_={"X-Client-Info":`gotrue-js/${yg}`},du="X-Supabase-Api-Version",xg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},M_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,O_=10*60*1e3;class Eh extends Error{constructor(e,s,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=i}}function $(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class L_ extends Eh{constructor(e,s,i){super(e,s,i),this.name="AuthApiError",this.status=s,this.code=i}}function I_(t){return $(t)&&t.name==="AuthApiError"}class wg extends Eh{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class fs extends Eh{constructor(e,s,i,n){super(e,i,n),this.name=s,this.status=i}}class Wt extends fs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function $_(t){return $(t)&&t.name==="AuthSessionMissingError"}class jr extends fs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Nr extends fs{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Er extends fs{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function A_(t){return $(t)&&t.name==="AuthImplicitGrantRedirectError"}class Wd extends fs{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class fu extends fs{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function Kl(t){return $(t)&&t.name==="AuthRetryableFetchError"}class qd extends fs{constructor(e,s,i){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=i}}class pu extends fs{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const So="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Hd=` 	
\r=`.split(""),z_=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Hd.length;e+=1)t[Hd[e].charCodeAt(0)]=-2;for(let e=0;e<So.length;e+=1)t[So[e].charCodeAt(0)]=e;return t})();function Yd(t,e,s){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;s(So[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;s(So[i]),e.queuedBits-=6}}function bg(t,e,s){const i=z_[t];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Jd(t){const e=[],s=o=>{e.push(String.fromCodePoint(o))},i={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},r=o=>{U_(o,i,s)};for(let o=0;o<t.length;o+=1)bg(t.charCodeAt(o),n,r);return e.join("")}function F_(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function D_(t,e){for(let s=0;s<t.length;s+=1){let i=t.charCodeAt(s);if(i>55295&&i<=56319){const n=(i-55296)*1024&65535;i=(t.charCodeAt(s+1)-56320&65535|n)+65536,s+=1}F_(i,e)}}function U_(t,e,s){if(e.utf8seq===0){if(t<=127){s(t);return}for(let i=1;i<6;i+=1)if(!(t>>7-i&1)){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function B_(t){const e=[],s={queue:0,queuedBits:0},i=n=>{e.push(n)};for(let n=0;n<t.length;n+=1)bg(t.charCodeAt(n),s,i);return new Uint8Array(e)}function V_(t){const e=[];return D_(t,s=>e.push(s)),new Uint8Array(e)}function W_(t){const e=[],s={queue:0,queuedBits:0},i=n=>{e.push(n)};return t.forEach(n=>Yd(n,s,i)),Yd(null,s,i),e.join("")}function q_(t){return Math.round(Date.now()/1e3)+t}function H_(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const nt=()=>typeof window<"u"&&typeof document<"u",vs={tested:!1,writable:!1},_g=()=>{if(!nt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(vs.tested)return vs.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),vs.tested=!0,vs.writable=!0}catch{vs.tested=!0,vs.writable=!1}return vs.writable};function Y_(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((n,r)=>{e[r]=n})}catch{}return s.searchParams.forEach((i,n)=>{e[n]=i}),e}const Sg=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Gn(async()=>{const{default:i}=await Promise.resolve().then(()=>Ai);return{default:i}},void 0).then(({default:i})=>i(...s)):e=fetch,(...s)=>e(...s)},J_=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Qs=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},ys=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Bt=async(t,e)=>{await t.removeItem(e)};class Xo{constructor(){this.promise=new Xo.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}Xo.promiseConstructor=Promise;function Zl(t){const e=t.split(".");if(e.length!==3)throw new pu("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!M_.test(e[i]))throw new pu("JWT not in base64url format");return{header:JSON.parse(Jd(e[0])),payload:JSON.parse(Jd(e[1])),signature:B_(e[2]),raw:{header:e[0],payload:e[1]}}}async function G_(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Q_(t,e){return new Promise((i,n)=>{(async()=>{for(let r=0;r<1/0;r++)try{const o=await t(r);if(!e(r,null,o)){i(o);return}}catch(o){if(!e(r,o)){n(o);return}}})()})}function K_(t){return("0"+t.toString(16)).substr(-2)}function Z_(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=s.length;let n="";for(let r=0;r<56;r++)n+=s.charAt(Math.floor(Math.random()*i));return n}return crypto.getRandomValues(e),Array.from(e,K_).join("")}async function X_(t){const s=new TextEncoder().encode(t),i=await crypto.subtle.digest("SHA-256",s),n=new Uint8Array(i);return Array.from(n).map(r=>String.fromCharCode(r)).join("")}async function eS(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await X_(t);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ws(t,e,s=!1){const i=Z_();let n=i;s&&(n+="/PASSWORD_RECOVERY"),await Qs(t,`${e}-code-verifier`,n);const r=await eS(i);return[r,i===r?"plain":"s256"]}const tS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function sS(t){const e=t.headers.get(du);if(!e||!e.match(tS))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function iS(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function nS(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const rS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function qs(t){if(!rS.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Xl(){const t={};return new Proxy(t,{get:(e,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const i=s.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Gd(t){return JSON.parse(JSON.stringify(t))}var oS=function(t,e){var s={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(s[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(t);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(t,i[n])&&(s[i[n]]=t[i[n]]);return s};const bs=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),lS=[502,503,504];async function Qd(t){var e;if(!J_(t))throw new fu(bs(t),0);if(lS.includes(t.status))throw new fu(bs(t),t.status);let s;try{s=await t.json()}catch(r){throw new wg(bs(r),r)}let i;const n=sS(t);if(n&&n.getTime()>=xg["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?i=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(i=s.error_code),i){if(i==="weak_password")throw new qd(bs(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new Wt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((r,o)=>r&&typeof o=="string",!0))throw new qd(bs(s),t.status,s.weak_password.reasons);throw new L_(bs(s),t.status||500,i)}const aS=(t,e,s,i)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(i),Object.assign(Object.assign({},n),s))};async function z(t,e,s,i){var n;const r=Object.assign({},i==null?void 0:i.headers);r[du]||(r[du]=xg["2024-01-01"].name),i!=null&&i.jwt&&(r.Authorization=`Bearer ${i.jwt}`);const o=(n=i==null?void 0:i.query)!==null&&n!==void 0?n:{};i!=null&&i.redirectTo&&(o.redirect_to=i.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",a=await uS(t,e,s+l,{headers:r,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(a):{data:Object.assign({},a),error:null}}async function uS(t,e,s,i,n,r){const o=aS(e,i,n,r);let l;try{l=await t(s,Object.assign({},o))}catch(a){throw console.error(a),new fu(bs(a),0)}if(l.ok||await Qd(l),i!=null&&i.noResolveJson)return l;try{return await l.json()}catch(a){await Qd(a)}}function _t(t){var e;let s=null;fS(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=q_(t.expires_in)));const i=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:i},error:null}}function Kd(t){const e=_t(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,i)=>s&&typeof i=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Gt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function hS(t){return{data:t,error:null}}function cS(t){const{action_link:e,email_otp:s,hashed_token:i,redirect_to:n,verification_type:r}=t,o=oS(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:s,hashed_token:i,redirect_to:n,verification_type:r},a=Object.assign({},o);return{data:{properties:l,user:a},error:null}}function dS(t){return t}function fS(t){return t.access_token&&t.refresh_token&&t.expires_in}const ea=["global","local","others"];var pS=function(t,e){var s={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(s[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(t);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(t,i[n])&&(s[i[n]]=t[i[n]]);return s};class mS{constructor({url:e="",headers:s={},fetch:i}){this.url=e,this.headers=s,this.fetch=Sg(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,s=ea[0]){if(ea.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ea.join(", ")}`);try{return await z(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if($(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,s={}){try{return await z(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Gt})}catch(i){if($(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:s}=e,i=pS(e,["options"]),n=Object.assign(Object.assign({},i),s);return"newEmail"in i&&(n.new_email=i==null?void 0:i.newEmail,delete n.newEmail),await z(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:cS,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if($(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await z(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Gt})}catch(s){if($(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,i,n,r,o,l,a;try{const h={nextPage:null,lastPage:0,total:0},c=await z(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:"",per_page:(r=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:""},xform:dS});if(c.error)throw c.error;const d=await c.json(),f=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(a=(l=c.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&a!==void 0?a:[];return p.length>0&&(p.forEach(g=>{const x=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(g.split(";")[1].split("=")[1]);h[`${w}Page`]=x}),h.total=parseInt(f)),{data:Object.assign(Object.assign({},d),h),error:null}}catch(h){if($(h))return{data:{users:[]},error:h};throw h}}async getUserById(e){qs(e);try{return await z(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Gt})}catch(s){if($(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){qs(e);try{return await z(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:Gt})}catch(i){if($(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,s=!1){qs(e);try{return await z(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:Gt})}catch(i){if($(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){qs(e.userId);try{const{data:s,error:i}=await z(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:s,error:i}}catch(s){if($(s))return{data:null,error:s};throw s}}async _deleteFactor(e){qs(e.userId),qs(e.id);try{return{data:await z(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if($(s))return{data:null,error:s};throw s}}}function Zd(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}function gS(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Hs={debug:!!(globalThis&&_g()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class kg extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class vS extends kg{}async function yS(t,e,s){Hs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),Hs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async n=>{if(n){Hs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,n.name);try{return await s()}finally{Hs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,n.name)}}else{if(e===0)throw Hs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new vS(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Hs.debug)try{const r=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(r,null,"  "))}catch(r){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",r)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}gS();const xS={url:P_,storageKey:T_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:R_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Xd(t,e,s){return await s()}const Ys={};class Dn{constructor(e){var s,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Dn.nextInstanceID,Dn.nextInstanceID+=1,this.instanceID>0&&nt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},xS),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new mS({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=Sg(n.fetch),this.lock=n.lock||Xd,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:nt()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=yS:this.lock=Xd,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(n.storage?this.storage=n.storage:_g()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Zd(this.memoryStorage)),n.userStorage&&(this.userStorage=n.userStorage)):(this.memoryStorage={},this.storage=Zd(this.memoryStorage)),nt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(r){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",r)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async r=>{this._debug("received broadcast notification from other tab or client",r),await this._notifyAllSubscribers(r.data.event,r.data.session,!1)})}this.initialize()}get jwks(){var e,s;return(s=(e=Ys[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(e){Ys[this.storageKey]=Object.assign(Object.assign({},Ys[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,s;return(s=(e=Ys[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ys[this.storageKey]=Object.assign(Object.assign({},Ys[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${yg}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const s=Y_(window.location.href);let i="none";if(this._isImplicitGrantCallback(s)?i="implicit":await this._isPKCECallback(s)&&(i="pkce"),nt()&&this.detectSessionInUrl&&i!=="none"){const{data:n,error:r}=await this._getSessionFromURL(s,i);if(r){if(this._debug("#_initialize()","error detecting session from URL",r),A_(r)){const a=(e=r.details)===null||e===void 0?void 0:e.code;if(a==="identity_already_exists"||a==="identity_not_found"||a==="single_identity_not_deletable")return{error:r}}return await this._removeSession(),{error:r}}const{session:o,redirectType:l}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return $(s)?{error:s}:{error:new wg("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,i,n;try{const r=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.captchaToken}},xform:_t}),{data:o,error:l}=r;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,h=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:h,session:a},error:null}}catch(r){if($(r))return{data:{user:null,session:null},error:r};throw r}}async signUp(e){var s,i,n;try{let r;if("email"in e){const{email:c,password:d,options:f}=e;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await Ws(this.storage,this.storageKey)),r=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:c,password:d,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:g},xform:_t})}else if("phone"in e){const{phone:c,password:d,options:f}=e;r=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(i=f==null?void 0:f.data)!==null&&i!==void 0?i:{},channel:(n=f==null?void 0:f.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:_t})}else throw new Nr("You must provide either an email or phone number and a password");const{data:o,error:l}=r;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,h=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:h,session:a},error:null}}catch(r){if($(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithPassword(e){try{let s;if("email"in e){const{email:r,password:o,options:l}=e;s=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Kd})}else if("phone"in e){const{phone:r,password:o,options:l}=e;s=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Kd})}else throw new Nr("You must provide either an email or phone number and a password");const{data:i,error:n}=s;return n?{data:{user:null,session:null},error:n}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new jr}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:n})}catch(s){if($(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,i,n,r;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(r=e.options)===null||r===void 0?void 0:r.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:s}=e;if(s==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(e){var s,i,n,r,o,l,a,h,c,d,f,p;let g,x;if("message"in e)g=e.message,x=e.signature;else{const{chain:w,wallet:v,statement:y,options:m}=e;let b;if(nt())if(typeof v=="object")b=v;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))b=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=v}const S=new URL((s=m==null?void 0:m.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in b&&b.signIn){const k=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),y?{statement:y}:null));let j;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")j=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)j=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)g=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),x=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${S.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(n=(i=m==null?void 0:m.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((r=m==null?void 0:m.signInWithSolana)===null||r===void 0)&&r.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((o=m==null?void 0:m.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((l=m==null?void 0:m.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((a=m==null?void 0:m.signInWithSolana)===null||a===void 0)&&a.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((h=m==null?void 0:m.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((d=(c=m==null?void 0:m.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",...m.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const k=await b.signMessage(new TextEncoder().encode(g),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=k}}try{const{data:w,error:v}=await z(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:W_(x)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:_t});if(v)throw v;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new jr}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:v})}catch(w){if($(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(e){const s=await ys(this.storage,`${this.storageKey}-code-verifier`),[i,n]=(s??"").split("/");try{const{data:r,error:o}=await z(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:_t});if(await Bt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!r||!r.session||!r.user?{data:{user:null,session:null,redirectType:null},error:new jr}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign(Object.assign({},r),{redirectType:n??null}),error:o})}catch(r){if($(r))return{data:{user:null,session:null,redirectType:null},error:r};throw r}}async signInWithIdToken(e){try{const{options:s,provider:i,token:n,access_token:r,nonce:o}=e,l=await z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:n,access_token:r,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:_t}),{data:a,error:h}=l;return h?{data:{user:null,session:null},error:h}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new jr}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:h})}catch(s){if($(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,i,n,r,o;try{if("email"in e){const{email:l,options:a}=e;let h=null,c=null;this.flowType==="pkce"&&([h,c]=await Ws(this.storage,this.storageKey));const{error:d}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(s=a==null?void 0:a.data)!==null&&s!==void 0?s:{},create_user:(i=a==null?void 0:a.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},code_challenge:h,code_challenge_method:c},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:l,options:a}=e,{data:h,error:c}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(n=a==null?void 0:a.data)!==null&&n!==void 0?n:{},create_user:(r=a==null?void 0:a.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},channel:(o=a==null?void 0:a.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:c}}throw new Nr("You must provide either an email or phone number.")}catch(l){if($(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var s,i;try{let n,r;"options"in e&&(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo,r=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:o,error:l}=await z(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:r}}),redirectTo:n,xform:_t});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const a=o.session,h=o.user;return a!=null&&a.access_token&&(await this._saveSession(a),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:h,session:a},error:null}}catch(n){if($(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var s,i,n;try{let r=null,o=null;return this.flowType==="pkce"&&([r,o]=await Ws(this.storage,this.storageKey)),await z(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&i!==void 0?i:void 0}),!((n=e==null?void 0:e.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:r,code_challenge_method:o}),headers:this.headers,xform:hS})}catch(r){if($(r))return{data:null,error:r};throw r}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:i}=e;if(i)throw i;if(!s)throw new Wt;const{error:n}=await z(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if($(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:i,type:n,options:r}=e,{error:o}=await z(this.fetch,"POST",s,{headers:this.headers,body:{email:i,type:n,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},redirectTo:r==null?void 0:r.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:i,type:n,options:r}=e,{data:o,error:l}=await z(this.fetch,"POST",s,{headers:this.headers,body:{phone:i,type:n,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Nr("You must provide either an email or phone number and a type")}catch(s){if($(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await i,await s()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=s();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await ys(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<Ql:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const o=await ys(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Xl()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(a,h,c)=>(!o&&h==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(a,h,c))})}return{data:{session:e},error:null}}const{session:n,error:r}=await this._callRefreshToken(e.refresh_token);return r?{data:{session:null},error:r}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Gt}):await this._useSession(async s=>{var i,n,r;const{data:o,error:l}=s;if(l)throw l;return!(!((i=o.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Wt}:await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(r=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&r!==void 0?r:void 0,xform:Gt})})}catch(s){if($(s))return $_(s)&&(await this._removeSession(),await Bt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async i=>{const{data:n,error:r}=i;if(r)throw r;if(!n.session)throw new Wt;const o=n.session;let l=null,a=null;this.flowType==="pkce"&&e.email!=null&&([l,a]=await Ws(this.storage,this.storageKey));const{data:h,error:c}=await z(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:a}),jwt:o.access_token,xform:Gt});if(c)throw c;return o.user=h.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(i){if($(i))return{data:{user:null},error:i};throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Wt;const s=Date.now()/1e3;let i=s,n=!0,r=null;const{payload:o}=Zl(e.access_token);if(o.exp&&(i=o.exp,n=i<=s),n){const{session:l,error:a}=await this._callRefreshToken(e.refresh_token);if(a)return{data:{user:null,session:null},error:a};if(!l)return{data:{user:null,session:null},error:null};r=l}else{const{data:l,error:a}=await this._getUser(e.access_token);if(a)throw a;r={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:i-s,expires_at:i},await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)}return{data:{user:r.user,session:r},error:null}}catch(s){if($(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var i;if(!e){const{data:o,error:l}=s;if(l)throw l;e=(i=o.session)!==null&&i!==void 0?i:void 0}if(!(e!=null&&e.refresh_token))throw new Wt;const{session:n,error:r}=await this._callRefreshToken(e.refresh_token);return r?{data:{user:null,session:null},error:r}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if($(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e,s){try{if(!nt())throw new Er("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Er(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Wd("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Er("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Wd("No code detected.");const{data:y,error:m}=await this._exchangeCodeForSession(e.code);if(m)throw m;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:n,access_token:r,refresh_token:o,expires_in:l,expires_at:a,token_type:h}=e;if(!r||!l||!o||!h)throw new Er("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(l);let f=c+d;a&&(f=parseInt(a));const p=f-c;p*1e3<=Gs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const g=f-d;c-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,c):c-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,c);const{data:x,error:w}=await this._getUser(r);if(w)throw w;const v={provider_token:i,provider_refresh_token:n,access_token:r,expires_in:d,expires_at:f,refresh_token:o,token_type:h,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:e.type},error:null}}catch(i){if($(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await ys(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var i;const{data:n,error:r}=s;if(r)return{error:r};const o=(i=n.session)===null||i===void 0?void 0:i.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(I_(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Bt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=H_(),i={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async s=>{var i,n;try{const{data:{session:r},error:o}=s;if(o)throw o;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(r){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",r),console.error(r)}})}async resetPasswordForEmail(e,s={}){let i=null,n=null;this.flowType==="pkce"&&([i,n]=await Ws(this.storage,this.storageKey,!0));try{return await z(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:n,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(r){if($(r))return{data:null,error:r};throw r}}async getUserIdentities(){var e;try{const{data:s,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if($(s))return{data:null,error:s};throw s}}async linkIdentity(e){var s;try{const{data:i,error:n}=await this._useSession(async r=>{var o,l,a,h,c;const{data:d,error:f}=r;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:!0});return await z(this.fetch,"GET",p,{headers:this.headers,jwt:(c=(h=d.session)===null||h===void 0?void 0:h.access_token)!==null&&c!==void 0?c:void 0})});if(n)throw n;return nt()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:e.provider,url:i==null?void 0:i.url},error:null}}catch(i){if($(i))return{data:{provider:e.provider,url:null},error:i};throw i}}async unlinkIdentity(e){try{return await this._useSession(async s=>{var i,n;const{data:r,error:o}=s;if(o)throw o;return await z(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(i=r.session)===null||i===void 0?void 0:i.access_token)!==null&&n!==void 0?n:void 0})})}catch(s){if($(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const i=Date.now();return await Q_(async n=>(n>0&&await G_(200*Math.pow(2,n-1)),this._debug(s,"refreshing attempt",n),await z(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:_t})),(n,r)=>{const o=200*Math.pow(2,n);return r&&Kl(r)&&Date.now()+o-i<Gs})}catch(i){if(this._debug(s,"error",i),$(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",i),nt()&&!s.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,s;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const n=await ys(this.storage,this.storageKey);if(n&&this.userStorage){let o=await ys(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:n.user},await Qs(this.userStorage,this.storageKey+"-user",o)),n.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Xl()}else if(n&&!n.user&&!n.user){const o=await ys(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(n.user=o.user,await Bt(this.storage,this.storageKey+"-user"),await Qs(this.storage,this.storageKey,n)):n.user=Xl()}if(this._debug(i,"session from storage",n),!this._isValidSession(n)){this._debug(i,"session is not valid"),n!==null&&await this._removeSession();return}const r=((s=n.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Ql;if(this._debug(i,`session has${r?"":" not"} expired with margin of ${Ql}s`),r){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),Kl(o)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(n.user&&n.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(n.access_token);!l&&(o!=null&&o.user)?(n.user=o.user,await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(i,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(i,"error",n),console.error(n);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var s,i;if(!e)throw new Wt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new Xo;const{data:r,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!r.session)throw new Wt;await this._saveSession(r.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",r.session);const l={session:r.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(r){if(this._debug(n,"error",r),$(r)){const o={session:null,error:r};return Kl(r)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(r),r}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,s,i=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",s,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:s});const r=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,s)}catch(a){r.push(a)}});if(await Promise.all(o),r.length>0){for(let l=0;l<r.length;l+=1)console.error(r[l]);throw r[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const s=Object.assign({},e),i=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&s.user&&await Qs(this.userStorage,this.storageKey+"-user",{user:s.user});const n=Object.assign({},s);delete n.user;const r=Gd(n);await Qs(this.storage,this.storageKey,r)}else{const n=Gd(s);await Qs(this.storage,this.storageKey,n)}}async _removeSession(){this._debug("#_removeSession()"),await Bt(this.storage,this.storageKey),await Bt(this.storage,this.storageKey+"-code-verifier"),await Bt(this.storage,this.storageKey+"-user"),this.userStorage&&await Bt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&nt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Gs);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:i}}=s;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((i.expires_at*1e3-e)/Gs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${Gs}ms, refresh threshold is ${cu} ticks`),n<=cu&&await this._callRefreshToken(i.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof kg)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!nt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,i){const n=[`provider=${encodeURIComponent(s)}`];if(i!=null&&i.redirectTo&&n.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&n.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[r,o]=await Ws(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(r)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(l.toString())}if(i!=null&&i.queryParams){const r=new URLSearchParams(i.queryParams);n.push(r.toString())}return i!=null&&i.skipBrowserRedirect&&n.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var i;const{data:n,error:r}=s;return r?{data:null,error:r}:await z(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=n==null?void 0:n.session)===null||i===void 0?void 0:i.access_token})})}catch(s){if($(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var i,n;const{data:r,error:o}=s;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:a,error:h}=await z(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(i=r==null?void 0:r.session)===null||i===void 0?void 0:i.access_token});return h?{data:null,error:h}:(e.factorType==="totp"&&(!((n=a==null?void 0:a.totp)===null||n===void 0)&&n.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(s){if($(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var i;const{data:n,error:r}=s;if(r)return{data:null,error:r};const{data:o,error:l}=await z(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(i=n==null?void 0:n.session)===null||i===void 0?void 0:i.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(s){if($(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var i;const{data:n,error:r}=s;return r?{data:null,error:r}:await z(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(i=n==null?void 0:n.session)===null||i===void 0?void 0:i.access_token})})}catch(s){if($(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:i}=await this._challenge({factorId:e.factorId});return i?{data:null,error:i}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){const{data:{user:e},error:s}=await this.getUser();if(s)return{data:null,error:s};const i=(e==null?void 0:e.factors)||[],n=i.filter(o=>o.factor_type==="totp"&&o.status==="verified"),r=i.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:i,totp:n,phone:r},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,i;const{data:{session:n},error:r}=e;if(r)return{data:null,error:r};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Zl(n.access_token);let l=null;o.aal&&(l=o.aal);let a=l;((i=(s=n.user.factors)===null||s===void 0?void 0:s.filter(d=>d.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(a="aal2");const c=o.amr||[];return{data:{currentLevel:l,nextLevel:a,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,s={keys:[]}){let i=s.keys.find(l=>l.kid===e);if(i)return i;const n=Date.now();if(i=this.jwks.keys.find(l=>l.kid===e),i&&this.jwks_cached_at+O_>n)return i;const{data:r,error:o}=await z(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!r.keys||r.keys.length===0||(this.jwks=r,this.jwks_cached_at=n,i=r.keys.find(l=>l.kid===e),!i)?null:i}async getClaims(e,s={}){try{let i=e;if(!i){const{data:p,error:g}=await this.getSession();if(g||!p.session)return{data:null,error:g};i=p.session.access_token}const{header:n,payload:r,signature:o,raw:{header:l,payload:a}}=Zl(i);s!=null&&s.allowExpired||iS(r.exp);const h=!n.alg||n.alg.startsWith("HS")||!n.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(n.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!h){const{error:p}=await this.getUser(i);if(p)throw p;return{data:{claims:r,header:n,signature:o},error:null}}const c=nS(n.alg),d=await crypto.subtle.importKey("jwk",h,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,o,V_(`${l}.${a}`)))throw new pu("Invalid JWT signature");return{data:{claims:r,header:n,signature:o},error:null}}catch(i){if($(i))return{data:null,error:i};throw i}}}Dn.nextInstanceID=0;const wS=Dn;class bS extends wS{constructor(e){super(e)}}var _S=function(t,e,s,i){function n(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function l(c){try{h(i.next(c))}catch(d){o(d)}}function a(c){try{h(i.throw(c))}catch(d){o(d)}}function h(c){c.done?r(c.value):n(c.value).then(l,a)}h((i=i.apply(t,e||[])).next())})};class SS{constructor(e,s,i){var n,r,o;this.supabaseUrl=e,this.supabaseKey=s;const l=C_(e);if(!s)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const a=`sb-${l.hostname.split(".")[0]}-auth-token`,h={db:y_,realtime:w_,auth:Object.assign(Object.assign({},x_),{storageKey:a}),global:v_},c=E_(i??{},h);this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(r=c.global.headers)!==null&&r!==void 0?r:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=k_(s,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new zb(new URL("rest/v1",l).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new p_(this.storageUrl.href,this.headers,this.fetch,i==null?void 0:i.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new gb(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},i={}){return this.rest.rpc(e,s,i)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,s;return _S(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(s=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:i,storage:n,userStorage:r,storageKey:o,flowType:l,lock:a,debug:h},c,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new bS({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),c),storageKey:o,autoRefreshToken:e,persistSession:s,detectSessionInUrl:i,storage:n,userStorage:r,flowType:l,lock:a,debug:h,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new t_(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,i)=>{this._handleTokenChanged(s,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(e,s,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const kS=(t,e,s)=>new SS(t,e,s);function jS(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}jS()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Js=kS("https://mwefvldbevucdvosfhop.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im13ZWZ2bGRiZXZ1Y2R2b3NmaG9wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU1MTgxOTUsImV4cCI6MjA4MTA5NDE5NX0.PXhCk_Na2NNqWEje1PJ3f8OB9eCTa79CxjqYPjtnWzw");function NS(){const[t,e]=_.useState(""),[s,i]=_.useState(!1),[n,r]=_.useState(!1),[o,l]=_.useState(null),[a,h]=_.useState("immediate");_.useEffect(()=>{c()},[]);const c=async()=>{const g=localStorage.getItem("notification_email");if(g){e(g);const{data:x}=await Js.from("email_subscriptions").select("*").eq("email",g).eq("is_active",!0).maybeSingle();x&&(i(!0),h(x.notification_frequency))}},d=async g=>{g.preventDefault(),r(!0),l(null);try{if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t))throw new Error("Veuillez entrer une adresse email valide");const{data:w}=await Js.from("email_subscriptions").select("*").eq("email",t).maybeSingle();w?await Js.from("email_subscriptions").update({is_active:!0,notification_frequency:a,updated_at:new Date().toISOString()}).eq("email",t):await Js.from("email_subscriptions").insert([{email:t,notification_frequency:a,is_active:!0}]),localStorage.setItem("notification_email",t),i(!0),l({type:"success",text:"Abonnement activ avec succs! Vous recevrez des notifications par email."})}catch(x){l({type:"error",text:x.message||"Erreur lors de l'abonnement"})}finally{r(!1)}},f=async()=>{r(!0),l(null);try{await Js.from("email_subscriptions").update({is_active:!1,updated_at:new Date().toISOString()}).eq("email",t),localStorage.removeItem("notification_email"),i(!1),e(""),l({type:"success",text:"Dsabonnement russi. Vous ne recevrez plus de notifications."})}catch(g){l({type:"error",text:g.message||"Erreur lors du dsabonnement"})}finally{r(!1)}},p=async g=>{r(!0);try{await Js.from("email_subscriptions").update({notification_frequency:g,updated_at:new Date().toISOString()}).eq("email",t),h(g),l({type:"success",text:"Prfrences mises  jour avec succs!"})}catch{l({type:"error",text:"Erreur lors de la mise  jour"})}finally{r(!1)}};return u.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl shadow-lg p-6 border-2 border-blue-200",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center",children:u.jsx(Qa,{className:"w-6 h-6 text-white"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Notifications par Email"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Recevez les opportunits directement par email"})]})]}),o&&u.jsxs("div",{className:`mb-4 p-3 rounded-lg flex items-center gap-2 ${o.type==="success"?"bg-green-100 text-green-800 border border-green-300":"bg-red-100 text-red-800 border border-red-300"}`,children:[o.type==="success"?u.jsx(Vc,{className:"w-5 h-5 flex-shrink-0"}):u.jsx(Om,{className:"w-5 h-5 flex-shrink-0"}),u.jsx("span",{className:"text-sm font-medium",children:o.text})]}),s?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600",children:"Email abonn"}),u.jsx("p",{className:"font-semibold text-gray-800",children:t})]}),u.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:u.jsx(Vc,{className:"w-5 h-5 text-green-600"})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Frquence actuelle"}),u.jsxs("select",{value:a,onChange:g=>p(g.target.value),disabled:n,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:opacity-50",children:[u.jsx("option",{value:"immediate",children:"Immdiat"}),u.jsx("option",{value:"daily",children:"Quotidien"}),u.jsx("option",{value:"weekly",children:"Hebdomadaire"})]})]})]}),u.jsxs("button",{onClick:f,disabled:n,className:"w-full bg-red-50 text-red-600 px-6 py-3 rounded-lg hover:bg-red-100 font-semibold transition flex items-center justify-center gap-2 border border-red-200 disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx(Rx,{className:"w-5 h-5"}),n?"Dsabonnement...":"Se Dsabonner"]})]}):u.jsxs("form",{onSubmit:d,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Adresse Email"}),u.jsxs("div",{className:"relative",children:[u.jsx(Ax,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),u.jsx("input",{type:"email",value:t,onChange:g=>e(g.target.value),placeholder:"votre@email.com",required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Frquence des notifications"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"radio",name:"frequency",value:"immediate",checked:a==="immediate",onChange:g=>h(g.target.value),className:"w-4 h-4 text-blue-600"}),u.jsx("span",{className:"text-sm text-gray-700",children:"Immdiat - Ds qu'une opportunit est dtecte"})]}),u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"radio",name:"frequency",value:"daily",checked:a==="daily",onChange:g=>h(g.target.value),className:"w-4 h-4 text-blue-600"}),u.jsx("span",{className:"text-sm text-gray-700",children:"Quotidien - Un rsum par jour"})]}),u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"radio",name:"frequency",value:"weekly",checked:a==="weekly",onChange:g=>h(g.target.value),className:"w-4 h-4 text-blue-600"}),u.jsx("span",{className:"text-sm text-gray-700",children:"Hebdomadaire - Un rsum par semaine"})]})]})]}),u.jsxs("button",{type:"submit",disabled:n,className:"w-full bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 font-semibold transition flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx(Qa,{className:"w-5 h-5"}),n?"Activation...":"Activer les Notifications"]}),u.jsx("p",{className:"text-xs text-gray-500 text-center mt-2",children:"Vos donnes sont scurises. Vous pouvez vous dsabonner  tout moment."})]})]})}const el="xau_trading_journal";function jg(t){const e=Fi(),s={...t,id:Date.now(),dateCreated:new Date().toISOString()};return e.push(s),localStorage.setItem(el,JSON.stringify(e)),s}function Fi(){const t=localStorage.getItem(el);return t?JSON.parse(t):[]}function ef(t,e){const s=Fi(),i=s.findIndex(n=>n.id===t);return i!==-1?(s[i]={...s[i],...e},localStorage.setItem(el,JSON.stringify(s)),s[i]):null}function ES(t){const e=Fi().filter(s=>s.id!==t);localStorage.setItem(el,JSON.stringify(e))}function CS(){const t=Fi().filter(i=>i.status==="FERM"),e=t.filter(i=>i.result>0),s=t.filter(i=>i.result<=0);return{total:t.length,wins:e.length,losses:s.length,winRate:t.length>0?(e.length/t.length*100).toFixed(1):0,totalProfit:t.reduce((i,n)=>i+(n.result||0),0).toFixed(2),avgWin:e.length>0?(e.reduce((i,n)=>i+n.result,0)/e.length).toFixed(2):0,avgLoss:s.length>0?(s.reduce((i,n)=>i+n.result,0)/s.length).toFixed(2):0}}function PS(){const[t,e]=_.useState([]),[s,i]=_.useState(null),[n,r]=_.useState(!1),[o,l]=_.useState(!1),[a,h]=_.useState(!1),[c,d]=_.useState(""),[f,p]=_.useState(50),[g,x]=_.useState({supports:[],resistances:[]}),w=async()=>{l(!0);try{const k=`https://mwefvldbevucdvosfhop.supabase.co/functions/v1/analyze-smc?t=${Date.now()}`,P=await fetch(k,{headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im13ZWZ2bGRiZXZ1Y2R2b3NmaG9wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU1MTgxOTUsImV4cCI6MjA4MTA5NDE5NX0.PXhCk_Na2NNqWEje1PJ3f8OB9eCTa79CxjqYPjtnWzw","Content-Type":"application/json"},cache:"no-store"});if(!P.ok)throw new Error("Failed to fetch SMC analysis");const O=await P.json();O.success&&O.setup?i(O.setup):i(null)}catch(S){console.error("Error fetching SMC opportunity:",S),i(null)}finally{l(!1)}},v=async()=>{r(!0);try{const k=`https://mwefvldbevucdvosfhop.supabase.co/functions/v1/get-gold-history?timeframe=Daily&t=${Date.now()}`,P=await fetch(k,{headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im13ZWZ2bGRiZXZ1Y2R2b3NmaG9wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU1MTgxOTUsImV4cCI6MjA4MTA5NDE5NX0.PXhCk_Na2NNqWEje1PJ3f8OB9eCTa79CxjqYPjtnWzw","Content-Type":"application/json"},cache:"no-store"});if(!P.ok)throw new Error("Failed to fetch data");const O=await P.json();if(O.success&&O.data&&O.data.length>0){const M=_h(O.data),B=lb(O.data),Se=ab(O.data,M,B);x(M),p(B),e(Se)}}catch(S){console.error("Error fetching opportunities:",S)}finally{r(!1)}},y=async()=>{await Promise.all([v(),w()])};_.useEffect(()=>{y()},[]);const m=S=>{const k={type:S.type,status:"EN ATTENTE",entry:parseFloat(S.entry.ideal),stopLoss:parseFloat(S.stopLoss),takeProfit:parseFloat(S.takeProfits[0]),lots:.1,notes:S.reason};jg(k),alert("Opportunit ajoute au journal avec succs !")},b=async()=>{h(!0),d("");try{const S=s?[s,...t]:t,O=await(await fetch("https://mwefvldbevucdvosfhop.supabase.co/functions/v1/send-opportunity-notifications",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im13ZWZ2bGRiZXZ1Y2R2b3NmaG9wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU1MTgxOTUsImV4cCI6MjA4MTA5NDE5NX0.PXhCk_Na2NNqWEje1PJ3f8OB9eCTa79CxjqYPjtnWzw","Content-Type":"application/json"},body:JSON.stringify({opportunities:S,sendNow:!0})})).json();O.success?d(` ${O.sent} email(s) envoy(s) avec succs!`):d(` Erreur: ${O.message||"chec de l'envoi"}`)}catch(S){d(` Erreur: ${S.message}`)}finally{h(!1),setTimeout(()=>d(""),5e3)}};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-2",children:"Opportunits de Trading"}),u.jsx("p",{className:"text-gray-600",children:"Dtection automatique des opportunits base sur l'analyse technique"})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsxs("button",{onClick:y,disabled:n||o,className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 font-semibold transition flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx(Bx,{className:"w-5 h-5"}),n||o?"Recherche...":" Rechercher"]}),u.jsxs("button",{onClick:b,disabled:a||t.length===0&&!s,className:"bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 font-semibold transition flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx(Vx,{className:"w-5 h-5"}),a?"Envoi...":"Envoyer Emails"]})]})]}),c&&u.jsx("div",{className:`p-4 rounded-lg ${c.includes("")?"bg-green-100 text-green-800 border border-green-300":"bg-red-100 text-red-800 border border-red-300"}`,children:u.jsx("p",{className:"font-medium",children:c})}),u.jsx(NS,{}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:" Analyse Technique"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"RSI (14)"}),u.jsxs("span",{className:`font-bold ${f<30?"text-green-600":f>70?"text-red-600":"text-gray-800"}`,children:[f.toFixed(2),f<30&&" (Survendu)",f>70&&" (Surachet)"]})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Supports Dtects"}),u.jsx("span",{className:"font-bold text-green-600",children:g.supports.length})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Rsistances Dtectes"}),u.jsx("span",{className:"font-bold text-red-600",children:g.resistances.length})]})]})]}),u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:" Supports Cls"}),u.jsx("div",{className:"space-y-2",children:g.supports.length>0?g.supports.map((S,k)=>u.jsxs("div",{className:"flex justify-between items-center text-sm",children:[u.jsxs("span",{className:"text-gray-600",children:["Support ",k+1]}),u.jsxs("span",{className:"font-bold text-green-600",children:["$",S.price.toFixed(2)]})]},k)):u.jsx("p",{className:"text-sm text-gray-500",children:"Aucun support dtect"})})]}),u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:" Rsistances Cls"}),u.jsx("div",{className:"space-y-2",children:g.resistances.length>0?g.resistances.map((S,k)=>u.jsxs("div",{className:"flex justify-between items-center text-sm",children:[u.jsxs("span",{className:"text-gray-600",children:["Rsistance ",k+1]}),u.jsxs("span",{className:"font-bold text-red-600",children:["$",S.price.toFixed(2)]})]},k)):u.jsx("p",{className:"text-sm text-gray-500",children:"Aucune rsistance dtecte"})})]})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("h2",{className:"text-xl font-bold text-gray-800",children:["Opportunits Actives (",t.length+(s?1:0),")"]}),n||o?u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-12 text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600",children:"Analyse en cours..."})]}):u.jsxs("div",{className:"space-y-6",children:[s&&u.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-blue-50 border-2 border-purple-300 rounded-xl p-2",children:[u.jsx("div",{className:"bg-purple-600 text-white px-3 py-1 rounded-t-lg text-xs font-bold inline-block mb-2",children:"SMC FOOTPRINT ANALYSIS - TEMPS REL"}),u.jsx($d,{opportunity:s,onAddToJournal:m},s.id)]}),!s&&t.length===0&&u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-12 text-center",children:[u.jsx("p",{className:"text-gray-600",children:"Aucune opportunit dtecte pour le moment."}),u.jsx("p",{className:"text-gray-500 text-sm mt-2",children:'Cliquez sur "Rechercher" pour analyser le march.'})]}),t.length>0&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"border-t-2 border-gray-200 pt-4",children:u.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Opportunits Dtectes Automatiquement"})}),t.map(S=>u.jsx($d,{opportunity:S,onAddToJournal:m},S.id))]})]})]})]})}function TS({trade:t,onUpdate:e,onDelete:s}){return u.jsxs("div",{className:`rounded-xl p-6 border-2 ${t.type==="ACHAT"?"border-green-300 bg-green-50":"border-red-300 bg-red-50"} shadow-lg`,children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-800",children:[t.type," XAU/USD"]}),u.jsx("p",{className:"text-sm text-gray-600",children:new Date(t.dateCreated).toLocaleDateString("fr-FR")})]}),u.jsx("div",{className:"flex gap-2",children:u.jsx("span",{className:`px-3 py-1 rounded-lg font-semibold ${t.status==="OUVERT"?"bg-blue-500 text-white":t.status==="FERM"?"bg-gray-500 text-white":"bg-yellow-500 text-white"}`,children:t.status})})]}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4",children:[u.jsxs("div",{className:"bg-white rounded p-2 border",children:[u.jsx("p",{className:"text-xs text-gray-600",children:"Entre"}),u.jsxs("p",{className:"font-bold text-sm",children:["$",t.entry]})]}),u.jsxs("div",{className:"bg-white rounded p-2 border",children:[u.jsx("p",{className:"text-xs text-gray-600",children:"Stop Loss"}),u.jsxs("p",{className:"font-bold text-sm text-red-600",children:["$",t.stopLoss]})]}),u.jsxs("div",{className:"bg-white rounded p-2 border",children:[u.jsx("p",{className:"text-xs text-gray-600",children:"Take Profit"}),u.jsxs("p",{className:"font-bold text-sm text-green-600",children:["$",t.takeProfit]})]}),u.jsxs("div",{className:"bg-white rounded p-2 border",children:[u.jsx("p",{className:"text-xs text-gray-600",children:"Lots"}),u.jsx("p",{className:"font-bold text-sm",children:t.lots})]})]}),t.status==="FERM"&&t.result!==void 0&&u.jsx("div",{className:`rounded-lg p-3 mb-3 ${t.result>0?"bg-green-100 border-2 border-green-400":"bg-red-100 border-2 border-red-400"}`,children:u.jsxs("p",{className:"text-sm font-semibold",children:["Rsultat : ",u.jsxs("span",{className:t.result>0?"text-green-700":"text-red-700",children:["$",t.result>0?"+":"",t.result]})]})}),t.notes&&u.jsx("div",{className:"bg-white rounded-lg p-3 mb-3 border",children:u.jsx("p",{className:"text-sm text-gray-700",children:t.notes})}),u.jsxs("div",{className:"flex gap-2",children:[t.status==="OUVERT"&&u.jsx("button",{onClick:()=>e(t.id,{status:"FERM"}),className:"flex-1 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 font-semibold",children:" Clturer"}),u.jsx("button",{onClick:()=>s(t.id),className:"px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 font-semibold",children:" Supprimer"})]})]})}function RS(){const[t,e]=_.useState([]),[s,i]=_.useState("ALL"),[n,r]=_.useState({}),[o,l]=_.useState({type:"ACHAT",entry:4286,stopLoss:4250,takeProfit:4350,lots:.1,notes:""}),a=()=>{const p=Fi();e(p),r(CS())};_.useEffect(()=>{a()},[]);const h=p=>{p.preventDefault();const g={...o,status:"OUVERT"};jg(g),a(),l({type:"ACHAT",entry:4286,stopLoss:4250,takeProfit:4350,lots:.1,notes:""}),alert("Trade ajout avec succs !")},c=(p,g)=>{if(g.status==="FERM"){if(t.find(w=>w.id===p)){const w=prompt("Entrez le rsultat du trade (ex: 150 ou -50):");if(w!==null){const v=parseFloat(w);ef(p,{...g,result:v}),a()}}}else ef(p,g),a()},d=p=>{confirm("tes-vous sr de vouloir supprimer ce trade ?")&&(ES(p),a())},f=t.filter(p=>s==="ALL"?!0:p.status===s);return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-2",children:"Journal de Trading"}),u.jsx("p",{className:"text-gray-600",children:"Enregistrez et suivez toutes vos positions"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("p",{className:"text-sm text-gray-600",children:"Total Trades"}),u.jsx(ls,{className:"w-5 h-5 text-gray-400"})]}),u.jsx("p",{className:"text-3xl font-bold text-gray-900",children:n.total||0}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Ferms"})]}),u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("p",{className:"text-sm text-gray-600",children:"Taux de Russite"}),u.jsx(Tx,{className:"w-5 h-5 text-indigo-500"})]}),u.jsxs("p",{className:"text-3xl font-bold text-indigo-600",children:[n.winRate||0,"%"]}),u.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[n.wins||0," wins / ",n.losses||0," losses"]})]}),u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("p",{className:"text-sm text-gray-600",children:"Profit Total"}),u.jsx(Ge,{className:"w-5 h-5 text-green-500"})]}),u.jsxs("p",{className:`text-3xl font-bold ${parseFloat(n.totalProfit||"0")>=0?"text-green-600":"text-red-600"}`,children:["$",n.totalProfit||"0.00"]}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Cumul"})]}),u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("p",{className:"text-sm text-gray-600",children:"Win Moyen"}),u.jsx(Mm,{className:"w-5 h-5 text-gray-400"})]}),u.jsxs("p",{className:"text-3xl font-bold text-green-600",children:["$",n.avgWin||"0.00"]}),u.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Loss: $",n.avgLoss||"0.00"]})]})]}),u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 md:p-8",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:" Enregistrer un Nouveau Trade"}),u.jsxs("form",{onSubmit:h,className:"space-y-6",children:[u.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Type de Trade"}),u.jsxs("select",{value:o.type,onChange:p=>l({...o,type:p.target.value}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-indigo-500 focus:outline-none",children:[u.jsx("option",{value:"ACHAT",children:"ACHAT"}),u.jsx("option",{value:"VENTE",children:"VENTE"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Prix d'Entre ($)"}),u.jsx("input",{type:"number",value:o.entry,onChange:p=>l({...o,entry:parseFloat(p.target.value)}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-indigo-500 focus:outline-none",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Stop Loss ($)"}),u.jsx("input",{type:"number",value:o.stopLoss,onChange:p=>l({...o,stopLoss:parseFloat(p.target.value)}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-indigo-500 focus:outline-none",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Take Profit ($)"}),u.jsx("input",{type:"number",value:o.takeProfit,onChange:p=>l({...o,takeProfit:parseFloat(p.target.value)}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-indigo-500 focus:outline-none",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Lots"}),u.jsx("input",{type:"number",step:"0.01",value:o.lots,onChange:p=>l({...o,lots:parseFloat(p.target.value)}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-indigo-500 focus:outline-none",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Notes"}),u.jsx("textarea",{value:o.notes,onChange:p=>l({...o,notes:p.target.value}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-indigo-500 focus:outline-none",rows:3,placeholder:"Notes sur le trade..."})]})]}),u.jsx("button",{type:"submit",className:"w-full bg-indigo-600 text-white px-6 py-4 rounded-lg hover:bg-indigo-700 font-bold text-lg transition",children:" Enregistrer le Trade"})]})]}),u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 md:p-8",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[u.jsxs("h2",{className:"text-2xl font-bold text-gray-800",children:["Mes Trades (",f.length,")"]}),u.jsx("div",{className:"flex gap-2",children:["ALL","OUVERT","FERM"].map(p=>u.jsx("button",{onClick:()=>i(p),className:`px-4 py-2 rounded-lg font-medium transition ${s===p?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:p==="ALL"?"Tous":p.charAt(0)+p.slice(1).toLowerCase()},p))})]}),f.length>0?u.jsx("div",{className:"space-y-6",children:f.sort((p,g)=>g.id-p.id).map(p=>u.jsx(TS,{trade:p,onUpdate:c,onDelete:d},p.id))}):u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Aucun trade enregistr"}),u.jsx("p",{className:"text-gray-600",children:"Commencez par enregistrer votre premier trade ci-dessus."})]})]})]})}function MS({prefilledData:t=null}){const[e,s]=_.useState(1e3),[i,n]=_.useState(1),[r,o]=_.useState(4286),[l,a]=_.useState(4250);_.useEffect(()=>{t&&(t.entry&&o(t.entry),t.stopLoss&&a(t.stopLoss))},[t]);const h=e*(i/100),c=Math.abs(r-l),d=(c/r*100).toFixed(2),f=h/c,p=(f/100).toFixed(2),g=r+40,x=r+80,w=40*(f/r),v=80*(f/r),y=(w/h).toFixed(2),m=(v/h).toFixed(2);return u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 md:p-8",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:" Calculateur de Position"}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Capital Total ($)"}),u.jsx("input",{type:"number",value:e,onChange:b=>s(Number(b.target.value)),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-indigo-500 focus:outline-none"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Risque par Trade (%)"}),u.jsx("input",{type:"number",value:i,onChange:b=>n(Number(b.target.value)),min:.5,max:5,step:.5,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-indigo-500 focus:outline-none"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" Recommand : 1-2%"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Prix d'Entre ($)"}),u.jsx("input",{type:"number",value:r,onChange:b=>o(Number(b.target.value)),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-indigo-500 focus:outline-none"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Stop Loss ($)"}),u.jsx("input",{type:"number",value:l,onChange:b=>a(Number(b.target.value)),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-indigo-500 focus:outline-none"})]})]}),u.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 rounded-xl p-6 border-2 border-indigo-200",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:" Rsultats du Calcul"}),u.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-6",children:[u.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[u.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Montant  Risquer"}),u.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["$",h.toFixed(2)]})]}),u.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[u.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Distance Stop Loss"}),u.jsxs("p",{className:"text-2xl font-bold text-gray-800",children:["$",c.toFixed(2)]}),u.jsxs("p",{className:"text-xs text-gray-500",children:["(",d,"%)"]})]}),u.jsxs("div",{className:"bg-white rounded-lg p-4 border border-indigo-300 border-2",children:[u.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Taille Position"}),u.jsxs("p",{className:"text-2xl font-bold text-indigo-600",children:[p," lots"]})]})]}),u.jsxs("div",{className:"bg-white rounded-lg p-4 border-2 border-green-300",children:[u.jsx("h4",{className:"font-bold text-gray-800 mb-3",children:" Profits Potentiels"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("span",{className:"text-sm text-gray-700",children:["TP1 ($",g.toFixed(2),") :"]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("span",{className:"font-bold text-green-600",children:["$",w.toFixed(2)]}),u.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(R:R 1:",y,")"]})]})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("span",{className:"text-sm text-gray-700",children:["TP2 ($",x.toFixed(2),") :"]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("span",{className:"font-bold text-green-600",children:["$",v.toFixed(2)]}),u.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(R:R 1:",m,")"]})]})]})]})]})]}),i>2&&u.jsx("div",{className:"mt-6 bg-red-50 border-2 border-red-300 rounded-lg p-4",children:u.jsx("p",{className:"text-red-800 font-semibold",children:" Attention : Vous risquez plus de 2% de votre capital. C'est trs risqu !"})})]})}function OS(){const[t,e]=_.useState([]),[s,i]=_.useState(0);_.useEffect(()=>{const r=Fi().filter(l=>l.status==="OUVERT");e(r);const o=r.reduce((l,a)=>{const h=Math.abs(a.entry-a.stopLoss)*a.lots;return l+h},0);i(o)},[]);const n=1.8;return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-2",children:"Gestion du Risque"}),u.jsx("p",{className:"text-gray-600",children:"Calculez vos positions et grez votre exposition au risque"})]}),u.jsxs("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 rounded-2xl shadow-xl p-6 md:p-8 text-white",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsx(zn,{className:"w-8 h-8"}),u.jsx("h2",{className:"text-2xl font-bold",children:"Risque Total du Portefeuille"})]}),u.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-xl p-6",children:[u.jsx("p",{className:"text-white/80 text-sm mb-2",children:"Positions Ouvertes"}),u.jsx("p",{className:"text-4xl font-bold",children:t.length})]}),u.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-xl p-6",children:[u.jsx("p",{className:"text-white/80 text-sm mb-2",children:"Capital en Risque"}),u.jsxs("p",{className:"text-4xl font-bold",children:["$",s.toFixed(2)]})]}),u.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-xl p-6",children:[u.jsx("p",{className:"text-white/80 text-sm mb-2",children:"Exposition Totale"}),u.jsxs("p",{className:"text-4xl font-bold",children:[n.toFixed(1),"%"]}),u.jsx("div",{className:"mt-3",children:u.jsx("div",{className:"w-full bg-white/20 rounded-full h-2",children:u.jsx("div",{className:"h-2 rounded-full transition-all bg-green-400",style:{width:`${Math.min(n*20,100)}%`}})})})]})]}),u.jsx("div",{className:"mt-6 bg-white/10 backdrop-blur rounded-xl p-4",children:u.jsx("div",{className:"flex items-start gap-3",children:u.jsxs(u.Fragment,{children:[u.jsx(zn,{className:"w-6 h-6 text-green-300 flex-shrink-0"}),u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-green-100",children:"Risque Faible "}),u.jsx("p",{className:"text-sm text-white/80",children:"Votre exposition est saine. Vous pouvez envisager de nouvelles positions."})]})]})})})]}),u.jsx(MS,{}),u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 md:p-8",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:" Positions Ouvertes"}),t.length>0?u.jsx("div",{className:"space-y-4",children:t.map(r=>u.jsxs("div",{className:"border-2 border-gray-200 rounded-xl p-4",children:[u.jsxs("div",{className:"flex justify-between items-start mb-3",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"font-bold text-gray-800",children:[r.type," XAU/USD"]}),u.jsx("p",{className:"text-sm text-gray-600",children:new Date(r.dateCreated).toLocaleDateString("fr-FR")})]}),u.jsx("span",{className:`px-3 py-1 rounded-lg font-semibold ${r.type==="ACHAT"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:r.type})]}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-600",children:"Entre"}),u.jsxs("p",{className:"font-bold",children:["$",r.entry]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-600",children:"Stop Loss"}),u.jsxs("p",{className:"font-bold text-red-600",children:["$",r.stopLoss]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-600",children:"Take Profit"}),u.jsxs("p",{className:"font-bold text-green-600",children:["$",r.takeProfit]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-600",children:"Risque"}),u.jsxs("p",{className:"font-bold text-orange-600",children:["$",(Math.abs(r.entry-r.stopLoss)*r.lots).toFixed(2)]})]})]})]},r.id))}):u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Aucune position ouverte"}),u.jsx("p",{className:"text-gray-600",children:"Utilisez le calculateur ci-dessus pour planifier vos prochaines positions."})]})]}),u.jsxs("div",{className:"bg-amber-50 border-2 border-amber-200 rounded-xl p-6",children:[u.jsxs("h3",{className:"font-bold text-amber-900 mb-3 flex items-center gap-2",children:[u.jsx(Rm,{className:"w-5 h-5"}),"Rgles de Gestion du Risque"]}),u.jsxs("ul",{className:"space-y-2 text-sm text-amber-800",children:[u.jsx("li",{children:" Ne risquez jamais plus de 1-2% de votre capital par trade"}),u.jsx("li",{children:" L'exposition totale ne doit pas dpasser 5% de votre capital"}),u.jsx("li",{children:" Utilisez toujours un stop loss sur chaque position"}),u.jsx("li",{children:" Visez un ratio risque/rcompense minimum de 1:2"}),u.jsx("li",{children:" Ne tradez pas sous le coup de l'motion"})]})]})]})}function LS(){const[t,e]=_.useState(null),s=[{id:"smc-intro",title:"Introduction aux Smart Money Concepts (SMC)",icon:Ge,description:'Dcouvrez comment trader comme les institutions et le "smart money"',category:"SMC",content:`Les Smart Money Concepts (SMC) reprsentent une approche moderne du trading base sur la comprhension du comportement des institutions financires.

Qu'est-ce que le Smart Money ?
 Grandes banques et institutions financires
 Fonds d'investissement et hedge funds
 Acteurs qui dplacent rellement le march
 Ils laissent des "empreintes" sur les graphiques

Diffrence avec l'analyse technique classique :
 Analyse Technique : Patterns, indicateurs, moyennes mobiles
 SMC : Structure du march, zones de liquidit, order blocks
 SMC cherche  identifier O le smart money entre

Concepts cls du SMC :
 Order Blocks : Zones o les institutions placent leurs ordres
 Fair Value Gaps (FVG) : Dsquilibres de prix  combler
 Break of Structure (BOS) : Confirmation de tendance
 Change of Character (ChoCh) : Signal de retournement
 Liquidity Zones : Zones o le smart money chasse les stops

Pourquoi le SMC fonctionne sur XAU/USD ?
 L'or est fortement influenc par les institutions
 Mouvements clairs et prvisibles
 Respecte trs bien la structure de march
 Liquidit leve pour absorber les gros ordres

Le SMC vous permet de trader AVEC les institutions, pas contre elles.`},{id:"order-blocks",title:"Order Blocks : Les Zones d'Entre Institutionnelles",icon:ls,description:"Identifiez les zones o les institutions placent leurs ordres massifs",category:"SMC",content:`Les Order Blocks sont des zones de prix o les institutions ont plac des ordres importants, crant un dsquilibre offre/demande.

Qu'est-ce qu'un Order Block ?
 Dernire bougie haussire avant une chute brutale (Bearish OB)
 Dernire bougie baissire avant une hausse brutale (Bullish OB)
 Zone o les "gros joueurs" ont absorb la liquidit
 Forte probabilit de raction du prix  son retour

Comment identifier un Order Block ?
1. Cherchez un mouvement impulsif fort
2. Identifiez la dernire bougie AVANT le mouvement
3. Cette bougie = votre Order Block
4. Plus le mouvement est fort, plus l'OB est valide

Bullish Order Block (Zone d'achat) :
 Dernire bougie baissire avant hausse explosive
 Prix revient = institutions achtent encore
 Entre : Au retest de la zone
 Stop Loss : Sous le bas de l'Order Block

Bearish Order Block (Zone de vente) :
 Dernire bougie haussire avant chute explosive
 Prix revient = institutions vendent encore
 Entre : Au retest de la zone
 Stop Loss : Au-dessus du haut de l'Order Block

Rgles importantes :
 Un OB non test est plus fort
 Plus l'OB est rcent, plus il est valide
 Un OB cass perd sa validit
 Cherchez confluence avec structure de march

Sur XAU/USD, les Order Blocks en timeframe 4H et Daily sont les plus fiables pour le swing trading.`},{id:"fvg",title:"Fair Value Gaps (FVG) : Les Dsquilibres de Prix",icon:Tl,description:"Exploitez les zones de dsquilibre que le march revisite",category:"SMC",content:`Un Fair Value Gap (FVG) est un dsquilibre de prix cr par un mouvement rapide et impulsif, laissant une "zone vide" sur le graphique.

Qu'est-ce qu'un FVG ?
 Zone o il y a eu peu ou pas d'changes
 Cr par un mouvement violent et rapide
 Le march a tendance  revenir "combler" ces zones
 Opportunits de trading  haute probabilit

Comment identifier un FVG ?

Bullish FVG (3 bougies) :
1. Bougie 1 : Bougie de base
2. Bougie 2 : Grande bougie haussire (impulsion)
3. Bougie 3 : Continuation haussire
 FVG = Espace entre le HIGH de bougie 1 et le LOW de bougie 3

Bearish FVG (3 bougies) :
1. Bougie 1 : Bougie de base
2. Bougie 2 : Grande bougie baissire (impulsion)
3. Bougie 3 : Continuation baissire
 FVG = Espace entre le LOW de bougie 1 et le HIGH de bougie 3

Comment trader les FVG ?

Setup Haussier :
 Attendre retour du prix dans le Bullish FVG
 Chercher confirmation (rejet, bougie d'inversion)
 Entre : Au milieu ou bas du FVG
 Stop Loss : Sous le FVG
 Take Profit : Prochain OB ou niveau de structure

Setup Baissier :
 Attendre retour du prix dans le Bearish FVG
 Chercher confirmation (rejet, bougie d'inversion)
 Entre : Au milieu ou haut du FVG
 Stop Loss : Au-dessus du FVG
 Take Profit : Prochain OB ou niveau de structure

Types de FVG :
 FVG Standard : Se comble partiellement (50%)
 FVG Inversion : Se comble totalement puis inverse
 FVG Rejet : Prix touche et rejette immdiatement

Rgles d'or :
 Tous les FVG ne sont pas tradables
 Cherchez FVG + Order Block pour plus de force
 FVG en timeframe suprieur > FVG en timeframe infrieur
 Un FVG combl perd sa validit

Pour XAU/USD, les FVG en Daily sont excellents pour les entres swing.`},{id:"market-structure",title:"Structure de March : BOS et ChoCh",icon:Ge,description:"Comprenez les changements de tendance avant tout le monde",category:"SMC",content:`La structure de march est le fondement du SMC. Comprendre BOS et ChoCh vous permet d'anticiper les mouvements.

Structure de March - Les Bases :

Tendance Haussire :
 Srie de Higher Highs (HH) et Higher Lows (HL)
 Chaque sommet > sommet prcdent
 Chaque creux > creux prcdent

Tendance Baissire :
 Srie de Lower Lows (LL) et Lower Highs (LH)
 Chaque creux < creux prcdent
 Chaque sommet < sommet prcdent

Break of Structure (BOS) :

Dfinition :
 Cassure d'un niveau de structure dans la direction de la tendance
 CONFIRME que la tendance continue
 Signal pour chercher des opportunits d'achat/vente

BOS Haussier :
 Prix casse le dernier Higher High
 Confirmation de force haussire
 Cherchez retracement vers OB pour achat

BOS Baissier :
 Prix casse le dernier Lower Low
 Confirmation de force baissire
 Cherchez retracement vers OB pour vente

Change of Character (ChoCh) :

Dfinition :
 Cassure d'un niveau de structure CONTRE la tendance
 ALERTE qu'un retournement approche
 Pas encore confirmation, mais avertissement

ChoCh en Tendance Haussire :
 Prix casse le dernier Higher Low
 Signal d'affaiblissement haussier
 Attention : retournement possible
 Attendre confirmation avant de shorter

ChoCh en Tendance Baissire :
 Prix casse le dernier Lower High
 Signal d'affaiblissement baissier
 Attention : retournement possible
 Attendre confirmation avant d'acheter

Comment trader avec BOS et ChoCh ?

Setup aprs BOS :
1. BOS confirme la tendance
2. Attendre retracement vers zone de demande/offre
3. Chercher Order Block ou FVG
4. Entre avec confirmation
5. Stop sous la zone, TP au prochain niveau

Setup aprs ChoCh :
1. ChoCh alerte d'un possible retournement
2. Attendre BOS dans la direction oppose (CONFIRMATION)
3. Retracement vers premier Order Block
4. Entre avec gestion de risque stricte
5. Stop serr, TP conservateur au dbut

Erreurs  viter :
 Ne pas trader un ChoCh seul (attendre BOS oppos)
 Ne pas ignorer la structure suprieure (Daily > 4H > 1H)
 Ne pas forcer un trade contre la structure claire
 Ne pas confondre correction et changement de tendance

Sur XAU/USD :
 Structure Daily = Direction principale
 Structure 4H = Timing d'entre
 Structure 1H = Confirmation et prcision
 Respectez TOUJOURS la structure du timeframe suprieur`},{id:"liquidity",title:"Zones de Liquidit : O le Smart Money Chasse",icon:ls,description:"Comprenez comment les institutions collectent la liquidit",category:"SMC",content:`La liquidit est le carburant du march. Les institutions ont BESOIN de liquidit pour remplir leurs gros ordres.

Qu'est-ce que la Liquidit ?

Dfinition :
 Ensemble d'ordres groups  un niveau de prix
 Stop Loss des traders = Liquidit
 Les institutions "chassent" ces stops avant d'inverser

O se trouve la Liquidit ?

1. Au-dessus des Highs rcents :
 Buy Stops des vendeurs
 Stop Loss des shorts
 Equal Highs = Double liquidit

2. En-dessous des Lows rcents :
 Sell Stops des acheteurs
 Stop Loss des longs
 Equal Lows = Double liquidit

3. Niveaux psychologiques :
 Nombres ronds (4200, 4300, 4400)
 Beaucoup de traders placent stops l
 Zones magntiques pour le prix

Types de Raids de Liquidit :

Liquidity Grab (Fausse cassure) :
 Prix casse un High/Low
 Active tous les stops
 PUIS inverse violemment
 C'est l que les institutions entrent

Liquidity Sweep :
 Mouvement rapide pour prendre liquidit
 Souvent avec une grande mche
 Retour immdiat dans la range
 Setup de trading  haute probabilit

Comment trader la Liquidit ?

Setup Buy (Sweep d'un Low) :
1. Identifier zone de liquidit (Equal Lows, Support)
2. Prix descend et casse brivement
3. Forte raction haussire (rejet)
4. Entre au-dessus du Low initial
5. Stop sous le sweep
6. TP au prochain niveau de structure

Setup Sell (Sweep d'un High) :
1. Identifier zone de liquidit (Equal Highs, Rsistance)
2. Prix monte et casse brivement
3. Forte raction baissire (rejet)
4. Entre en-dessous du High initial
5. Stop au-dessus du sweep
6. TP au prochain niveau de structure

Confluence Parfaite (Setup Premium) :

Prix fait un sweep de liquidit...
+ Zone d'Order Block
+ Fair Value Gap
+ Niveau de structure important
= Trade  trs haute probabilit

Rgles importantes :
 Ne pas tre du mauvais ct du sweep
 Attendez TOUJOURS la confirmation du rejet
 Plus le sweep est violent, plus le mouvement inverse sera fort
 Timeframe suprieur > timeframe infrieur

Protection personnelle :
 Ne placez PAS vos stops exactement sur les niveaux vidents
 Donnez de l'espace (quelques pips au-del)
 Ou utilisez des stops mentaux (risqu, ncessite discipline)

Sur XAU/USD, les raids de liquidit sont TRS frquents, surtout pendant :
 Ouverture de Londres (9h)
 Ouverture de New York (14h-15h)
 Publications conomiques importantes
 Ces moments sont parfaits pour voir des setups de liquidit`},{id:"smc-strategy",title:"Stratgie Complte SMC pour XAU/USD",icon:zn,description:"Combinez tous les concepts SMC dans une stratgie cohrente",category:"SMC",content:`Voici comment combiner tous les concepts SMC dans une stratgie complte et profitable.

Mthodologie Top-Down (Essentielle) :

1. Analyse Monthly/Weekly :
 Tendance gnrale du march
 Niveaux de structure majeurs
 Zones de liquidit long terme

2. Analyse Daily :
 Structure actuelle
 Order Blocks principaux
 FVG importants
 Direction de trading de la semaine

3. Analyse 4H :
 Raffinement de la structure
 Points d'entre potentiels
 Gestion de trade

4. Analyse 1H :
 Timing prcis d'entre
 Confirmation finale
 Stop Loss et Take Profit prcis

Checklist pour un Trade SMC Parfait :

1. Direction (Daily) :
 Tendance claire identifie (HH/HL ou LL/LH)
 Pas en zone de retournement majeur
 Structure suprieure aligne

2. Zone d'Entre (4H/Daily) :
 Order Block valide et non test
 OU Fair Value Gap clair
 Confluence avec niveau de structure
 Possible liquidity sweep

3. Confirmation (1H/4H) :
 Prix rejette la zone (chandelier)
 Break of Structure dans notre direction
 Volume/momentum en notre faveur

4. Gestion de Risque :
 Risque max 1-2% du capital
 Stop Loss logique (sous OB/FVG)
 Ratio Risk/Reward minimum 1:2
 Position sizing calcul

Setup d'Achat Complet (Exemple) :

1. Daily : Tendance haussire (HH, HL)
2. Daily : Prix fait retracement vers zone de demande
3. 4H : Order Block bullish identifi
4. 4H : Fair Value Gap dans la mme zone
5. 1H : Prix fait liquidity sweep du Low
6. 1H : Forte bougie de rejet haussire
7. 1H : Break of Structure haussier
 ENTRE  L'ACHAT

Entre : Au-dessus du sweep
Stop Loss : Sous l'Order Block
Take Profit 1 (50%) : FVG oppos
Take Profit 2 (50%) : Prochain niveau de structure

Setup de Vente Complet (Exemple) :

1. Daily : Tendance baissire (LL, LH)
2. Daily : Prix fait retracement vers zone d'offre
3. 4H : Order Block bearish identifi
4. 4H : Fair Value Gap dans la mme zone
5. 1H : Prix fait liquidity sweep du High
6. 1H : Forte bougie de rejet baissire
7. 1H : Break of Structure baissier
 ENTRE  LA VENTE

Entre : En-dessous du sweep
Stop Loss : Au-dessus de l'Order Block
Take Profit 1 (50%) : FVG oppos
Take Profit 2 (50%) : Prochain niveau de structure

Gestion de Trade SMC :

Dplacement du Stop Loss :
 Aprs TP1 atteint : Break-even
 Aprs BOS fort : Sous le dernier HL (achat) ou LH (vente)
 Jamais largir le stop original

Sortie Anticipe :
 ChoCh contre notre position
 Cassure d'Order Block support
 Perte de structure

Erreurs Mortelles  viter :

1. Sur-Analyse (Paralysis by Analysis)
 Trop de lignes sur le graphique
 Confusion entre timeframes
 Solution : Restez simple et clair

2. FOMO (Fear Of Missing Out)
 Entrer sans tous les critres
 Chasser le prix
 Solution : Checklist stricte

3. Ignorer la Structure Suprieure
 Shorter en tendance haussire Daily
 Acheter en tendance baissire Daily
 Solution : Respectez TOUJOURS le Daily

4. Mauvaise Gestion du Risque
 Position trop grosse
 Stop Loss trop serr
 Solution : 1-2% max par trade

5. Ne pas Journaliser
 Rpter les mmes erreurs
 Pas de progression
 Solution : Journal dtaill aprs chaque trade

Plan d'Entranement SMC :

Semaine 1-2 : Identification
 Marquer Order Blocks sur graphiques passs
 Identifier FVG historiques
 Noter BOS et ChoCh

Semaine 3-4 : Analyse
 Analyser 20 setups passs
 Noter confluence et rsultats
 Comprendre ce qui fonctionne

Semaine 5-6 : Paper Trading
 Trader en dmo avec rgles strictes
 Journal de tous les trades
 Analyser performances

Semaine 7+ : Small Position Live
 Commencer avec position minimale
 Respecter la stratgie  100%
 Augmenter taille progressivement SEULEMENT si profitable

Le SMC est puissant mais demande PRATIQUE et DISCIPLINE. Prenez le temps de matriser chaque concept avant de trader rel.`},{id:"swing-trading",title:"Qu'est-ce que le Swing Trading ?",icon:Ge,description:"Apprenez les bases du swing trading et pourquoi c'est adapt pour XAU/USD",category:"Dbutant",content:`Le swing trading est une stratgie qui consiste  maintenir des positions pendant plusieurs jours ou semaines pour profiter des mouvements de prix  moyen terme.

Contrairement au day trading qui ncessite une surveillance constante, le swing trading permet de :
 Profiter des tendances significatives du march
 viter le bruit des mouvements intrajournaliers
 Avoir une vie quilibre sans passer la journe devant les crans

Pour l'or (XAU/USD), le swing trading est particulirement efficace car :
 L'or a des tendances claires et durables
 Moins de volatilit que les cryptomonnaies
 Ragit aux vnements macroconomiques importants

Horizon de temps recommand : 3-10 jours par position`},{id:"candlesticks",title:"Comment Lire les Chandeliers Japonais ?",icon:Tl,description:"Matrisez l'art de lire les graphiques en chandeliers",category:"Dbutant",content:`Les chandeliers japonais sont la reprsentation graphique la plus utilise en trading.

Chaque chandelier reprsente :
 Open (Ouverture) : Prix au dbut de la priode
 High (Plus Haut) : Prix maximum atteint
 Low (Plus Bas) : Prix minimum atteint
 Close (Clture) : Prix  la fin de la priode

Couleurs :
 Vert : Prix de clture > Prix d'ouverture (hausse)
 Rouge : Prix de clture < Prix d'ouverture (baisse)

Patterns importants  connatre :
 Doji : Indcision du march
 Marteau : Possible retournement haussier
 toile Filante : Possible retournement baissier
 Engloutissante : Fort signal de retournement

Les chandeliers en timeframe Daily sont les plus fiables pour le swing trading.`},{id:"risk-management",title:"Gestion du Risque : La Rgle des 1-2%",icon:zn,description:"La rgle d'or pour protger votre capital",category:"Essentiel",content:`La gestion du risque est LA comptence la plus importante en trading. Sans elle, mme la meilleure stratgie chouera.

La rgle des 1-2% :
 Ne risquez JAMAIS plus de 1-2% de votre capital par trade
 Avec $10,000 de capital : risque max = $100-200 par trade
 Cela vous permet de survivre  50 trades perdants conscutifs

Comment appliquer cette rgle :
1. Dfinir votre capital total
2. Calculer 1-2% de ce capital
3. Utiliser ce montant pour dimensionner votre position
4. Ajuster la taille en fonction de la distance du stop loss

Exemple pratique :
 Capital : $5,000
 Risque : 2% = $100
 Entre : $4,286
 Stop Loss : $4,250
 Distance : $36
 Taille position : $100 / $36 = 0.09 lots

Autres rgles importantes :
 Exposition totale max : 5% du capital
 Toujours utiliser un stop loss
 Ne jamais dplacer un stop loss pour augmenter la perte`},{id:"support-resistance",title:"Supports et Rsistances Expliqus",icon:ls,description:"Identifiez les niveaux cls o le prix ragit",category:"Technique",content:`Les supports et rsistances sont des niveaux de prix o la pression acheteuse ou vendeuse est forte.

Support :
 Zone o le prix a tendance  rebondir
 Les acheteurs sont plus forts que les vendeurs
 Opportunit d'achat potentielle

Rsistance :
 Zone o le prix a tendance  tre rejet
 Les vendeurs sont plus forts que les acheteurs
 Opportunit de vente potentielle

Comment les identifier :
1. Cherchez les plus hauts et plus bas locaux
2. Tracez des lignes horizontales  ces niveaux
3. Plus un niveau a t test, plus il est fort
4. Les anciens supports deviennent rsistances (et vice-versa)

Stratgie de trading :
 Achat prs d'un support avec stop loss en dessous
 Vente prs d'une rsistance avec stop loss au-dessus
 Breakout : Achat/Vente quand le prix casse un niveau

Sur XAU/USD, les niveaux psychologiques ($4,200, $4,300) sont particulirement importants.`},{id:"rsi-indicators",title:"RSI et Indicateurs Techniques",icon:Tl,description:"Utilisez les indicateurs pour confirmer vos analyses",category:"Technique",content:`Les indicateurs techniques aident  confirmer vos dcisions de trading.

RSI (Relative Strength Index) :
 Oscillateur entre 0 et 100
 RSI < 30 : Zone de survente (potentiel achat)
 RSI > 70 : Zone de surachat (potentiel vente)
 Divergences : Signaux puissants de retournement

Comment utiliser le RSI :
1. Ne tradez PAS uniquement sur le RSI
2. Utilisez-le comme CONFIRMATION avec S/R
3. RSI < 30 + Support = Signal d'achat fort
4. RSI > 70 + Rsistance = Signal de vente fort

Autres indicateurs utiles :
 Moyennes Mobiles : Identifient la tendance
 MACD : Confirme les retournements
 Volume : Confirme la force du mouvement

Rgle d'or : Les indicateurs CONFIRMENT, ils ne prdisent pas !

Pour le swing trading sur XAU/USD, utilisez :
 RSI 14 priodes en Daily
 Moyennes mobiles 50 et 200
 Attendez la convergence de plusieurs signaux`},{id:"psychology",title:"Psychologie du Trading",icon:Ka,description:"Matrisez vos motions pour russir",category:"Mental",content:`95% des traders chouent non pas  cause de leur stratgie, mais  cause de leur psychologie.

Erreurs psychologiques communes :
 FOMO (Fear Of Missing Out) : Entrer sans signal
 Revenge Trading : Vouloir rcuprer aprs une perte
 Over-Trading : Prendre trop de positions
 Moving Stop Loss : Refuser d'accepter la perte

Rgles mentales  suivre :
1. Acceptez que des pertes sont normales
2. Un bon trader gagne 60-70% du temps (pas 100%)
3. Respectez TOUJOURS votre plan de trading
4. Ne tradez pas sous le coup de l'motion
5. Prenez des pauses aprs 2-3 pertes conscutives

Comment dvelopper la discipline :
 Tenez un journal de trading dtaill
 Analysez vos erreurs sans jugement
 Clbrez les bonnes dcisions (pas seulement les gains)
 Fixez-vous des objectifs hebdomadaires ralistes

Le trading est un marathon, pas un sprint. La rgularit bat la performance explosive.`}],i=a=>{e(t===a?null:a)},n=["Tous","SMC","Dbutant","Essentiel","Technique","Mental"],[r,o]=_.useState("Tous"),l=r==="Tous"?s:s.filter(a=>a.category===r);return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-2",children:"Centre d'ducation"}),u.jsx("p",{className:"text-gray-600",children:"Apprenez les bases et perfectionnez vos comptences en trading"})]}),u.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2",children:n.map(a=>u.jsx("button",{onClick:()=>o(a),className:`px-4 py-2 rounded-lg font-medium whitespace-nowrap transition ${r===a?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:a},a))}),u.jsx("div",{className:"grid gap-6",children:l.map(a=>{const h=a.icon,c=t===a.id;return u.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden border-2 border-gray-100 hover:border-indigo-200 transition",children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[u.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center flex-shrink-0",children:u.jsx(h,{className:"w-6 h-6 text-indigo-600"})}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx("h3",{className:"text-xl font-bold text-gray-800",children:a.title}),u.jsx("span",{className:"px-2 py-1 bg-indigo-100 text-indigo-700 text-xs font-semibold rounded",children:a.category})]}),u.jsx("p",{className:"text-gray-600 text-sm",children:a.description})]})]}),c&&u.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:u.jsx("div",{className:"prose prose-sm max-w-none text-gray-700 whitespace-pre-line",children:a.content})}),u.jsx("button",{onClick:()=>i(a.id),className:"mt-4 w-full bg-indigo-50 text-indigo-700 px-4 py-3 rounded-lg hover:bg-indigo-100 font-semibold transition flex items-center justify-center gap-2",children:c?u.jsxs(u.Fragment,{children:[u.jsx(Ox,{className:"w-5 h-5"}),"Rduire"]}):u.jsxs(u.Fragment,{children:[u.jsx(Mx,{className:"w-5 h-5"}),"Lire Plus"]})})]})},a.id)})}),u.jsxs("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 rounded-2xl shadow-xl p-6 md:p-8 text-white",children:[u.jsxs("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-3",children:[u.jsx(Ka,{className:"w-8 h-8"}),"Ressources Recommandes"]}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-lg p-4",children:[u.jsx("h3",{className:"font-bold mb-2",children:" Livres Essentiels"}),u.jsxs("ul",{className:"text-sm space-y-1 text-white/90",children:[u.jsx("li",{children:" Trading in the Zone - Mark Douglas"}),u.jsx("li",{children:" Japanese Candlestick Charting Techniques"}),u.jsx("li",{children:" The Disciplined Trader - Mark Douglas"})]})]}),u.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-lg p-4",children:[u.jsx("h3",{className:"font-bold mb-2",children:" Pratique"}),u.jsxs("ul",{className:"text-sm space-y-1 text-white/90",children:[u.jsx("li",{children:" Commencez avec un compte dmo"}),u.jsx("li",{children:" Tenez votre journal de trading"}),u.jsx("li",{children:" Analysez vos erreurs chaque semaine"})]})]})]})]})]})}function IS(){var bt,qe,T,L,I,G,se,ms,dt,Ds;const{priceData:t}=Bo(),[e,s]=_.useState({supports:[],resistances:[]}),[i,n]=_.useState(!0),[r,o]=_.useState("active"),[l,a]=_.useState(null),[h,c]=_.useState([]),[d,f]=_.useState({}),p={active:{id:"active",name:"SETUP ACTIV",description:"Position haussire active",situation:"L'or a franchi la rsistance des 4200$ avec un fort volume. Le RSI est  72.5, en zone de surachat lger. Les moyennes mobiles sont alignes positivement (EMA20 > EMA50 > EMA100). La tendance de fond reste trs haussire.",recommendation:"ACHETER sur repli vers 4250-4270$ ou breakout confirm au-dessus de 4313$",entry:{price:4280,condition:"Entre au-dessus de 4280$ avec confirmation volume"},stopLoss:{price:4240,reason:"En dessous du support cl et de l'EMA50"},takeProfits:[{level:1,price:4320,ratio:"1:1.0",action:"Scuriser 30% de la position"},{level:2,price:4360,ratio:"1:2.0",action:"Scuriser 40% supplmentaires"},{level:3,price:4400,ratio:"1:3.0",action:"Laisser courir les 30% restants avec trailing stop"}],technicalAnalysis:["Cassure nette de la rsistance 4200$ avec fort volume","RSI  72.5 - Zone de surachat mais momentum fort","MACD croisement haussier confirm","Support immdiat  4260$, majeur  4200$","Objectif technique  4400$ (extension Fibonacci 161.8%)"],fundamentalAnalysis:["Dollar faible suite aux commentaires dovish de la Fed","Inflation persistante favorise les valeurs refuges","Demande physique soutenue en Asie (Inde +15% YoY)","Banques centrales continuent leurs achats nets","Tensions gopolitiques au Moyen-Orient"],catalysts:["Publication NFP vendredi - Volatilit attendue","Discours Powell mardi sur politique montaire","Donnes inflation CPI jeudi (consensus 3.1%)","Runion FOMC dans 2 semaines","Clture mensuelle fin de semaine - Importante"]},wait:{id:"wait",name:"ATTENDRE - Repli",description:"En attente d'opportunit d'achat",situation:"Aprs la forte hausse vers 4280$, l'or montre des signes d'essoufflement  court terme. Le RSI  72.5 est en zone de surachat. Une consolidation ou un repli technique vers les supports serait sain avant de reprendre la hausse.",recommendation:"PATIENTER - Attendre un repli vers la zone 4200-4250$ pour entrer dans de meilleures conditions",entry:{price:4225,condition:"Attendre repli vers 4200-4225$ avec rebond confirm"},stopLoss:{price:4180,reason:"Sous le support majeur et l'EMA100"},takeProfits:[{level:1,price:4280,ratio:"1:1.2",action:"Prendre 40% des profits"},{level:2,price:4330,ratio:"1:2.3",action:"Prendre 40% supplmentaires"},{level:3,price:4370,ratio:"1:3.2",action:"Laisser courir avec trailing stop serr"}],technicalAnalysis:["RSI  72.5 - Zone de surachat atteinte","Prix loign de l'EMA20 - Correction probable","Divergence baissire mineure sur indicateurs","Support solide  4200$ et zone de repli idale","Volume en baisse sur les dernires hausses"],fundamentalAnalysis:["Mme contexte fondamental haussier","Attendre meilleur point d'entre pour optimiser R:R","Pas d'urgence, patience rcompense","Contexte gnral reste favorable  l'or","Moyen/long terme haussier intact"],catalysts:["Guetter les publications conomiques pour timing","Surveiller raction au support 4200$","Opportunit probable dans les 2-5 jours","Ne pas courir aprs le prix actuel","Meilleur ratio risque/rcompense  venir"]}},g=async()=>{n(!0);try{const C=Date.now(),A={Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im13ZWZ2bGRiZXZ1Y2R2b3NmaG9wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU1MTgxOTUsImV4cCI6MjA4MTA5NDE5NX0.PXhCk_Na2NNqWEje1PJ3f8OB9eCTa79CxjqYPjtnWzw","Content-Type":"application/json"},[oe,He]=await Promise.all([fetch(`https://mwefvldbevucdvosfhop.supabase.co/functions/v1/get-gold-history?timeframe=Daily&t=${C}`,{headers:A,cache:"no-store"}),fetch(`https://mwefvldbevucdvosfhop.supabase.co/functions/v1/analyze-market?t=${C}`,{headers:A,cache:"no-store"})]);if(oe.ok){const fe=await oe.json();if(fe.success&&fe.data&&fe.data.length>5){const tl=_h(fe.data);s(tl)}}if(He.ok){const fe=await He.json();a(fe),fe.news&&c(fe.news),fe.setups?f(fe.setups):f(p)}else f(p)}catch(C){console.error("Error fetching data:",C),f(p)}finally{n(!1)}};_.useEffect(()=>{g();const C=setInterval(()=>{g()},3e4);return()=>clearInterval(C)},[]);const x=C=>((C-t.price)/t.price*100).toFixed(2),w=(C,A)=>Math.abs(C-t.price)/t.price*100<.3?"EN TEST":A?C<t.price?"CASSE":"Fort":C>t.price?"CASSE":"Fort",v=C=>{switch(C){case"TRS POSITIF":return"bg-emerald-100 text-emerald-800 border-emerald-300";case"POSITIF":return"bg-green-100 text-green-800 border-green-300";case"ATTENTION":return"bg-amber-100 text-amber-800 border-amber-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}},y=d[r]||p[r],m=((bt=l==null?void 0:l.summary)==null?void 0:bt.yesterdayPrice)||t.price*.99,b=t.price,S=((qe=l==null?void 0:l.summary)==null?void 0:qe.variation24h)||b-m,k=((T=l==null?void 0:l.summary)==null?void 0:T.variation24hPercent)||S/m*100,j=m*1.001,P=b-j,O=((L=l==null?void 0:l.summary)==null?void 0:L.positivePoints)||["Donnes de march en cours de chargement..."],M=((I=l==null?void 0:l.summary)==null?void 0:I.alertPoints)||["Analyse en cours..."],B={open:((G=l==null?void 0:l.marketData)==null?void 0:G.open)||t.open||t.price*.999,high:((se=l==null?void 0:l.marketData)==null?void 0:se.high)||t.high||t.price,low:((ms=l==null?void 0:l.marketData)==null?void 0:ms.low)||t.low||t.price*.998,rsi:((dt=l==null?void 0:l.marketData)==null?void 0:dt.rsi)||50,signal:((Ds=l==null?void 0:l.marketData)==null?void 0:Ds.signal)||"Neutral"},Se=[{price:4381,type:"resistance",description:"Record Historique - All-Time High (20 Oct 2024)",strength:"Trs Fort"},{price:4356,type:"resistance",description:"Plus haut de 2024 - Zone de prise de profit institutionnelle",strength:"Trs Fort"},{price:4313,type:"resistance",description:"Extension Fibonacci 127.2% - Objectif court terme",strength:"Fort"},{price:4200,type:"support",description:"Niveau psychologique majeur - Zone de forte demande institutionnelle",strength:"Trs Fort"},{price:4171.41,type:"support",description:"Confluence technique : Fibonacci 61.8% + MA200",strength:"Fort"},{price:4167.3,type:"support",description:"Plus haut du jour prcdent - Support devenu rsistance recass",strength:"Fort"},{price:4040.6,type:"support",description:"MA50 quotidienne - Support moyen terme",strength:"Moyen"}],We=(C,A)=>{const oe=C-A;return{distance:oe,distancePoints:Math.abs(oe).toFixed(2),isAbove:oe>0}},ps=(C,A)=>{const{distance:oe,isAbove:He}=We(C.price,A),fe=2;return C.type==="resistance"?He?Math.abs(oe)<=fe?{status:"EN TEST",color:"bg-yellow-100 text-yellow-800 border-yellow-300"}:{status:C.strength,color:"bg-red-50 text-red-700 border-red-200"}:{status:"CASSE",color:"bg-green-100 text-green-800 border-green-300"}:He?{status:C.strength,color:"bg-green-50 text-green-700 border-green-200"}:Math.abs(oe)<=fe?{status:"EN TEST",color:"bg-yellow-100 text-yellow-800 border-yellow-300"}:{status:"CASS",color:"bg-red-100 text-red-800 border-red-300"}},Ft=C=>C==="Strong Buy"||C==="Buy"?"bg-green-500 text-white":C==="Sell"||C==="Strong Sell"?"bg-red-500 text-white":"bg-gray-500 text-white";return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-gradient-to-r from-emerald-500 to-green-600 rounded-xl shadow-lg p-6 text-white",children:[u.jsxs("div",{className:"flex items-start justify-between mb-6",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"bg-white/20 rounded-full p-2 animate-pulse",children:u.jsx(Dx,{className:"w-5 h-5"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold",children:"March en Hausse"}),u.jsx("p",{className:"text-sm text-emerald-50",children:"Analyse en temps rel - Mise  jour toutes les 30s"})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("div",{className:"text-3xl font-bold",children:[t.change>=0?"+":"",t.change.toFixed(2),"$"]}),u.jsxs("div",{className:"text-lg",children:[t.changePercent>=0?"+":"",t.changePercent.toFixed(2),"%"]}),u.jsx("div",{className:"mt-2",children:u.jsxs("span",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-full font-bold text-sm ${Ft(B.signal)} shadow-lg`,children:[u.jsx(Ge,{className:"w-4 h-4"}),B.signal]})})]})]}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-6",children:[u.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-3 border border-white/20",children:[u.jsx("div",{className:"text-xs text-emerald-100 mb-1",children:"Ouverture"}),u.jsxs("div",{className:"text-lg font-bold",children:["$",B.open.toFixed(2)]})]}),u.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-3 border border-white/20",children:[u.jsx("div",{className:"text-xs text-emerald-100 mb-1",children:"Plus Haut"}),u.jsxs("div",{className:"text-lg font-bold text-green-200",children:["$",B.high.toFixed(2)]})]}),u.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-3 border border-white/20",children:[u.jsx("div",{className:"text-xs text-emerald-100 mb-1",children:"Plus Bas"}),u.jsxs("div",{className:"text-lg font-bold text-red-200",children:["$",B.low.toFixed(2)]})]}),u.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-3 border border-white/20",children:[u.jsx("div",{className:"text-xs text-emerald-100 mb-1",children:"RSI"}),u.jsx("div",{className:"text-lg font-bold",children:B.rsi})]}),u.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-3 border border-white/20",children:[u.jsx("div",{className:"text-xs text-emerald-100 mb-1",children:"Signal"}),u.jsx("div",{className:"text-sm font-bold text-green-200",children:B.signal})]})]}),u.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 border border-white/20 mb-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("h3",{className:"text-sm font-bold text-emerald-100",children:"Tendance sur 24h"}),u.jsx(go,{className:"w-4 h-4 text-emerald-100"})]}),u.jsx("div",{className:"h-24 flex items-center justify-center text-emerald-100/60 text-sm",children:"Graphique de tendance - Intgration prochaine"})]}),u.jsxs("div",{className:"flex items-center gap-2 text-sm text-emerald-50",children:[u.jsx(Lx,{className:"w-4 h-4"}),u.jsxs("span",{children:["Mise  jour: ",t.lastUpdate.toLocaleTimeString("fr-FR")]})]})]}),u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsx("div",{className:"bg-gradient-to-br from-violet-500 to-blue-600 rounded-full p-2",children:u.jsx(ls,{className:"w-6 h-6 text-white"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Niveaux Techniques"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Supports et rsistances cls"})]})]}),u.jsx("div",{className:"space-y-3",children:Se.map((C,A)=>{const{distance:oe,distancePoints:He,isAbove:fe}=We(C.price,t.price),{status:tl,color:Ng}=ps(C,t.price);return u.jsxs("div",{className:`border-2 rounded-lg p-4 transition-all hover:shadow-md ${Ng}`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[C.type==="resistance"?u.jsx(Ge,{className:"w-5 h-5"}):u.jsx(Mm,{className:"w-5 h-5"}),u.jsxs("span",{className:"font-bold text-lg",children:["$",C.price.toFixed(2)]})]}),u.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold bg-white/50",children:tl})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("div",{className:`font-bold ${fe?"text-blue-600":"text-purple-600"}`,children:[fe?"+":"-",He," pts"]}),u.jsx("div",{className:"text-xs text-gray-600",children:fe?"Au-dessus":"En-dessous"})]})]}),u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsx("div",{className:"flex-1",children:u.jsx("p",{className:"text-sm font-medium",children:C.description})}),u.jsxs("div",{className:"ml-4 px-2 py-1 bg-white/50 rounded text-xs font-semibold whitespace-nowrap",children:["Force: ",C.strength]})]})]},A)})}),u.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:u.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-4 h-4 bg-green-100 border-2 border-green-300 rounded"}),u.jsx("span",{className:"text-gray-700",children:"Rsistance casse / Support actif"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-4 h-4 bg-yellow-100 border-2 border-yellow-300 rounded"}),u.jsx("span",{className:"text-gray-700",children:"En test"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-4 h-4 bg-red-50 border-2 border-red-200 rounded"}),u.jsx("span",{className:"text-gray-700",children:"Rsistance active"})]})]})})]}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Slection du Setup"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.values(d).map(C=>{const A=r===C.id;return u.jsx("button",{onClick:()=>o(C.id),className:`text-left transition-all duration-300 transform ${A?"scale-105 shadow-2xl":"scale-100 shadow-lg hover:shadow-xl hover:scale-102"}`,children:u.jsxs("div",{className:`rounded-xl p-6 border-4 ${A?"bg-gradient-to-br from-emerald-500 to-green-600 border-white":"bg-white border-gray-200"}`,children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("h3",{className:`text-2xl font-bold mb-2 ${A?"text-white":"text-gray-900"}`,children:C.name}),u.jsx("p",{className:`text-sm ${A?"text-emerald-50":"text-gray-600"}`,children:C.description})]}),A&&u.jsx(Rl,{className:"w-8 h-8 text-white"})]}),u.jsx("div",{className:`text-sm font-semibold ${A?"text-white bg-white/20":"text-indigo-600 bg-indigo-50"} px-4 py-2 rounded-lg`,children:A?"Setup Actif":"Cliquer pour activer"})]})},C.id)})})]}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"volution depuis hier"}),u.jsx("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl shadow-lg p-6 border-2 border-green-200 mb-4",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"bg-white rounded-xl p-6 border-2 border-gray-200",children:[u.jsx("div",{className:"text-sm text-gray-600 mb-2 font-semibold",children:"Prix Hier"}),u.jsxs("div",{className:"text-3xl font-bold text-gray-700",children:["$",m.toFixed(2)]}),u.jsx("div",{className:"text-xs text-gray-500 mt-2",children:"Clture 11/12/2025"})]}),u.jsxs("div",{className:"bg-white rounded-xl p-6 border-4 border-green-500 shadow-lg transform scale-105",children:[u.jsxs("div",{className:"text-sm text-green-700 mb-2 font-semibold flex items-center gap-2",children:[u.jsx(Cx,{className:"w-4 h-4"}),"Prix Aujourd'hui"]}),u.jsxs("div",{className:"text-4xl font-bold text-green-600",children:["$",b.toFixed(2)]}),u.jsx("div",{className:"text-xs text-green-700 mt-2",children:"En temps rel"})]}),u.jsxs("div",{className:"bg-white rounded-xl p-6 border-2 border-gray-200",children:[u.jsx("div",{className:"text-sm text-gray-600 mb-2 font-semibold",children:"Variation 24H"}),u.jsxs("div",{className:`text-3xl font-bold ${S>=0?"text-green-600":"text-red-600"}`,children:[S>=0?"+":"",S.toFixed(2),"$"]}),u.jsxs("div",{className:`text-lg font-semibold mt-1 ${S>=0?"text-green-600":"text-red-600"}`,children:[S>=0?"+":"",k.toFixed(2),"%"]})]})]})}),u.jsx("div",{className:"bg-gradient-to-r from-green-600 to-emerald-700 rounded-xl shadow-lg p-6 text-white text-center",children:u.jsxs("div",{className:"flex items-center justify-center gap-3",children:[u.jsx(Ge,{className:"w-6 h-6"}),u.jsxs("p",{className:"text-xl font-bold",children:["Le Setup d'hier (achat  $",j.toFixed(2),") aurait donn"," ",u.jsxs("span",{className:"text-2xl text-emerald-100",children:["+",P.toFixed(0)," points"]})," ","de profit"]})]})})]}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Rsum de la Journe"}),u.jsx("div",{className:"bg-gradient-to-br from-green-400 to-emerald-600 rounded-xl shadow-lg p-8",children:u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-white/90 backdrop-blur-md rounded-xl shadow-xl p-6 border border-white/50",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"bg-green-100 rounded-full p-2",children:u.jsx(Ge,{className:"w-6 h-6 text-green-600"})}),u.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Points Positifs"})]}),u.jsx("ul",{className:"space-y-3",children:O.map((C,A)=>u.jsxs("li",{className:"flex items-start gap-3 group",children:[u.jsx("div",{className:"flex-shrink-0 mt-1",children:u.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full group-hover:scale-125 transition-transform"})}),u.jsx("span",{className:"text-gray-700 leading-relaxed",children:C})]},A))})]}),u.jsxs("div",{className:"bg-white/90 backdrop-blur-md rounded-xl shadow-xl p-6 border border-white/50",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"bg-amber-100 rounded-full p-2",children:u.jsx(Ga,{className:"w-6 h-6 text-amber-600"})}),u.jsx("h3",{className:"text-xl font-bold text-gray-900",children:" Surveiller"})]}),u.jsx("ul",{className:"space-y-3",children:M.map((C,A)=>u.jsxs("li",{className:"flex items-start gap-3 group",children:[u.jsx("div",{className:"flex-shrink-0 mt-1",children:u.jsx("div",{className:"w-2 h-2 bg-amber-500 rounded-full group-hover:scale-125 transition-transform"})}),u.jsx("span",{className:"text-gray-700 leading-relaxed",children:C})]},A))})]})]})})]}),u.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl shadow-lg p-6 text-white",children:[u.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Situation Actuelle"}),u.jsx("p",{className:"text-blue-50 leading-relaxed text-lg",children:y.situation})]}),u.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 border-4 border-indigo-500",children:u.jsxs("div",{className:"flex items-start gap-3 mb-2",children:[u.jsx(ls,{className:"w-6 h-6 text-indigo-600 flex-shrink-0 mt-1"}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Action Recommande"}),u.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:y.recommendation})]})]})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden border-2 border-blue-200",children:[u.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 p-4 text-white",children:u.jsx("h3",{className:"text-lg font-bold",children:"ENTRE"})}),u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:["$",y.entry.price]}),u.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:y.entry.condition})]})]}),u.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden border-2 border-red-200",children:[u.jsx("div",{className:"bg-gradient-to-r from-red-500 to-red-600 p-4 text-white",children:u.jsx("h3",{className:"text-lg font-bold",children:"STOP LOSS"})}),u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"text-3xl font-bold text-red-600 mb-2",children:["$",y.stopLoss.price]}),u.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:y.stopLoss.reason})]})]}),u.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden border-2 border-green-200",children:[u.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 p-4 text-white",children:u.jsx("h3",{className:"text-lg font-bold",children:"OBJECTIFS"})}),u.jsx("div",{className:"p-6",children:u.jsx("div",{className:"space-y-4",children:y.takeProfits.map(C=>u.jsxs("div",{className:"border-l-4 border-green-500 pl-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsxs("span",{className:"text-sm font-bold text-gray-700",children:["TP",C.level]}),u.jsx("span",{className:"text-xs font-bold text-green-700 bg-green-100 px-2 py-1 rounded",children:C.ratio})]}),u.jsxs("div",{className:"text-xl font-bold text-green-600 mb-1",children:["$",C.price]}),u.jsx("p",{className:"text-xs text-gray-600",children:C.action})]},C.level))})})]})]}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Analyse Complte"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[u.jsx("div",{className:"bg-gradient-to-r from-violet-500 to-purple-600 p-4 text-white",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(go,{className:"w-5 h-5"}),u.jsx("h3",{className:"text-lg font-bold",children:"Analyse Technique"})]})}),u.jsx("div",{className:"p-6",children:u.jsx("ul",{className:"space-y-3",children:y.technicalAnalysis.map((C,A)=>u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx(Rl,{className:"w-4 h-4 text-violet-600 flex-shrink-0 mt-0.5"}),u.jsx("span",{className:"text-sm text-gray-700",children:C})]},A))})})]}),u.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[u.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-cyan-600 p-4 text-white",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Fx,{className:"w-5 h-5"}),u.jsx("h3",{className:"text-lg font-bold",children:"Analyse Fondamentale"})]})}),u.jsx("div",{className:"p-6",children:u.jsx("ul",{className:"space-y-3",children:y.fundamentalAnalysis.map((C,A)=>u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx(Rl,{className:"w-4 h-4 text-blue-600 flex-shrink-0 mt-0.5"}),u.jsx("span",{className:"text-sm text-gray-700",children:C})]},A))})})]}),u.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[u.jsx("div",{className:"bg-gradient-to-r from-amber-500 to-orange-600 p-4 text-white",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Wx,{className:"w-5 h-5"}),u.jsx("h3",{className:"text-lg font-bold",children:"Catalyseurs"})]})}),u.jsx("div",{className:"p-6",children:u.jsx("ul",{className:"space-y-3",children:y.catalysts.map((C,A)=>u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx(Rm,{className:"w-4 h-4 text-amber-600 flex-shrink-0 mt-0.5"}),u.jsx("span",{className:"text-sm text-gray-700",children:C})]},A))})})]})]})]}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Actualits du Jour"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:h.map(C=>u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border-2 border-gray-100 hover:border-indigo-200 transition-all",children:[u.jsxs("div",{className:"flex items-start justify-between mb-3",children:[u.jsx("span",{className:"text-sm text-gray-500 font-medium",children:C.time}),u.jsx("span",{className:`text-xs font-bold px-3 py-1 rounded-full border ${v(C.type)}`,children:C.type})]}),u.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:C.title}),u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx(Ge,{className:"w-4 h-4 text-indigo-600"}),u.jsx("span",{className:"text-sm font-semibold text-indigo-600",children:C.impact})]}),u.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:C.description})]},C.id))})]}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Niveaux Cls"}),i?u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-12 text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600",children:"Chargement des niveaux..."})]}):u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[u.jsxs("div",{className:"bg-red-50 border-b-2 border-red-200 p-4",children:[u.jsx("h3",{className:"text-lg font-bold text-red-900",children:" Rsistances"}),u.jsx("p",{className:"text-sm text-red-700 mt-1",children:"Niveaux de vente potentiels"})]}),u.jsx("div",{className:"p-6",children:e.resistances.length>0?u.jsx("div",{className:"space-y-4",children:e.resistances.map((C,A)=>{const oe=w(C.price,!0),He=x(C.price);return u.jsxs("div",{className:"border-l-4 border-red-500 pl-4 py-3 bg-red-50/50 rounded-r-lg",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("span",{className:"font-bold text-gray-900",children:["R",A+1]}),u.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded ${oe==="CASSE"?"bg-gray-200 text-gray-700":oe==="EN TEST"?"bg-orange-200 text-orange-800":"bg-red-200 text-red-800"}`,children:oe})]}),u.jsxs("div",{className:"flex items-baseline justify-between",children:[u.jsxs("span",{className:"text-2xl font-bold text-red-600",children:["$",C.price.toFixed(2)]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("div",{className:"text-sm text-gray-600",children:["Distance: ",He,"%"]}),u.jsxs("div",{className:"text-xs text-gray-500",children:["Force: ",C.strength,"/10"]})]})]})]},A)})}):u.jsx("p",{className:"text-center text-gray-500 py-8",children:"Aucune rsistance dtecte"})})]}),u.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[u.jsxs("div",{className:"bg-green-50 border-b-2 border-green-200 p-4",children:[u.jsx("h3",{className:"text-lg font-bold text-green-900",children:" Supports"}),u.jsx("p",{className:"text-sm text-green-700 mt-1",children:"Niveaux d'achat potentiels"})]}),u.jsx("div",{className:"p-6",children:e.supports.length>0?u.jsx("div",{className:"space-y-4",children:e.supports.map((C,A)=>{const oe=w(C.price,!1),He=x(C.price);return u.jsxs("div",{className:"border-l-4 border-green-500 pl-4 py-3 bg-green-50/50 rounded-r-lg",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("span",{className:"font-bold text-gray-900",children:["S",A+1]}),u.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded ${oe==="CASSE"?"bg-gray-200 text-gray-700":oe==="EN TEST"?"bg-orange-200 text-orange-800":"bg-green-200 text-green-800"}`,children:oe})]}),u.jsxs("div",{className:"flex items-baseline justify-between",children:[u.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["$",C.price.toFixed(2)]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("div",{className:"text-sm text-gray-600",children:["Distance: ",He,"%"]}),u.jsxs("div",{className:"text-xs text-gray-500",children:["Force: ",C.strength,"/10"]})]})]})]},A)})}):u.jsx("p",{className:"text-center text-gray-500 py-8",children:"Aucun support dtect"})})]})]})]})]})}function $S(){return u.jsx(mx,{children:u.jsx(qx,{children:u.jsx(Gx,{children:u.jsxs(Hy,{children:[u.jsx(Vt,{path:"/",element:u.jsx(Wy,{to:"/dashboard",replace:!0})}),u.jsx(Vt,{path:"/dashboard",element:u.jsx(hb,{})}),u.jsx(Vt,{path:"/analysis",element:u.jsx(IS,{})}),u.jsx(Vt,{path:"/opportunities",element:u.jsx(PS,{})}),u.jsx(Vt,{path:"/journal",element:u.jsx(RS,{})}),u.jsx(Vt,{path:"/risk",element:u.jsx(OS,{})}),u.jsx(Vt,{path:"/education",element:u.jsx(LS,{})})]})})})})}mm(document.getElementById("root")).render(u.jsx(_.StrictMode,{children:u.jsx($S,{})}));
